"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const _=require("react");function Bc(n){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const t in n)if(t!=="default"){const r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:()=>n[t]})}}return e.default=n,Object.freeze(e)}const ze=Bc(_);var te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Yr={exports:{}},tn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var so;function zc(){if(so)return tn;so=1;var n=_,e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(c,p,f){var d,h={},m=null,y=null;f!==void 0&&(m=""+f),p.key!==void 0&&(m=""+p.key),p.ref!==void 0&&(y=p.ref);for(d in p)r.call(p,d)&&!o.hasOwnProperty(d)&&(h[d]=p[d]);if(c&&c.defaultProps)for(d in p=c.defaultProps,p)h[d]===void 0&&(h[d]=p[d]);return{$$typeof:e,type:c,key:m,ref:y,props:h,_owner:s.current}}return tn.Fragment=t,tn.jsx=a,tn.jsxs=a,tn}var nn={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oo;function Nc(){return oo||(oo=1,process.env.NODE_ENV!=="production"&&function(){var n=_,e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),v=Symbol.iterator,S="@@iterator";function P(C){if(C===null||typeof C!="object")return null;var H=v&&C[v]||C[S];return typeof H=="function"?H:null}var O=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function T(C){{for(var H=arguments.length,W=new Array(H>1?H-1:0),se=1;se<H;se++)W[se-1]=arguments[se];A("error",C,W)}}function A(C,H,W){{var se=O.ReactDebugCurrentFrame,he=se.getStackAddendum();he!==""&&(H+="%s",W=W.concat([he]));var ke=W.map(function(ue){return String(ue)});ke.unshift("Warning: "+H),Function.prototype.apply.call(console[C],console,ke)}}var i=!1,u=!1,l=!1,g=!1,k=!1,w;w=Symbol.for("react.module.reference");function b(C){return!!(typeof C=="string"||typeof C=="function"||C===r||C===o||k||C===s||C===f||C===d||g||C===y||i||u||l||typeof C=="object"&&C!==null&&(C.$$typeof===m||C.$$typeof===h||C.$$typeof===a||C.$$typeof===c||C.$$typeof===p||C.$$typeof===w||C.getModuleId!==void 0))}function E(C,H,W){var se=C.displayName;if(se)return se;var he=H.displayName||H.name||"";return he!==""?W+"("+he+")":W}function L(C){return C.displayName||"Context"}function D(C){if(C==null)return null;if(typeof C.tag=="number"&&T("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof C=="function")return C.displayName||C.name||null;if(typeof C=="string")return C;switch(C){case r:return"Fragment";case t:return"Portal";case o:return"Profiler";case s:return"StrictMode";case f:return"Suspense";case d:return"SuspenseList"}if(typeof C=="object")switch(C.$$typeof){case c:var H=C;return L(H)+".Consumer";case a:var W=C;return L(W._context)+".Provider";case p:return E(C,C.render,"ForwardRef");case h:var se=C.displayName||null;return se!==null?se:D(C.type)||"Memo";case m:{var he=C,ke=he._payload,ue=he._init;try{return D(ue(ke))}catch{return null}}}return null}var R=Object.assign,j=0,x,q,$,N,M,B,V;function Q(){}Q.__reactDisabledLog=!0;function Z(){{if(j===0){x=console.log,q=console.info,$=console.warn,N=console.error,M=console.group,B=console.groupCollapsed,V=console.groupEnd;var C={configurable:!0,enumerable:!0,value:Q,writable:!0};Object.defineProperties(console,{info:C,log:C,warn:C,error:C,group:C,groupCollapsed:C,groupEnd:C})}j++}}function ee(){{if(j--,j===0){var C={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:R({},C,{value:x}),info:R({},C,{value:q}),warn:R({},C,{value:$}),error:R({},C,{value:N}),group:R({},C,{value:M}),groupCollapsed:R({},C,{value:B}),groupEnd:R({},C,{value:V})})}j<0&&T("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Y=O.ReactCurrentDispatcher,X;function J(C,H,W){{if(X===void 0)try{throw Error()}catch(he){var se=he.stack.trim().match(/\n( *(at )?)/);X=se&&se[1]||""}return`
`+X+C}}var ae=!1,re;{var we=typeof WeakMap=="function"?WeakMap:Map;re=new we}function U(C,H){if(!C||ae)return"";{var W=re.get(C);if(W!==void 0)return W}var se;ae=!0;var he=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var ke;ke=Y.current,Y.current=null,Z();try{if(H){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(He){se=He}Reflect.construct(C,[],ue)}else{try{ue.call()}catch(He){se=He}C.call(ue.prototype)}}else{try{throw Error()}catch(He){se=He}C()}}catch(He){if(He&&se&&typeof He.stack=="string"){for(var ie=He.stack.split(`
`),Ne=se.stack.split(`
`),Ie=ie.length-1,De=Ne.length-1;Ie>=1&&De>=0&&ie[Ie]!==Ne[De];)De--;for(;Ie>=1&&De>=0;Ie--,De--)if(ie[Ie]!==Ne[De]){if(Ie!==1||De!==1)do if(Ie--,De--,De<0||ie[Ie]!==Ne[De]){var tt=`
`+ie[Ie].replace(" at new "," at ");return C.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",C.displayName)),typeof C=="function"&&re.set(C,tt),tt}while(Ie>=1&&De>=0);break}}}finally{ae=!1,Y.current=ke,ee(),Error.prepareStackTrace=he}var Bt=C?C.displayName||C.name:"",xt=Bt?J(Bt):"";return typeof C=="function"&&re.set(C,xt),xt}function Pe(C,H,W){return U(C,!1)}function et(C){var H=C.prototype;return!!(H&&H.isReactComponent)}function Ge(C,H,W){if(C==null)return"";if(typeof C=="function")return U(C,et(C));if(typeof C=="string")return J(C);switch(C){case f:return J("Suspense");case d:return J("SuspenseList")}if(typeof C=="object")switch(C.$$typeof){case p:return Pe(C.render);case h:return Ge(C.type,H,W);case m:{var se=C,he=se._payload,ke=se._init;try{return Ge(ke(he),H,W)}catch{}}}return""}var z=Object.prototype.hasOwnProperty,G={},ne=O.ReactDebugCurrentFrame;function de(C){if(C){var H=C._owner,W=Ge(C.type,C._source,H?H.type:null);ne.setExtraStackFrame(W)}else ne.setExtraStackFrame(null)}function Se(C,H,W,se,he){{var ke=Function.call.bind(z);for(var ue in C)if(ke(C,ue)){var ie=void 0;try{if(typeof C[ue]!="function"){var Ne=Error((se||"React class")+": "+W+" type `"+ue+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof C[ue]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Ne.name="Invariant Violation",Ne}ie=C[ue](H,ue,se,W,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Ie){ie=Ie}ie&&!(ie instanceof Error)&&(de(he),T("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",se||"React class",W,ue,typeof ie),de(null)),ie instanceof Error&&!(ie.message in G)&&(G[ie.message]=!0,de(he),T("Failed %s type: %s",W,ie.message),de(null))}}}var _e=Array.isArray;function le(C){return _e(C)}function Re(C){{var H=typeof Symbol=="function"&&Symbol.toStringTag,W=H&&C[Symbol.toStringTag]||C.constructor.name||"Object";return W}}function F(C){try{return K(C),!1}catch{return!0}}function K(C){return""+C}function pe(C){if(F(C))return T("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Re(C)),K(C)}var fe=O.ReactCurrentOwner,Le={key:!0,ref:!0,__self:!0,__source:!0},rt,ft,kt;kt={};function Yt(C){if(z.call(C,"ref")){var H=Object.getOwnPropertyDescriptor(C,"ref").get;if(H&&H.isReactWarning)return!1}return C.ref!==void 0}function Qt(C){if(z.call(C,"key")){var H=Object.getOwnPropertyDescriptor(C,"key").get;if(H&&H.isReactWarning)return!1}return C.key!==void 0}function Mt(C,H){if(typeof C.ref=="string"&&fe.current&&H&&fe.current.stateNode!==H){var W=D(fe.current.type);kt[W]||(T('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',D(fe.current.type),C.ref),kt[W]=!0)}}function Zt(C,H){{var W=function(){rt||(rt=!0,T("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",H))};W.isReactWarning=!0,Object.defineProperty(C,"key",{get:W,configurable:!0})}}function Xt(C,H){{var W=function(){ft||(ft=!0,T("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",H))};W.isReactWarning=!0,Object.defineProperty(C,"ref",{get:W,configurable:!0})}}var Kt=function(C,H,W,se,he,ke,ue){var ie={$$typeof:e,type:C,key:H,ref:W,props:ue,_owner:ke};return ie._store={},Object.defineProperty(ie._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(ie,"_self",{configurable:!1,enumerable:!1,writable:!1,value:se}),Object.defineProperty(ie,"_source",{configurable:!1,enumerable:!1,writable:!1,value:he}),Object.freeze&&(Object.freeze(ie.props),Object.freeze(ie)),ie};function Jt(C,H,W,se,he){{var ke,ue={},ie=null,Ne=null;W!==void 0&&(pe(W),ie=""+W),Qt(H)&&(pe(H.key),ie=""+H.key),Yt(H)&&(Ne=H.ref,Mt(H,he));for(ke in H)z.call(H,ke)&&!Le.hasOwnProperty(ke)&&(ue[ke]=H[ke]);if(C&&C.defaultProps){var Ie=C.defaultProps;for(ke in Ie)ue[ke]===void 0&&(ue[ke]=Ie[ke])}if(ie||Ne){var De=typeof C=="function"?C.displayName||C.name||"Unknown":C;ie&&Zt(ue,De),Ne&&Xt(ue,De)}return Kt(C,ie,Ne,he,se,fe.current,ue)}}var en=O.ReactCurrentOwner,Xs=O.ReactDebugCurrentFrame;function jt(C){if(C){var H=C._owner,W=Ge(C.type,C._source,H?H.type:null);Xs.setExtraStackFrame(W)}else Xs.setExtraStackFrame(null)}var Er;Er=!1;function Ar(C){return typeof C=="object"&&C!==null&&C.$$typeof===e}function Ks(){{if(en.current){var C=D(en.current.type);if(C)return`

Check the render method of \``+C+"`."}return""}}function Ac(C){return""}var Js={};function Tc(C){{var H=Ks();if(!H){var W=typeof C=="string"?C:C.displayName||C.name;W&&(H=`

Check the top-level render call using <`+W+">.")}return H}}function eo(C,H){{if(!C._store||C._store.validated||C.key!=null)return;C._store.validated=!0;var W=Tc(H);if(Js[W])return;Js[W]=!0;var se="";C&&C._owner&&C._owner!==en.current&&(se=" It was passed a child from "+D(C._owner.type)+"."),jt(C),T('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',W,se),jt(null)}}function to(C,H){{if(typeof C!="object")return;if(le(C))for(var W=0;W<C.length;W++){var se=C[W];Ar(se)&&eo(se,H)}else if(Ar(C))C._store&&(C._store.validated=!0);else if(C){var he=P(C);if(typeof he=="function"&&he!==C.entries)for(var ke=he.call(C),ue;!(ue=ke.next()).done;)Ar(ue.value)&&eo(ue.value,H)}}}function Pc(C){{var H=C.type;if(H==null||typeof H=="string")return;var W;if(typeof H=="function")W=H.propTypes;else if(typeof H=="object"&&(H.$$typeof===p||H.$$typeof===h))W=H.propTypes;else return;if(W){var se=D(H);Se(W,C.props,"prop",se,C)}else if(H.PropTypes!==void 0&&!Er){Er=!0;var he=D(H);T("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",he||"Unknown")}typeof H.getDefaultProps=="function"&&!H.getDefaultProps.isReactClassApproved&&T("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ic(C){{for(var H=Object.keys(C.props),W=0;W<H.length;W++){var se=H[W];if(se!=="children"&&se!=="key"){jt(C),T("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",se),jt(null);break}}C.ref!==null&&(jt(C),T("Invalid attribute `ref` supplied to `React.Fragment`."),jt(null))}}var no={};function ro(C,H,W,se,he,ke){{var ue=b(C);if(!ue){var ie="";(C===void 0||typeof C=="object"&&C!==null&&Object.keys(C).length===0)&&(ie+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Ne=Ac();Ne?ie+=Ne:ie+=Ks();var Ie;C===null?Ie="null":le(C)?Ie="array":C!==void 0&&C.$$typeof===e?(Ie="<"+(D(C.type)||"Unknown")+" />",ie=" Did you accidentally export a JSX literal instead of a component?"):Ie=typeof C,T("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Ie,ie)}var De=Jt(C,H,W,he,ke);if(De==null)return De;if(ue){var tt=H.children;if(tt!==void 0)if(se)if(le(tt)){for(var Bt=0;Bt<tt.length;Bt++)to(tt[Bt],C);Object.freeze&&Object.freeze(tt)}else T("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else to(tt,C)}if(z.call(H,"key")){var xt=D(C),He=Object.keys(H).filter(function(jc){return jc!=="key"}),Tr=He.length>0?"{key: someKey, "+He.join(": ..., ")+": ...}":"{key: someKey}";if(!no[xt+Tr]){var Mc=He.length>0?"{"+He.join(": ..., ")+": ...}":"{}";T(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Tr,xt,Mc,xt),no[xt+Tr]=!0}}return C===r?Ic(De):Pc(De),De}}function Rc(C,H,W){return ro(C,H,W,!0)}function Dc(C,H,W){return ro(C,H,W,!1)}var Lc=Dc,Oc=Rc;nn.Fragment=r,nn.jsx=Lc,nn.jsxs=Oc}()),nn}process.env.NODE_ENV==="production"?Yr.exports=zc():Yr.exports=Nc();var I=Yr.exports,$c=Object.defineProperty,In=(n,e,t)=>((r,s,o)=>s in r?$c(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o)(n,typeof e!="symbol"?e+"":e,t);class vt extends Error{constructor(e={}){super(e.message),In(this,"exceptionId"),In(this,"message"),In(this,"source"),In(this,"type"),this.message=e.message??"",this.source=e.source,this.type=this.constructor.name,this.exceptionId=e.exceptionId}}class St extends vt{}class Xn extends vt{}const oe=n=>{typeof n!="string"?n&&typeof n.toString=="function"?console.warn(`[nlux] ${n.toString()}`):console.warn("[nlux]"):console.warn(`[nlux] ${n}`)},ao=[],Qr=n=>{ao.includes(n)||(ao.push(n),oe(n))},Da=class Wn{static register(e){const t=e.__compId;t?Wn.componentDefs.get(t)===void 0&&(e.__renderer&&e.__updater?Wn.componentDefs.set(t,{id:t,model:e,render:e.__renderer,update:e.__updater}):oe(`Component with id "${t}" missing renderer or updater`)):oe("Component definition missing valid id")}static retrieve(e){const t=Wn.componentDefs.get(e);if(t)return t;oe(`Component with id "${e}" not registered`)}};Da.componentDefs=new Map;let La=Da;btoa("sectionsRegistered")+"";const dt=n=>{const e=requestAnimationFrame(()=>{n()});return()=>{cancelAnimationFrame(e)}},vn=n=>{n.replaceChildren()},st=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const e=16*Math.random()|0;return(n=="x"?e:3&e|8).toString(16)});class nt{constructor(e,t){this.subComponentElementIds=new Map,this.subComponents=new Map,this.__context=null,this.__destroyed=!1,this.__status="unmounted",this.actionsOnDomReady=[],this.compEventGetter=a=>{if(this.destroyed)return()=>{};const c=this.rendererEventListeners.get(a);if(!c)throw new vt({source:this.constructor.name,message:`Unable to call renderer event "${a}" because no matching event listener was found. Make sure that the event listener is registered using @CompEventListener() decorator in the component model class, and use class methods instead of arrow function attributes.`});return c};const r=Object.getPrototypeOf(this).constructor.__compId;if(!r)throw new St({source:this.constructor.name,message:"Unable to instantiate component: missing compId in implementation. Component should be annotated using @Model() to set compId before iy can be instantiated."});if(this.def=La.retrieve(r)??null,!this.def)throw new St({source:this.constructor.name,message:`Unable to instantiate component "${r}" because it's not registered. Component should be registered using CompRegistry.register(ComponentClass) before instantiating a component.`});this.__instanceId=st(),this.__destroyed=!1,this.__context=e,this.renderedDom=null,this.renderingRoot=null,this.props=t;const s=t?Object.entries(t):[];this.elementProps=new Map(s),this.rendererEventListeners=new Map;const o=this.constructor.__compEventListeners;o&&o.forEach((a,c)=>{a.forEach(p=>{const f=Object.getPrototypeOf(this)[p];typeof f=="function"?this.addRendererEventListener(c,f.bind(this)):oe(`Unable to set event listener "${c}" because method "${p}" cannot be found on component "${this.constructor.name} at runtime!"`)})}),this.rendererProps=Object.freeze(t)}get destroyed(){return this.__destroyed}get id(){return this.__instanceId}get rendered(){return this.renderedDom!==null}get root(){return this.throwIfDestroyed(),this.renderedDom&&this.renderingRoot?this.renderingRoot:null}get status(){return this.__status}get context(){if(!this.__context)throw new St({source:this.constructor.name,message:"Unable to get context because it's not set"});return this.__context}destroy(){this.destroyComponent()}destroyListItemComponent(){this.destroyComponent(!0)}getProp(e){return this.throwIfDestroyed(),this.elementProps.get(e)??null}render(e,t){var a;if(!this.def)return;if(this.destroyed)return void oe(`Unable to render component "${(a=this.def)==null?void 0:a.id}" because it is already destroyed`);if(this.rendered||this.renderedDom)return void oe(`Unable to render component "${this.def.id}" because it is already rendered`);const r=document.createDocumentFragment(),s=Object.getPrototypeOf(this).constructor.__compId,o=this.executeRenderer(r);if(!o)throw new vt({source:this.constructor.name,message:`Unable to render component "${s}" because renderer returned null`});this.renderedDom=o;for(const[,c]of this.subComponents){const p=this.getSubComponentPortal(c.id);p&&this.mountSubComponentToPortal(c.id,p)}dt(()=>{this.destroyed||(t?e.insertBefore(r,t):e.append(r),this.renderingRoot=e)})}updateSubComponent(e,t,r){this.throwIfDestroyed();const s=this.subComponents.get(e);s&&!s.destroyed&&s.setProp(t,r)}addSubComponent(e,t,r){if(this.throwIfDestroyed(),this.subComponents.has(e))throw new St({source:this.constructor.name,message:`Unable to add sub-component "${e}" because it already exists`});if(this.subComponents.set(e,t),r&&this.subComponentElementIds.set(e,r),this.renderedDom){const s=this.getSubComponentPortal(e);s&&this.mountSubComponentToPortal(e,s)}}executeDomAction(e,...t){if(this.throwIfDestroyed(),!this.renderedDom)return void this.actionsOnDomReady.push(()=>this.executeDomAction(e,...t));if(!this.renderingRoot)throw new vt({source:this.constructor.name,message:"Unable to execute DOM action because renderingRoot is not set"});const r=this.renderedDom.actions[e];if(!r)throw new vt({source:this.constructor.name,message:`Unable to execute DOM action "${String(e)}" because it does not exist`});return dt(()=>r(...t))}executeRenderer(e){var s;const t=(s=this.def)==null?void 0:s.render;if(!t)return null;if(this.renderingRoot)throw new vt({source:this.constructor.name,message:"Unable to render component because renderingRoot is already set"});const r=t({appendToRoot:o=>{e.append(o),this.runDomActionsQueue()},compEvent:this.compEventGetter,props:this.rendererProps,context:this.context});return r&&(this.renderingRoot=e),r}removeSubComponent(e){this.throwIfDestroyed(),dt(()=>{const t=this.subComponents.get(e);t&&(t.renderingRoot=null,t.destroy(),this.subComponents.delete(e))})}runDomActionsQueue(){if(this.actionsOnDomReady.length>0&&this.rendered){const e=this.actionsOnDomReady;this.actionsOnDomReady=[];for(const t of e)dt(()=>t())}}setProp(e,t){this.destroyed?oe(`Unable to set prop "${String(e)}" because component "${this.constructor.name}" is destroyed`):this.elementProps.has(e)?(this.schedulePropUpdate(e,this.elementProps.get(e),t),this.props=Object.freeze(Object.fromEntries(this.elementProps)),this.elementProps.set(e,t)):oe(`Unable to set prop "${String(e)}" because it does not exist in the component props`)}throwIfDestroyed(){if(this.__destroyed)throw new St({source:this.constructor.name,message:"Unable to call method on destroyed component"})}addRendererEventListener(e,t){if(this.throwIfDestroyed(),this.rendererEventListeners.has(e))throw new St({source:this.constructor.name,message:`Unable to add event listener to rendererEvents "${e}" because it already exists`});this.rendererEventListeners.set(e,t)}destroyComponent(e=!1){if(this.throwIfDestroyed(),this.subComponents.forEach(t=>{t.destroy()}),this.renderedDom){this.renderedDom.elements&&(this.renderedDom.elements=void 0),this.renderedDom.actions&&(this.renderedDom.actions=void 0),this.renderedDom.onDestroy&&this.renderedDom.onDestroy();const t=this.renderingRoot;dt(()=>{var r;if(t)if(t instanceof DocumentFragment)for(;t.firstChild;)t.removeChild(t.firstChild);else e?(r=t.parentElement)==null||r.removeChild(t):vn(t)}),this.renderedDom=null,this.renderingRoot=null}this.__destroyed=!0,this.__context=null,this.props=void 0,this.elementProps.clear(),this.rendererEventListeners.clear(),this.subComponents.clear()}getSubComponentPortal(e){var o;const t=this.subComponents.get(e),r=this.subComponentElementIds.get(e);if(!t||!r)return null;const s=((o=this.renderedDom)==null?void 0:o.elements)[r];return s instanceof HTMLElement?s:null}mountSubComponentToPortal(e,t){const r=this.subComponents.get(e);r==null||r.render(t)}schedulePropUpdate(e,t,r){var c;if(!this.renderedDom||!((c=this.def)!=null&&c.update))return;const s=this.renderedDom,o=this.renderingRoot,a=this.def.update;o&&dt(()=>{a({propName:e,currentValue:t,newValue:r,dom:{root:o,elements:s.elements,actions:s.actions},updateSubComponent:this.updateSubComponent})})}}nt.__compEventListeners=null,nt.__compId=null,nt.__renderer=null,nt.__updater=null;const wt=(n,e,t)=>r=>{r.__compId=n,r.__renderer=e,r.__updater=t},ot=n=>(e,t)=>{const r=e;if(typeof r.constructor!="function")throw new St({source:"CallbackFor",message:"@CallbackFor can only be used on methods of a class!"});r.constructor.hasOwnProperty("__compEventListeners")&&r.constructor.__compEventListeners!==null||(r.constructor.__compEventListeners=new Map);const s=r.constructor.__compEventListeners,o=s.get(n);o?o.push(t):s.set(n,[t])};function Hc(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Dt={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function io(n){Dt=n}var Fc=Object.defineProperty,Oa=(n,e,t)=>((r,s,o)=>s in r?Fc(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o)(n,typeof e!="symbol"?e+"":e,t);let dn=class{constructor(e){Oa(this,"options"),this.options=e||Dt}postprocess(e){return e}preprocess(e){return e}processAllTokens(e){return e}};Oa(dn,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));const Ma=/[&<>"']/,Uc=new RegExp(Ma.source,"g"),ja=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Vc=new RegExp(ja.source,"g"),Gc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},co=n=>Gc[n];function Ye(n,e){if(e){if(Ma.test(n))return n.replace(Uc,co)}else if(ja.test(n))return n.replace(Vc,co);return n}const Wc=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Yc(n){return n.replace(Wc,(e,t)=>(t=t.toLowerCase())==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const Qc=/(^|[^\[])\^/g;function ve(n,e){let t=typeof n=="string"?n:n.source;e=e||"";const r={replace:(s,o)=>{let a=typeof o=="string"?o:o.source;return a=a.replace(Qc,"$1"),t=t.replace(s,a),r},getRegex:()=>new RegExp(t,e)};return r}function uo(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const ln={exec:()=>null};function lo(n,e){const t=n.replace(/\|/g,(s,o,a)=>{let c=!1,p=o;for(;--p>=0&&a[p]==="\\";)c=!c;return c?"|":" |"}).split(/ \|/);let r=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),e)if(t.length>e)t.splice(e);else for(;t.length<e;)t.push("");for(;r<t.length;r++)t[r]=t[r].trim().replace(/\\\|/g,"|");return t}function Rn(n,e,t){const r=n.length;if(r===0)return"";let s=0;for(;s<r;){const o=n.charAt(r-s-1);if(o!==e||t){if(o===e||!t)break;s++}else s++}return n.slice(0,r-s)}const xn=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Ba=/(?:[*+-]|\d{1,9}[.)])/,qa=ve(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Ba).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Es=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,As=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Zc=ve(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",As).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Xc=ve(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ba).getRegex(),mr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ts=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Kc=ve("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Ts).replace("tag",mr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),fo=ve(Es).replace("hr",xn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mr).getRegex(),Ps={blockquote:ve(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",fo).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:Zc,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:xn,html:Kc,lheading:qa,list:Xc,newline:/^(?: *(?:\n|$))+/,paragraph:fo,table:ln,text:/^[^\n]+/},po=ve("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",xn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mr).getRegex(),Jc={...Ps,table:po,paragraph:ve(Es).replace("hr",xn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",po).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mr).getRegex()},eu={...Ps,html:ve(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ts).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ln,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ve(Es).replace("hr",xn).replace("heading",` *#{1,6} *[^
]`).replace("lheading",qa).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},za=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Na=/^( {2,}|\\)\n(?!\s*$)/,Sn="\\p{P}\\p{S}",tu=ve(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Sn).getRegex(),nu=ve(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Sn).getRegex(),ru=ve("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Sn).getRegex(),su=ve("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Sn).getRegex(),ou=ve(/\\([punct])/,"gu").replace(/punct/g,Sn).getRegex(),au=ve(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),iu=ve(Ts).replace("(?:-->|$)","-->").getRegex(),cu=ve("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",iu).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Kn=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,uu=ve(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Kn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ho=ve(/^!?\[(label)\]\[(ref)\]/).replace("label",Kn).replace("ref",As).getRegex(),mo=ve(/^!?\[(ref)\](?:\[\])?/).replace("ref",As).getRegex(),Is={_backpedal:ln,anyPunctuation:ou,autolink:au,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:Na,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:ln,emStrongLDelim:nu,emStrongRDelimAst:ru,emStrongRDelimUnd:su,escape:za,link:uu,nolink:mo,punctuation:tu,reflink:ho,reflinkSearch:ve("reflink|nolink(?!\\()","g").replace("reflink",ho).replace("nolink",mo).getRegex(),tag:cu,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:ln},du={...Is,link:ve(/^!?\[(label)\]\((.*?)\)/).replace("label",Kn).getRegex(),reflink:ve(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Kn).getRegex()},Zr={...Is,escape:ve(za).replace("])","~|])").getRegex(),url:ve(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},lu={...Zr,br:ve(Na).replace("{2,}","*").getRegex(),text:ve(Zr.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Dn={normal:Ps,gfm:Jc,pedantic:eu},rn={normal:Is,gfm:Zr,breaks:lu,pedantic:du};var fu=Object.defineProperty,Pr=(n,e,t)=>((r,s,o)=>s in r?fu(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o)(n,typeof e!="symbol"?e+"":e,t);function go(n,e,t,r){const s=e.href,o=e.title?Ye(e.title):null,a=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){r.state.inLink=!0;const c={type:"link",raw:t,href:s,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,c}return{type:"image",raw:t,href:s,title:o,text:Ye(a)}}let Jn=class{constructor(e){Pr(this,"lexer"),Pr(this,"options"),Pr(this,"rules"),this.options=e||Dt}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let r,s;return t[2]==="@"?(r=Ye(t[1]),s="mailto:"+r):(r=Ye(t[1]),s=r),{type:"link",raw:t[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let r=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);r=Rn(r.replace(/^ *>[ \t]?/gm,""),`
`);const s=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(r);return this.lexer.state.top=s,{type:"blockquote",raw:t[0],tokens:o,text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Rn(r,`
`)}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const s=/[^ ]/.test(r),o=/^ /.test(r)&&/ $/.test(r);return s&&o&&(r=r.substring(1,r.length-1)),r=Ye(r,!0),{type:"codespan",raw:t[0],text:r}}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),s=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:s,title:o}}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}emStrong(e,t,r=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(s&&!(s[3]&&r.match(/[\p{L}\p{N}]/u))&&(!(s[1]||s[2])||!r||this.rules.inline.punctuation.exec(r))){const o=[...s[0]].length-1;let a,c,p=o,f=0;const d=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+o);(s=d.exec(t))!=null;){if(a=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!a)continue;if(c=[...a].length,s[3]||s[4]){p+=c;continue}if((s[5]||s[6])&&o%3&&!((o+c)%3)){f+=c;continue}if(p-=c,p>0)continue;c=Math.min(c,c+p+f);const h=[...s[0]][0].length,m=e.slice(0,o+s.index+h+c);if(Math.min(o,c)%2){const v=m.slice(1,-1);return{type:"em",raw:m,text:v,tokens:this.lexer.inlineTokens(v)}}const y=m.slice(2,-2);return{type:"strong",raw:m,text:y,tokens:this.lexer.inlineTokens(y)}}}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Ye(t[1])}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],s=function(o,a){const c=o.match(/^(\s+)(?:```)/);if(c===null)return a;const p=c[1];return a.split(`
`).map(f=>{const d=f.match(/^\s+/);if(d===null)return f;const[h]=d;return h.length>=p.length?f.slice(p.length):f}).join(`
`)}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const s=Rn(r,"#");this.options.pedantic?r=s.trim():s&&!/ $/.test(s)||(r=s.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let r;return r=this.lexer.state.inRawBlock?t[0]:Ye(t[0]),{type:"text",raw:t[0],text:r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const a=Rn(r.slice(0,-1),"\\");if((r.length-a.length)%2==0)return}else{const a=function(c,p){if(c.indexOf(p[1])===-1)return-1;let f=0;for(let d=0;d<c.length;d++)if(c[d]==="\\")d++;else if(c[d]===p[0])f++;else if(c[d]===p[1]&&(f--,f<0))return d;return-1}(t[2],"()");if(a>-1){const c=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let s=t[2],o="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);a&&(s=a[1],o=a[3])}else o=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(r)?s.slice(1):s.slice(1,-1)),go(t,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim();const s=r.length>1,o={type:"list",raw:"",ordered:s,start:s?+r.slice(0,-1):"",loose:!1,items:[]};r=s?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=s?r:"[*+-]");const a=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let c="",p="",f=!1;for(;e;){let d=!1;if(!(t=a.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let h=t[2].split(`
`,1)[0].replace(/^\t+/,O=>" ".repeat(3*O.length)),m=e.split(`
`,1)[0],y=0;this.options.pedantic?(y=2,p=h.trimStart()):(y=t[2].search(/[^ ]/),y=y>4?1:y,p=h.slice(y),y+=t[1].length);let v=!1;if(!h&&/^ *$/.test(m)&&(c+=m+`
`,e=e.substring(m.length+1),d=!0),!d){const O=new RegExp(`^ {0,${Math.min(3,y-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),T=new RegExp(`^ {0,${Math.min(3,y-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),A=new RegExp(`^ {0,${Math.min(3,y-1)}}(?:\`\`\`|~~~)`),i=new RegExp(`^ {0,${Math.min(3,y-1)}}#`);for(;e;){const u=e.split(`
`,1)[0];if(m=u,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),A.test(m)||i.test(m)||O.test(m)||T.test(e))break;if(m.search(/[^ ]/)>=y||!m.trim())p+=`
`+m.slice(y);else{if(v||h.search(/[^ ]/)>=4||A.test(h)||i.test(h)||T.test(h))break;p+=`
`+m}v||m.trim()||(v=!0),c+=u+`
`,e=e.substring(u.length+1),h=m.slice(y)}}o.loose||(f?o.loose=!0:/\n *\n *$/.test(c)&&(f=!0));let S,P=null;this.options.gfm&&(P=/^\[[ xX]\] /.exec(p),P&&(S=P[0]!=="[ ] ",p=p.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:c,task:!!P,checked:S,loose:!1,text:p,tokens:[]}),o.raw+=c}o.items[o.items.length-1].raw=c.trimEnd(),o.items[o.items.length-1].text=p.trimEnd(),o.raw=o.raw.trimEnd();for(let d=0;d<o.items.length;d++)if(this.lexer.state.top=!1,o.items[d].tokens=this.lexer.blockTokens(o.items[d].text,[]),!o.loose){const h=o.items[d].tokens.filter(y=>y.type==="space"),m=h.length>0&&h.some(y=>/\n.*\n/.test(y.raw));o.loose=m}if(o.loose)for(let d=0;d<o.items.length;d++)o.items[d].loose=!0;return o}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const s=t[(r[2]||r[1]).replace(/\s+/g," ").toLowerCase()];if(!s){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return go(r,s,r[0],this.lexer)}}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const r=lo(t[1]),s=t[2].replace(/^\||\| *$/g,"").split("|"),o=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],a={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===s.length){for(const c of s)/^ *-+: *$/.test(c)?a.align.push("right"):/^ *:-+: *$/.test(c)?a.align.push("center"):/^ *:-+ *$/.test(c)?a.align.push("left"):a.align.push(null);for(const c of r)a.header.push({text:c,tokens:this.lexer.inline(c)});for(const c of o)a.rows.push(lo(c,a.header.length).map(p=>({text:p,tokens:this.lexer.inline(p)})));return a}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}url(e){var r;let t;if(t=this.rules.inline.url.exec(e)){let s,o;if(t[2]==="@")s=Ye(t[0]),o="mailto:"+s;else{let a;do a=t[0],t[0]=((r=this.rules.inline._backpedal.exec(t[0]))==null?void 0:r[0])??"";while(a!==t[0]);s=Ye(t[0]),o=t[1]==="www."?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:s,href:o,tokens:[{type:"text",raw:s,text:s}]}}}};var pu=Object.defineProperty,sn=(n,e,t)=>((r,s,o)=>s in r?pu(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o)(n,typeof e!="symbol"?e+"":e,t);let Nt=class Xr{constructor(e){sn(this,"options"),sn(this,"state"),sn(this,"tokens"),sn(this,"inlineQueue"),sn(this,"tokenizer"),this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Dt,this.options.tokenizer=this.options.tokenizer||new Jn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Dn.normal,inline:rn.normal};this.options.pedantic?(t.block=Dn.pedantic,t.inline=rn.pedantic):this.options.gfm&&(t.block=Dn.gfm,this.options.breaks?t.inline=rn.breaks:t.inline=rn.gfm),this.tokenizer.rules=t}static get rules(){return{block:Dn,inline:rn}}static lex(e,t){return new Xr(t).lex(e)}static lexInline(e,t){return new Xr(t).inlineTokens(e)}blockTokens(e,t=[]){let r,s,o,a;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(c,p,f)=>p+"    ".repeat(f.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(c=>!!(r=c.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0))))if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),s=t[t.length-1],!s||s.type!=="paragraph"&&s.type!=="text"?t.push(r):(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.list(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.def(e))e=e.substring(r.raw.length),s=t[t.length-1],!s||s.type!=="paragraph"&&s.type!=="text"?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(s.raw+=`
`+r.raw,s.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else{if(o=e,this.options.extensions&&this.options.extensions.startBlock){let c=1/0;const p=e.slice(1);let f;this.options.extensions.startBlock.forEach(d=>{f=d.call({lexer:this},p),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(o=e.substring(0,c+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o)))s=t[t.length-1],a&&s.type==="paragraph"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(r),a=o.length!==e.length,e=e.substring(r.raw.length);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),s=t[t.length-1],s&&s.type==="text"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(r);else if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}throw new Error(c)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,s,o,a,c,p,f=e;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(f))!=null;)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(f=f.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+f.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(f))!=null;)f=f.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+f.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(f))!=null;)f=f.slice(0,a.index)+"++"+f.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(p=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>!!(r=d.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0))))if(r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e))e=e.substring(r.raw.length),s=t[t.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):t.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),s=t[t.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):t.push(r);else if(r=this.tokenizer.emStrong(e,f,p))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.autolink(e))e=e.substring(r.raw.length),t.push(r);else if(this.state.inLink||!(r=this.tokenizer.url(e))){if(o=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const h=e.slice(1);let m;this.options.extensions.startInline.forEach(y=>{m=y.call({lexer:this},h),typeof m=="number"&&m>=0&&(d=Math.min(d,m))}),d<1/0&&d>=0&&(o=e.substring(0,d+1))}if(r=this.tokenizer.inlineText(o))e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(p=r.raw.slice(-1)),c=!0,s=t[t.length-1],s&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):t.push(r);else if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}else e=e.substring(r.raw.length),t.push(r);return t}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}};var hu=Object.defineProperty,mu=(n,e,t)=>((r,s,o)=>s in r?hu(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o)(n,e+"",t);let er=class{constructor(e){mu(this,"options"),this.options=e||Dt}blockquote(e){return`<blockquote>
${e}</blockquote>
`}br(){return"<br>"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}code(e,t,r){var o;const s=(o=(t||"").match(/^\S*/))==null?void 0:o[0];return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="language-'+Ye(s)+'">'+(r?e:Ye(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Ye(e,!0))+`</code></pre>
`}codespan(e){return`<code>${e}</code>`}del(e){return`<del>${e}</del>`}em(e){return`<em>${e}</em>`}heading(e,t,r){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}html(e,t){return e}image(e,t,r){const s=uo(e);if(s===null)return r;let o=`<img src="${e=s}" alt="${r}"`;return t&&(o+=` title="${t}"`),o+=">",o}link(e,t,r){const s=uo(e);if(s===null)return r;let o='<a href="'+(e=s)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}list(e,t,r){const s=t?"ol":"ul";return"<"+s+(t&&r!==1?' start="'+r+'"':"")+`>
`+e+"</"+s+`>
`}listitem(e,t,r){return`<li>${e}</li>
`}paragraph(e){return`<p>${e}</p>
`}strong(e){return`<strong>${e}</strong>`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}tablerow(e){return`<tr>
${e}</tr>
`}text(e){return e}},Rs=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}};var gu=Object.defineProperty,Ir=(n,e,t)=>((r,s,o)=>s in r?gu(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o)(n,typeof e!="symbol"?e+"":e,t);let $t=class Kr{constructor(e){Ir(this,"options"),Ir(this,"renderer"),Ir(this,"textRenderer"),this.options=e||Dt,this.options.renderer=this.options.renderer||new er,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Rs}static parse(e,t){return new Kr(t).parse(e)}static parseInline(e,t){return new Kr(t).parseInline(e)}parse(e,t=!0){let r="";for(let s=0;s<e.length;s++){const o=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const a=o,c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){r+=c||"";continue}}switch(o.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":{const a=o;r+=this.renderer.heading(this.parseInline(a.tokens),a.depth,Yc(this.parseInline(a.tokens,this.textRenderer)));continue}case"code":{const a=o;r+=this.renderer.code(a.text,a.lang,!!a.escaped);continue}case"table":{const a=o;let c="",p="";for(let d=0;d<a.header.length;d++)p+=this.renderer.tablecell(this.parseInline(a.header[d].tokens),{header:!0,align:a.align[d]});c+=this.renderer.tablerow(p);let f="";for(let d=0;d<a.rows.length;d++){const h=a.rows[d];p="";for(let m=0;m<h.length;m++)p+=this.renderer.tablecell(this.parseInline(h[m].tokens),{header:!1,align:a.align[m]});f+=this.renderer.tablerow(p)}r+=this.renderer.table(c,f);continue}case"blockquote":{const a=o,c=this.parse(a.tokens);r+=this.renderer.blockquote(c);continue}case"list":{const a=o,c=a.ordered,p=a.start,f=a.loose;let d="";for(let h=0;h<a.items.length;h++){const m=a.items[h],y=m.checked,v=m.task;let S="";if(m.task){const P=this.renderer.checkbox(!!y);f?m.tokens.length>0&&m.tokens[0].type==="paragraph"?(m.tokens[0].text=P+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&m.tokens[0].tokens[0].type==="text"&&(m.tokens[0].tokens[0].text=P+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:P+" "}):S+=P+" "}S+=this.parse(m.tokens,f),d+=this.renderer.listitem(S,v,!!y)}r+=this.renderer.list(d,c,p);continue}case"html":{const a=o;r+=this.renderer.html(a.text,a.block);continue}case"paragraph":{const a=o;r+=this.renderer.paragraph(this.parseInline(a.tokens));continue}case"text":{let a=o,c=a.tokens?this.parseInline(a.tokens):a.text;for(;s+1<e.length&&e[s+1].type==="text";)a=e[++s],c+=`
`+(a.tokens?this.parseInline(a.tokens):a.text);r+=t?this.renderer.paragraph(c):c;continue}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(e,t){t=t||this.renderer;let r="";for(let s=0;s<e.length;s++){const o=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=a||"";continue}}switch(o.type){case"escape":{const a=o;r+=t.text(a.text);break}case"html":{const a=o;r+=t.html(a.text);break}case"link":{const a=o;r+=t.link(a.href,a.title,this.parseInline(a.tokens,t));break}case"image":{const a=o;r+=t.image(a.href,a.title,a.text);break}case"strong":{const a=o;r+=t.strong(this.parseInline(a.tokens,t));break}case"em":{const a=o;r+=t.em(this.parseInline(a.tokens,t));break}case"codespan":{const a=o;r+=t.codespan(a.text);break}case"br":r+=t.br();break;case"del":{const a=o;r+=t.del(this.parseInline(a.tokens,t));break}case"text":{const a=o;r+=t.text(a.text);break}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}};var fn,bo,Jr,bu=Object.defineProperty,$a=n=>{throw TypeError(n)},it=(n,e,t)=>((r,s,o)=>s in r?bu(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o)(n,typeof e!="symbol"?e+"":e,t),es=(n,e,t)=>(((r,s,o)=>{s.has(r)||$a("Cannot "+o)})(n,e,"access private method"),t);fn=new WeakSet,bo=function(n,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,n){const r="<p>An error occurred:</p><pre>"+Ye(t.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(t);throw t}},Jr=function(n,e){return(t,r)=>{const s={...r},o={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const a=es(this,fn,bo).call(this,!!o.silent,!!o.async);if(t==null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then(c=>n(c,o)).then(c=>o.hooks?o.hooks.processAllTokens(c):c).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>e(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(a);try{o.hooks&&(t=o.hooks.preprocess(t));let c=n(t,o);o.hooks&&(c=o.hooks.processAllTokens(c)),o.walkTokens&&this.walkTokens(c,o.walkTokens);let p=e(c,o);return o.hooks&&(p=o.hooks.postprocess(p)),p}catch(c){return a(c)}}};const _t=new class{constructor(...n){var e,t,r;e=this,(t=fn).has(e)?$a("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),it(this,"Hooks",dn),it(this,"Lexer",Nt),it(this,"Parser",$t),it(this,"Renderer",er),it(this,"TextRenderer",Rs),it(this,"Tokenizer",Jn),it(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),it(this,"options",this.setOptions),it(this,"parse",es(this,fn,Jr).call(this,Nt.lex,$t.parse)),it(this,"parseInline",es(this,fn,Jr).call(this,Nt.lexInline,$t.parseInline)),this.use(...n)}lexer(n,e){return Nt.lex(n,e??this.defaults)}parser(n,e){return $t.parse(n,e??this.defaults)}setOptions(n){return this.defaults={...this.defaults,...n},this}use(...n){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(t=>{const r={...t};if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const o=e.renderers[s.name];e.renderers[s.name]=o?function(...a){let c=s.renderer.apply(this,a);return c===!1&&(c=o.apply(this,a)),c}:s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=e[s.level];o?o.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),t.renderer){const s=this.defaults.renderer||new er(this.defaults);for(const o in t.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;const a=o,c=t.renderer[a],p=s[a];s[a]=(...f)=>{let d=c.apply(s,f);return d===!1&&(d=p.apply(s,f)),d||""}}r.renderer=s}if(t.tokenizer){const s=this.defaults.tokenizer||new Jn(this.defaults);for(const o in t.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const a=o,c=t.tokenizer[a],p=s[a];s[a]=(...f)=>{let d=c.apply(s,f);return d===!1&&(d=p.apply(s,f)),d}}r.tokenizer=s}if(t.hooks){const s=this.defaults.hooks||new dn;for(const o in t.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const a=o,c=t.hooks[a],p=s[a];dn.passThroughHooks.has(o)?s[a]=f=>{if(this.defaults.async)return Promise.resolve(c.call(s,f)).then(h=>p.call(s,h));const d=c.call(s,f);return p.call(s,d)}:s[a]=(...f)=>{let d=c.apply(s,f);return d===!1&&(d=p.apply(s,f)),d}}r.hooks=s}if(t.walkTokens){const s=this.defaults.walkTokens,o=t.walkTokens;r.walkTokens=function(a){let c=[];return c.push(o.call(this,a)),s&&(c=c.concat(s.call(this,a))),c}}this.defaults={...this.defaults,...r}}),this}walkTokens(n,e){var r,s;let t=[];for(const o of n)switch(t=t.concat(e.call(this,o)),o.type){case"table":{const a=o;for(const c of a.header)t=t.concat(this.walkTokens(c.tokens,e));for(const c of a.rows)for(const p of c)t=t.concat(this.walkTokens(p.tokens,e));break}case"list":{const a=o;t=t.concat(this.walkTokens(a.items,e));break}default:{const a=o;(s=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(c=>{const p=a[c].flat(1/0);t=t.concat(this.walkTokens(p,e))}):a.tokens&&(t=t.concat(this.walkTokens(a.tokens,e)))}}return t}};function Ce(n,e){return _t.parse(n,e)}Ce.options=Ce.setOptions=function(n){return _t.setOptions(n),Ce.defaults=_t.defaults,io(Ce.defaults),Ce},Ce.getDefaults=Hc,Ce.defaults=Dt,Ce.use=function(...n){return _t.use(...n),Ce.defaults=_t.defaults,io(Ce.defaults),Ce},Ce.walkTokens=function(n,e){return _t.walkTokens(n,e)},Ce.parseInline=_t.parseInline,Ce.Parser=$t,Ce.parser=$t.parse,Ce.Renderer=er,Ce.TextRenderer=Rs,Ce.Lexer=Nt,Ce.lexer=Nt.lex,Ce.Tokenizer=Jn,Ce.Hooks=dn,Ce.parse=Ce;const Ha=(n,e)=>{const{showCodeBlockCopyButton:t,markdownLinkTarget:r,syntaxHighlighter:s,htmlSanitizer:o}=e||{},a=Ce(n,{async:!1,breaks:!0});if(typeof a!="string")throw new Error("Markdown parsing failed");const c=document.createElement("div");return c.innerHTML=o?o(a):a,c.querySelectorAll("pre").forEach(p=>{const f=document.createElement("div");f.className="code-block";const d=p.querySelector("code");if(!d){const v=p.innerHTML;return f.innerHTML=o?o(v):v,void p.replaceWith(f)}let h;for(let v=0;v<d.classList.length;v++){const S=d.classList[v];if(S.startsWith("language-")){h=S.slice(9);break}}const m=document.createElement("pre"),y="<div>"+d.innerHTML+"</div>";if(m.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(y):y,h&&(m.setAttribute("data-language",h),s)){const v="<div>"+s.createHighlighter()(d.textContent||"",h)+"</div>";m.innerHTML=o?o(v):v,m.className="highlighter-dark"}vn(f),f.appendChild(m),p.replaceWith(f)}),t!==!1&&c.querySelectorAll(".code-block").forEach(p=>{var m;if(!p.querySelector("pre")||(m=p.previousElementSibling)!=null&&m.classList.contains("nlux-comp-copyButton"))return;const f="Copy code block to clipboard",d=document.createElement("button");d.classList.add("nlux-comp-copyButton"),d.setAttribute("aria-label",f),d.setAttribute("title",f);const h=document.createElement("span");h.classList.add("icon-copy"),d.appendChild(h),p.appendChild(d)}),r!=="self"&&c.querySelectorAll("a").forEach(p=>{p.setAttribute("target","_blank")}),c.innerHTML},vo=n=>{if(!(n instanceof HTMLButtonElement)||n.dataset.clickListenerSet==="true")return;let e=!1;const t=n.nextElementSibling;n.addEventListener("click",()=>{if(e||!t)return;const r=t.innerText;navigator.clipboard.writeText(r??""),e=!0,n.classList.add("clicked"),setTimeout(()=>{e=!1,n.classList.remove("clicked")},1e3)}),n.dataset.clickListenerSet="true"},Fa=n=>{const e="nlux-comp-copyButton";n instanceof HTMLButtonElement&&n.classList.contains(e)?vo(n):n.querySelectorAll(`.${e}`).forEach(vo)},vu=(n,e)=>{let t=!1;const{onComplete:r}=e||{},s=[],o=(e!=null&&e.skipStreamingAnimation?"timeout":"animationFrame")=="timeout"?h=>setTimeout(h,0):h=>requestAnimationFrame(h),a=document.createElement("div");a.classList.add("md-in-progress"),n.append(a);const c=()=>{for(;a.firstChild;){const h=a.firstChild;h instanceof HTMLElement&&Fa(h),a.before(h)}},p=!(e!=null&&e.skipStreamingAnimation)&&(e!=null&&e.streamingAnimationSpeed)&&e.streamingAnimationSpeed>=0?e.streamingAnimationSpeed:e!=null&&e.skipStreamingAnimation?0:8,f={timeSinceLastProcessing:new Date().getTime(),currentMarkdown:"",previousHtml:void 0};let d=setInterval(()=>{const h=new Date().getTime(),m=(e==null?void 0:e.waitTimeBeforeStreamCompletion)!=="never";if(s.length===0&&m){const v=typeof(e==null?void 0:e.waitTimeBeforeStreamCompletion)=="number"?e.waitTimeBeforeStreamCompletion:2e3;return void((t||h-f.timeSinceLastProcessing>v)&&(t=!0,d&&(clearInterval(d),d=void 0),c(),a.remove(),r==null?void 0:r()))}f.timeSinceLastProcessing=h;const y=s.shift();y!==void 0&&typeof y=="string"&&o(()=>{const v=f.currentMarkdown+y,S=Ha(v,e).trim();if(typeof S!="string")return f.currentMarkdown=f.currentMarkdown.slice(0,-y.length),void oe("Markdown parsing failed");if(f.previousHtml&&S.length>f.previousHtml.length&&S.startsWith(f.previousHtml)){c();const P=S.slice(f.previousHtml.length).trim();a.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(P):P,f.currentMarkdown=y,f.previousHtml=void 0}else a.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(S):S,f.currentMarkdown=v,f.previousHtml=S})},p);return{next:h=>{if(t)oe("Stream is already complete. No more chunks can be added");else for(const m of h)s.push(m)},complete:()=>{s.push(`
`),t=!0},cancel:()=>{d&&(clearInterval(d),d=void 0),t=!0,a.remove()},error:()=>{t=!0}}},Ua=(n,e)=>{const t=document.createElement("div");if(t.classList.add("nlux-comp-avatarContainer"),n){const r=document.createElement("div");r.classList.add("nlux-comp-avatarPicture"),r.style.backgroundImage=`url("${encodeURI(n)}")`,t.append(r)}return t},Ds="nlux-comp-avatar",Ls=n=>{const e=document.createElement("div");return e.classList.add(Ds),n.avatar||n.name?(n.name&&(e.title=n.name),n.avatar&&n.avatar instanceof HTMLElement?(e.append(n.avatar.cloneNode(!0)),e):(e.append(Ua(n.avatar)),e)):e},Ln={received:"nlux_msg_received",sent:"nlux_msg_sent"},Va=(n,e)=>{Object.keys(Ln).forEach(t=>{n.classList.remove(Ln[t])}),Ln[e]&&n.classList.add(Ln[e])},un={streaming:"nlux_msg_streaming",complete:"nlux_msg_complete"},Ga=(n,e)=>{Object.keys(un).forEach(t=>{n.classList.remove(un[t])}),un[e]&&n.classList.add(un[e])},Wa=(n,e="text",t)=>{if(e==="markdown"){const r=document.createElement("div"),s=Ha(n,t);r.innerHTML=t!=null&&t.htmlSanitizer?t.htmlSanitizer(s):s,Fa(r);const o=document.createDocumentFragment();for(;r.firstChild;)o.appendChild(r.firstChild);return o}return document.createTextNode(n)},Ya="nlux-comp-message",On={received:"nlux-comp-chatItem--received",sent:"nlux-comp-chatItem--sent"},Qa=(n,e)=>{Object.keys(On).forEach(t=>{n.classList.remove(On[t])}),On[e]&&n.classList.add(On[e])},Mn={bubbles:"nlux-comp-chatItem--bubblesLayout",list:"nlux-comp-chatItem--listLayout"},Za=(n,e)=>{Object.keys(Mn).forEach(t=>{n.classList.remove(Mn[t])}),Mn[e]&&n.classList.add(Mn[e])},Xa="nlux-comp-chatItem-participantInfo",Ka="nlux-comp-chatItem-participantName",yu=n=>{const e=document.createElement("div");e.classList.add("nlux-comp-chatItem");const t={direction:n.direction,status:n.status,message:n.message,htmlSanitizer:n.htmlSanitizer};let r;if(n.avatar!==void 0){const a={name:n.name,avatar:n.avatar};r=Ls(a)}const s=document.createElement("span");s.classList.add(Ka),s.textContent=n.name;{const a=document.createElement("div");a.classList.add(Xa),r!==void 0&&a.append(r),a.append(s),e.append(a)}Qa(e,n.direction),Za(e,n.layout);const o=(a=>{const c=document.createElement("div");c.classList.add(Ya);const p=a.status?a.status:"complete";return Ga(c,p),Va(c,a.direction),c})(t);return e.append(o),e},yo=(n,e,t)=>{if(e.name!==t.name&&typeof t.avatar=="string"){const r=t.name&&t.name.length>0?t.name[0].toUpperCase():"",s=n.querySelector("* > .nlux-comp-avatarContainer > .avtr_ltr");s==null||s.replaceChildren(r)}},Ja=(n,e,t)=>{e.avatar===t.avatar&&e.name===t.name||(e.avatar!==t.avatar&&((r,s,o)=>{if(s.avatar!==o.avatar)if(typeof o.avatar=="string"&&typeof s.avatar=="string"){const a=r.querySelector("* > .nlux-comp-avatarContainer > .nlux-comp-avatarPicture");a!==null&&(a.style.backgroundImage=`url("${encodeURI(o.avatar)}")`)}else if(typeof o.avatar=="string"){const a=Ua(o.avatar);r.replaceChildren(a)}else o.avatar?r.replaceChildren(o.avatar.cloneNode(!0)):vn(r)})(n,e,t),t.name?e.name!==t.name&&(n.title=t.name,yo(n,e,t)):(n.title="",yo(n,e,t)))},wu=(n,e,t)=>{if(e.message===t.message&&e.status===t.status&&e.direction===t.direction||!t||!t.hasOwnProperty("message")&&!t.hasOwnProperty("status")&&!t.hasOwnProperty("direction"))return;e.direction!==t.direction&&Va(n,t.direction);const r=t.status;if(e.status!==r)return Ga(n,t.status),void((s,o,a)=>{const c=a.status;if(c!=="streaming"&&c==="complete"){const p=a.message?a.message:"",f=document.createTextNode(p);s.classList.add(un[c]),vn(s),s.append(f)}})(n,0,t);r==="complete"&&(e.message===t.message&&e.format===t.format||((s,o,a)=>{o.message===a.message&&o.format===a.format||(vn(s),s.append(Wa(a.message??"",a.format,{htmlSanitizer:a.htmlSanitizer})))})(n,e,t))},wo="dom/getElement";var ku=Object.defineProperty,xu=Object.getOwnPropertyDescriptor,ko=(n,e,t,r)=>{for(var s,o=r>1?void 0:r?xu(e,t):e,a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r?s(e,t,o):s(o))||o);return r&&o&&ku(e,t,o),o};let Yn=class extends nt{constructor(e,t){super(e,t),this.serverResponse=[],this.stringContent="",t.domProps.message!==void 0&&(this.stringContent=t.domProps.message)}addChunk(e,t){this.throwIfDestroyed(),this.executeDomAction("processStreamedChunk",e),typeof e=="string"&&(this.stringContent+=e),this.serverResponse.push(t)}commitChunks(){this.throwIfDestroyed(),this.executeDomAction("commitStreamedChunks")}getChatSegmentItem(){return this.getProp("domProps").direction==="received"?{uid:this.props.uid,participantRole:"assistant",content:this.getItemContent(),serverResponse:this.serverResponse,status:"complete",dataTransferMode:"batch",time:new Date}:{uid:this.props.uid,participantRole:"user",content:this.getItemContent(),status:"complete",time:new Date}}getItemContent(){return this.aiMessageContent??this.stringContent}updateDomProps(e){const t=this.getProp("domProps"),r={...t,...e};this.setProp("domProps",r),this.executeDomAction("updateDomProps",t,r)}updateMarkdownStreamRenderer(e,t){if(this.setProp(e,t),e==="syntaxHighlighter"){const r=t;this.executeDomAction("updateMarkdownStreamRenderer",{syntaxHighlighter:r})}if(e==="htmlSanitizer"){const r=t;this.executeDomAction("updateMarkdownStreamRenderer",{htmlSanitizer:r})}}onMarkdownStreamComplete(e){this.context.emit("messageRendered",{uid:this.props.uid})}};ko([ot("markdown-stream-complete")],Yn.prototype,"onMarkdownStreamComplete",1),Yn=ko([wt("chatItem",({props:n,appendToRoot:e,compEvent:t})=>{const r=yu({...n.domProps,htmlSanitizer:n.htmlSanitizer,message:void 0}),s=((d,h)=>{const m=d.querySelector(h);if(!m)throw new Xn({source:wo,message:`Could not find element with query "${h}". Make sure the query provided matches an element that exists in the root element.`});if(!(m instanceof HTMLElement))throw new Xn({source:wo,message:`Element with query "${h}" is not a valid HTMLElement.`});return m})(r,".nlux-comp-message");if(!s)throw new Error("Message container not found");const o=document.createElement("div");o.classList.add("nlux-markdownStream-root");const a=document.createElement("div");if(a.classList.add("nlux-markdown-container"),a.setAttribute("nlux-message-id",n.uid),o.append(a),s.append(o),n.domProps.message){const d=Wa(n.domProps.message??"","markdown",{markdownLinkTarget:n.markdownLinkTarget,syntaxHighlighter:n.syntaxHighlighter,htmlSanitizer:n.htmlSanitizer});a.append(d)}let c;e(r);let p={...n};const f=d=>((h,m)=>{const y=vu(h,{syntaxHighlighter:m==null?void 0:m.syntaxHighlighter,htmlSanitizer:m==null?void 0:m.htmlSanitizer,markdownLinkTarget:m==null?void 0:m.markdownLinkTarget,showCodeBlockCopyButton:m==null?void 0:m.showCodeBlockCopyButton,skipStreamingAnimation:m==null?void 0:m.skipStreamingAnimation,streamingAnimationSpeed:m==null?void 0:m.streamingAnimationSpeed,waitTimeBeforeStreamCompletion:m==null?void 0:m.waitTimeBeforeStreamCompletion,onComplete:m==null?void 0:m.onComplete});return{next(v){y.next(v)},complete(){y.complete()}}})(a,{syntaxHighlighter:d.syntaxHighlighter,htmlSanitizer:d.htmlSanitizer,markdownLinkTarget:d.markdownLinkTarget,showCodeBlockCopyButton:d.showCodeBlockCopyButton,skipStreamingAnimation:d.skipStreamingAnimation,streamingAnimationSpeed:d.streamingAnimationSpeed,onComplete:()=>t("markdown-stream-complete")});return{elements:{chatItemContainer:r},actions:{focus:()=>{r.focus()},processStreamedChunk:d=>{c||(c=f(p)),c.next(d)},commitStreamedChunks:()=>{c&&c.complete()},updateMarkdownStreamRenderer:d=>{p={...p,...d},f(p)},updateDomProps:(d,h)=>{((m,y,v)=>{if((y.direction!==v.direction||y.layout!==v.layout||y.status!==v.status||y.message!==v.message||y.name!==v.name||y.avatar!==v.avatar)&&v&&(v.hasOwnProperty("direction")||v.hasOwnProperty("layout")||v.hasOwnProperty("status")||v.hasOwnProperty("message")||v.hasOwnProperty("loader")||v.hasOwnProperty("name")||v.hasOwnProperty("avatar"))){if(y.direction!==v.direction&&Qa(m,v.direction),y.layout!==v.layout&&Za(m,v.layout),y.direction!==v.direction||y.status!==v.status||y.message!==v.message){const S=m.querySelector(`.${Ya}`);S&&wu(S,{direction:y.direction,status:y.status,message:y.message,htmlSanitizer:y.htmlSanitizer},{direction:v.direction,status:v.status,message:v.message,htmlSanitizer:y.htmlSanitizer})}if(y.name!==v.name||y.avatar!==v.avatar){const S=m.querySelector(`.${Ds}`);if(!v.name&&!v.avatar)return void(S==null?void 0:S.remove());if(S)Ja(S,{name:y.name,avatar:y.avatar},{name:v.name,avatar:v.avatar});else if(v.name!==void 0||v.avatar!==void 0){const P={name:v.name,avatar:v.avatar},O=Ls(P),T=m.querySelector(`.${Xa}`);T&&T.prepend(O)}}if(y.name!==v.name){const S=m.querySelector(`.${Ka}`);S&&(S.textContent=v.name||"")}}})(r,d,h)}},onDestroy:()=>{r.remove(),c=void 0}}},({propName:n,newValue:e,dom:t})=>{var r;switch(n){case"markdownLinkTarget":case"skipStreamingAnimation":case"syntaxHighlighter":case"htmlSanitizer":case"showCodeBlockCopyButton":case"streamingAnimationSpeed":(r=t.actions)==null||r.updateMarkdownStreamRenderer({[n]:e})}})],Yn);const Su=(n,e)=>{let t,r=e,s=n,o=!0;const a=((S,P)=>{let O=!1;if(typeof S!="function")throw new vt({source:"x/throttle",message:"Callback must be a function"});return(...T)=>{O||(S.apply(void 0,T),O=!0,setTimeout(function(){O=!1},P))}})((S=>{let P,O;return T=>{const A=T.target;if(!(A instanceof HTMLElement))return;const{scrollTop:i,clientHeight:u,scrollHeight:l}=A,g=l-30,k=Math.ceil(i+u)>=g,w=P===void 0||O===void 0?void 0:i>P&&O===l?"down":i<P&&O===l?"up":void 0;O=l,P=i,S({scrolledToBottom:k,scrollDirection:w})}})(({scrolledToBottom:S,scrollDirection:P})=>{o?P==="up"&&(o=!1):P==="down"&&S&&(o=!0)}),50),c=S=>{S.addEventListener("scroll",a)},p=S=>{S==null||S.removeEventListener("scroll",a)},f=S=>{(t==null?void 0:t.uid)===S&&(d==null||d.disconnect(),h==null||h.disconnect(),t=void 0,d=void 0,h=void 0)};let d,h;const m=()=>{s==null||s.scrollTo({top:5e4,behavior:"instant"})},y=()=>{s&&r&&o&&m()},v=()=>{y()};return c(s),{updateConversationContainer:S=>{p(s),c(S),s=S},updateProps:({autoScroll:S})=>{r=S},handleNewChatSegmentAdded:(S,P)=>{t&&(d==null||d.disconnect(),h==null||h.disconnect()),t={uid:S,container:P},d=new ResizeObserver(y),d.observe(P),h=new MutationObserver(v),h.observe(P,{childList:!0,subtree:!0,characterData:!0}),r&&m()},handleChatSegmentRemoved:S=>f(S),handleChatSegmentComplete:S=>f(S),destroy:()=>{t&&(f(t.uid),t=void 0),p(s),s=void 0}}},Ft=n=>{var r;const e=typeof n=="function"?n.__compId:void 0;if(!e)throw new Error("Invalid compClass! Component should be registered before using");const t=(r=La.retrieve(e))==null?void 0:r.model;if(!t||typeof t!="function")throw new Error(`Component "${e}" is not registered`);return{withContext:s=>({create:()=>new t(s,{}),withProps:o=>({create:()=>new t(s,o)})})}},_u=n=>{const e=["adapter","events"],t=Object.keys(n).filter(s=>!e.includes(s)),r={};for(let s=0;s<t.length;s++){const o=t[s];r[o]=n[o]}return r},ei=()=>{const n=document.createElement("div");n.classList.add("nlux-comp-messageLoader");const e=document.createElement("span");e.classList.add("spinning-loader");const t=document.createElement("div");return t.classList.add("nlux-comp-loaderContainer"),t.appendChild(e),n.appendChild(t),n},xo=n=>{const e="nlux-chatSegment";return n==="complete"?`${e} nlux-chatSegment--complete`:n==="error"?`${e} nlux-chatSegment--error`:`${e} nlux-chatSegment--active`},jn=(n,e)=>{var t,r;return n==="assistant"?((t=e==null?void 0:e.assistant)==null?void 0:t.name)??"Assistant":n==="user"?((r=e==null?void 0:e.user)==null?void 0:r.name)??"User":""},Cu="bubbles";var Eu=Object.defineProperty,Au=Object.getOwnPropertyDescriptor,Bn=(n,e,t,r)=>{for(var s,o=r>1?void 0:r?Au(e,t):e,a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r?s(e,t,o):s(o))||o);return r&&o&&Eu(e,t,o),o};let zt=class extends nt{constructor(e,t){super(e,t),this.chatItemCompIdsByIndex=[],this.chatItemComponentsById=new Map}addChatItem(e){var s,o;if(this.throwIfDestroyed(),this.chatItemComponentsById.has(e.uid))throw new Error(`CompChatSegment: chat item with id "${e.uid}" already exists`);const t=((a,c,p,f)=>{const d=c??Cu;if(a.participantRole==="assistant"){const m=a.status==="complete"?"complete":"streaming";return a.dataTransferMode==="stream"?{status:m,layout:d,direction:"received",name:jn("assistant",{assistant:f}),avatar:f==null?void 0:f.avatar}:a.status==="complete"?{status:m,layout:d,direction:"received",name:jn("assistant",{assistant:f}),avatar:f==null?void 0:f.avatar,message:(h=a.content,typeof h=="string"?h:typeof h=="object"?`${h}`:h==null?"":typeof h.toString=="function"?h.toString():JSON.stringify(h))}:{status:m,layout:d,direction:"received",name:jn("assistant",{assistant:f}),avatar:f==null?void 0:f.avatar}}var h;return{status:"complete",layout:d,direction:"sent",message:a.content,name:jn("user",{user:p}),avatar:p==null?void 0:p.avatar}})(e,this.getProp("conversationLayout"),this.getProp("userPersona"),this.getProp("assistantPersona"));if(!t)throw new Error(`CompChatSegment: chat item with id "${e.uid}" has invalid props`);const r=Ft(Yn).withContext(this.context).withProps({uid:e.uid,domProps:t,markdownLinkTarget:this.getProp("markdownLinkTarget"),showCodeBlockCopyButton:this.getProp("showCodeBlockCopyButton"),skipStreamingAnimation:this.getProp("skipStreamingAnimation"),syntaxHighlighter:this.getProp("syntaxHighlighter"),htmlSanitizer:this.getProp("htmlSanitizer"),streamingAnimationSpeed:this.getProp("streamingAnimationSpeed")}).create();this.chatItemComponentsById.set(e.uid,r),this.chatItemCompIdsByIndex.push(e.uid),this.rendered&&((o=(s=this.renderedDom)==null?void 0:s.elements)!=null&&o.chatSegmentContainer?r.render(this.renderedDom.elements.chatSegmentContainer,this.renderedDom.elements.loaderContainer):Qr("CompChatSegment: chatSegmentContainer is not available"))}addChunk(e,t,r){if(this.destroyed)return;const s=this.chatItemComponentsById.get(e);if(!s)throw new Error(`CompChatSegment: chat item with id "${e}" not found`);s.addChunk(t,r)}complete(){this.throwIfDestroyed(),this.chatItemComponentsById.forEach(e=>e.commitChunks()),this.setProp("status","complete")}destroy(){this.chatItemComponentsById.forEach(e=>e.destroy()),this.chatItemComponentsById.clear(),this.chatItemCompIdsByIndex=[],super.destroy()}getChatItems(){return this.chatItemCompIdsByIndex.map(e=>this.chatItemComponentsById.get(e)).filter(e=>!!e)}setAssistantPersona(e){this.setProp("assistantPersona",e);const t={name:e==null?void 0:e.name,avatar:e==null?void 0:e.avatar};this.chatItemComponentsById.forEach(r=>{r.getChatSegmentItem().participantRole==="assistant"&&r.updateDomProps(t)})}setLayout(e){this.setProp("conversationLayout",e),this.chatItemComponentsById.forEach(t=>{t.updateDomProps({layout:e})})}setUserPersona(e){this.setProp("userPersona",e);const t={name:e==null?void 0:e.name,avatar:e==null?void 0:e.avatar};this.chatItemComponentsById.forEach(r=>{r.getChatSegmentItem().participantRole==="user"&&r.updateDomProps(t)})}updateMarkdownStreamRenderer(e,t){this.setProp(e,t)}onLoaderShown(e){var t;(t=this.renderedDom)!=null&&t.elements&&(this.renderedDom.elements.loaderContainer=e)}setProp(e,t){super.setProp(e,t),e!=="markdownLinkTarget"&&e!=="syntaxHighlighter"&&e!=="htmlSanitizer"&&e!=="skipStreamingAnimation"&&e!=="streamingAnimationSpeed"||this.chatItemComponentsById.forEach(r=>{r.updateMarkdownStreamRenderer(e,t)})}onChatSegmentReady(){dt(()=>{var t,r,s,o;if(!((r=(t=this.renderedDom)==null?void 0:t.elements)!=null&&r.chatSegmentContainer))return;const e=(o=(s=this.renderedDom)==null?void 0:s.elements)==null?void 0:o.chatSegmentContainer;this.chatItemComponentsById.forEach(a=>{a.rendered||a.render(e)})})}onLoaderHidden(){var e;(e=this.renderedDom)!=null&&e.elements&&(this.renderedDom.elements.loaderContainer=void 0)}};Bn([ot("loader-shown")],zt.prototype,"onLoaderShown",1),Bn([ot("chat-segment-ready")],zt.prototype,"onChatSegmentReady",1),Bn([ot("loader-hidden")],zt.prototype,"onLoaderHidden",1),zt=Bn([wt("chatSegment",({props:n,compEvent:e,appendToRoot:t})=>{let r;const s=document.createElement("div");s.className=xo(n.status);const o=()=>{if(!r){r=document.createElement("div"),r.className="nlux-chatSegment-loader-container";const a=ei();r.appendChild(a),s.appendChild(r),e("loader-shown")(r)}};return n.status==="active"&&o(),t(s),e("chat-segment-ready")(),{elements:{chatSegmentContainer:s,loaderContainer:r},actions:{showLoader:o,hideLoader:()=>{r&&(r.remove(),r=void 0,e("loader-hidden")())}},onDestroy:()=>{s.remove()}}},({propName:n,newValue:e,dom:t})=>{var r,s,o;if(n==="status"){const a=(r=t.elements)==null?void 0:r.chatSegmentContainer;if(!a)return;const c=e;a.className=xo(c),c==="active"?(s=t.actions)==null||s.showLoader():(o=t.actions)==null||o.hideLoader()}})],zt);let ts=class extends nt{constructor(e,t){super(e,t),this.chatSegmentCompIdsByIndex=[],this.chatSegmentComponentsById=new Map,t.messages&&t.messages.length>0&&this.addChatSegment("complete",t.messages)}addChatItem(e,t){const r=this.chatSegmentComponentsById.get(e);if(!r)throw new Error(`CompConversation: chat segment with id "${e}" not found`);r.destroyed?Qr(`CompConversation: chat segment with id "${e}" is destroyed and cannot be used`):r.addChatItem(t)}addChatSegment(e="active",t){this.throwIfDestroyed();const r=st(),s=Ft(zt).withContext(this.context).withProps({uid:r,status:e,conversationLayout:this.getProp("conversationLayout"),userPersona:this.getProp("userPersona"),assistantPersona:this.getProp("assistantPersona"),markdownLinkTarget:this.getProp("markdownLinkTarget"),showCodeBlockCopyButton:this.getProp("showCodeBlockCopyButton"),skipStreamingAnimation:this.getProp("skipStreamingAnimation"),syntaxHighlighter:this.getProp("syntaxHighlighter"),htmlSanitizer:this.getProp("htmlSanitizer"),streamingAnimationSpeed:this.getProp("streamingAnimationSpeed")}).create();if(t)for(const a of t)a.role==="assistant"?s.addChatItem({uid:st(),participantRole:"assistant",time:new Date,dataTransferMode:"batch",status:"complete",content:a.message,serverResponse:a.serverResponse,contentType:"text"}):a.role==="user"&&s.addChatItem({uid:st(),participantRole:"user",time:new Date,status:"complete",content:a.message,contentType:"text"});this.chatSegmentComponentsById.set(r,s),this.chatSegmentCompIdsByIndex.push(r);const o=s.id;return this.addSubComponent(o,s,"segmentsContainer"),this.notifyAboutSegmentCountChange(this.chatSegmentCompIdsByIndex.length),r}addChunk(e,t,r,s){const o=this.chatSegmentComponentsById.get(e);if(!o)throw new Error(`CompConversation: chat segment with id "${e}" not found`);o.addChunk(t,r,s)}completeChatSegment(e){const t=this.chatSegmentComponentsById.get(e);if(!t)throw new Error(`CompConversation: chat segment with id "${e}" not found`);t.destroyed||t.complete()}getChatSegmentContainer(e){const t=this.chatSegmentComponentsById.get(e);if((t==null?void 0:t.root)instanceof HTMLElement)return t.root}getConversationContentForAdapter(e="max"){if(typeof e=="number"&&e<0)return void Qr(`Invalid value provided for 'historyPayloadSize' : "${e}"! Value must be a positive integer or 'max'.`);if(e===0)return;const t=(r=>{const s=[];return r.forEach(o=>{o.items.forEach(a=>{if(a.status==="complete"){if(a.participantRole==="assistant")s.push({role:"assistant",message:a.content});else if(a.participantRole==="user")return s.push({role:"user",message:a.content})}})}),s})(this.chatSegmentCompIdsByIndex.map(r=>this.chatSegmentComponentsById.get(r)).filter(r=>r!==void 0).map(r=>({uid:r.id,status:"complete",items:r.getChatItems().map(s=>s.getChatSegmentItem())})));return e==="max"?t:t.slice(-e)}removeChatSegment(e){const t=this.chatSegmentComponentsById.get(e);if(!t)return;const r=t.id;this.subComponents.has(r)&&this.removeSubComponent(r),this.chatSegmentComponentsById.delete(t.id);const s=this.chatSegmentCompIdsByIndex.indexOf(e);s>=0&&this.chatSegmentCompIdsByIndex.splice(s,1),this.notifyAboutSegmentCountChange(this.chatSegmentCompIdsByIndex.length)}setAssistantPersona(e){this.setProp("assistantPersona",e),this.chatSegmentComponentsById.forEach(t=>{t.setAssistantPersona(e)})}setConversationLayout(e){this.setProp("conversationLayout",e),this.chatSegmentComponentsById.forEach(t=>{t.setLayout(e)})}setUserPersona(e){this.setProp("userPersona",e),this.chatSegmentComponentsById.forEach(t=>{t.setUserPersona(e)})}updateMarkdownStreamRenderer(e,t){this.setProp(e,t)}setProp(e,t){if(super.setProp(e,t),e==="markdownLinkTarget"||e==="syntaxHighlighter"||e==="htmlSanitizer"||e==="skipStreamingAnimation"||e==="streamingAnimationSpeed"||e==="showCodeBlockCopyButton"){const r=e,s=t;this.chatSegmentComponentsById.forEach(o=>{o.updateMarkdownStreamRenderer(r,s)})}}notifyAboutSegmentCountChange(e){const t=this.getProp("onSegmentCountChange");t&&t(e)}};ts=((n,e,t,r)=>{for(var s,o=e,a=n.length-1;a>=0;a--)(s=n[a])&&(o=s(o)||o);return o})([wt("conversation",({appendToRoot:n})=>{const e=document.createElement("div");return e.classList.add("nlux-chatSegments-container"),n(e),{elements:{segmentsContainer:e},actions:{}}},()=>{})],ts);const Rr={typing:"nlux-composer--typing","submitting-prompt":"nlux-composer--submitting","submitting-conversation-starter":"nlux-composer--submitting",waiting:"nlux-composer--waiting"},ti=(n,e)=>{Object.keys(Rr).forEach(t=>{n.classList.remove(Rr[t])}),n.classList.add(Rr[e])},Tu=n=>{const e=document.createElement("div");e.classList.add("nlux-comp-composer");const t=document.createElement("textarea");t.placeholder=n.placeholder??"",t.value=n.message??"",n.autoFocus&&(t.autofocus=!0);const r=document.createElement("button");return r.append((()=>{const s=document.createElement("div");s.classList.add("nlux-comp-sendIcon");const o=document.createElement("div");return o.classList.add("nlux-comp-sendIcon-container"),s.appendChild(o),s})()),r.append(ei()),e.append(t),e.append(r),ti(e,n.status),n.status!=="submitting-conversation-starter"&&n.status!=="submitting-prompt"||(t.disabled=!0,r.disabled=!0),n.status==="waiting"&&(r.disabled=!0),n.status==="typing"&&(r.disabled=n.disableSubmitButton??t.value===""),e},tr=(n,e)=>{let t=!1;const r=e?n.querySelector(e):n,s=r instanceof HTMLElement?r:void 0;if(!s)throw new Xn({source:"dom/listenTo",message:`Could not find element with query "${e}". Make sure the query provided matches an element that exists in the root element.`});const o=new Map,a=new Map,c=()=>{s&&(o.forEach((f,d)=>{s.removeEventListener(d,f)}),o.clear(),a.clear())},p={on:(f,d)=>{if(!d||!s)return p;if(!o.has(f)){const h=m=>{var y;(y=a.get(f))==null||y.forEach(v=>v(m))};o.set(f,h),s.addEventListener(f,h)}return a.has(f)||a.set(f,new Set),a.get(f).add(d),p},get:()=>{if(t)throw new Error("listenTo().get() can only be used once!");return t=!0,[s,c]}};return p};var Pu=Object.defineProperty,Iu=Object.getOwnPropertyDescriptor,on=(n,e,t,r)=>{for(var s,o=r>1?void 0:r?Iu(e,t):e,a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r?s(e,t,o):s(o))||o);return r&&o&&Pu(e,t,o),o};let Ct=class extends nt{constructor(e,{props:t,eventListeners:r}){super(e,t),this.userEventListeners=r}focusTextInput(){this.executeDomAction("focusTextInput")}handleCommandEnterKeyPressed(e){var r;((r=this.getProp("domCompProps"))==null?void 0:r.submitShortcut)==="CommandEnter"&&(this.handleSendButtonClick(),e==null||e.preventDefault())}handleEnterKeyPressed(e){var r;const t=(r=this.getProp("domCompProps"))==null?void 0:r.submitShortcut;t&&(t!=="Enter"||e!=null&&e.isComposing)||(this.handleSendButtonClick(),e==null||e.preventDefault())}handleSendButtonClick(){var s;const e=this.getProp("domCompProps");if(e!=null&&e.disableSubmitButton||!(e==null?void 0:e.message))return;const r=(s=this.userEventListeners)==null?void 0:s.onSubmit;r&&r()}handleTextChange(e){var s;const t=(s=this.userEventListeners)==null?void 0:s.onTextUpdated;t&&t(e);const r=this.getProp("domCompProps");this.setDomProps({...r,message:e})}handleTextInputUpdated(e){const t=e.target;t instanceof HTMLTextAreaElement&&this.handleTextChange(t.value)}setDomProps(e){this.setProp("domCompProps",e)}};on([ot("command-enter-key-pressed")],Ct.prototype,"handleCommandEnterKeyPressed",1),on([ot("enter-key-pressed")],Ct.prototype,"handleEnterKeyPressed",1),on([ot("send-message-clicked")],Ct.prototype,"handleSendButtonClick",1),on([ot("text-updated")],Ct.prototype,"handleTextInputUpdated",1),Ct=on([wt("composer",({appendToRoot:n,props:e,compEvent:t})=>{const r=Tu(e.domCompProps);n(r);const[s,o]=tr(r,":scope > textarea").on("input",t("text-updated")).on("keydown",d=>{const h=d.key==="Enter"&&!d.isComposing,m=d.altKey||d.ctrlKey||d.metaKey||d.shiftKey;if(h&&!m)return void t("enter-key-pressed")(d);const y=d.getModifierState("Meta")&&d.key==="Enter",v=d.getModifierState("Control")&&d.key==="Enter";(y||v)&&t("command-enter-key-pressed")(d)}).get(),[a,c]=tr(r,":scope > button").on("click",t("send-message-clicked")).get();if(!(a instanceof HTMLButtonElement))throw new Error("Expected a button element");if(!(s instanceof HTMLTextAreaElement))throw new Xn({source:(p="composer",f="render",`#${p}/${f}`),message:"Expected a textarea element"});var p,f;return{elements:{root:r,textInput:s,sendButton:a},actions:{focusTextInput:()=>dt(()=>{s.focus(),s.setSelectionRange(s.value.length,s.value.length)})},onDestroy:()=>{o(),c()}}},({propName:n,currentValue:e,newValue:t,dom:r})=>{var s;n==="domCompProps"&&((s=r.elements)!=null&&s.root)&&((o,a,c)=>{if(a.status===c.status&&a.message===c.message&&a.placeholder===c.placeholder&&a.autoFocus===c.autoFocus&&a.disableSubmitButton===c.disableSubmitButton)return;if(a.status!==c.status)return ti(o,c.status),void((f,d,h)=>{if(d.status===h.status)return;const m=f.querySelector("* > textarea");h.status!=="typing"&&h.status!=="waiting"||!m.disabled?h.status!=="submitting-prompt"&&h.status!=="submitting-conversation-starter"||m.disabled||(m.disabled=!0):m.disabled=!1;const y=f.querySelector("* > button");if(h.status==="typing"){const v=(d.disableSubmitButton!==h.disableSubmitButton?h.disableSubmitButton:d.disableSubmitButton)??m.value==="";y.disabled!==v&&(y.disabled=v)}else h.status!=="waiting"&&h.status!=="submitting-prompt"&&h.status!=="submitting-conversation-starter"||y.disabled||(y.disabled=!0);d.placeholder!==h.placeholder&&(m.placeholder=h.placeholder??""),d.message!==h.message&&(m.value=h.message??""),d.autoFocus!==h.autoFocus&&(m.autofocus=h.autoFocus??!1)})(o,a,c);const p=o.querySelector("* > textarea");if(a.placeholder!==c.placeholder&&(p.placeholder=c.placeholder??""),a.autoFocus!==c.autoFocus&&(p.autofocus=c.autoFocus??!1),a.message!==c.message&&(p.value=c.message??""),a.status==="typing"){const f=o.querySelector("* > button"),d=(a.disableSubmitButton!==c.disableSubmitButton?c.disableSubmitButton:a.disableSubmitButton)??p.value==="";f.disabled!==d&&(f.disabled=d)}})(r.elements.root,e,t)})],Ct);const ns=n=>{if(typeof n!="object"||n===null)return!1;const e=n;return(typeof e.streamText=="function"||typeof e.batchText=="function")&&["stream","batch"].includes(e.dataTransferMode)&&typeof e.id=="string"&&typeof e.info=="object"&&e.info!==null&&typeof e.preProcessAiBatchedMessage=="function"&&typeof e.preProcessAiStreamedChunk=="function"},Oe=(n,e=1)=>{setTimeout(()=>{n()},e)},Ru=(n,e,t,r,s,o,a,c,p)=>new Promise(f=>{const d=st(),h=[],m=[];let y=!1,v=!1,S=!1;const P=ns(t),O={next:T=>{if(v||S)return;let A,i;if(P){const u=T,l=t.preProcessAiStreamedChunk(u,r);l!=null&&(A=l,i=u,h.push(A),m.push(i))}else A=T,h.push(A);A!=null?(y||y||(y=!0,Oe(()=>{s.forEach(u=>{u({uid:d,status:"streaming",time:new Date,participantRole:"assistant",dataTransferMode:"stream"})})})),Oe(()=>{a.forEach(u=>{u({chunk:A,messageId:d,serverResponse:i})})})):oe("Adapter returned an undefined or null value from streamText. This chunk will be ignored.")},complete:()=>{v||S||(S=!0,Oe(()=>{const T={uid:d,status:"complete",content:h,contentType:"text",serverResponse:void 0,time:new Date,participantRole:"assistant",dataTransferMode:"stream"};o.forEach(A=>{A(T)}),f()}),Oe(()=>{const T={uid:n,status:"complete",items:[e,{uid:d,status:"complete",contentType:"text",content:h,serverResponse:m,time:new Date,participantRole:"assistant",dataTransferMode:"stream"}]};c.forEach(A=>{A(T)})}))},error:T=>{v||S||(v=!0,Oe(()=>{p.forEach(A=>{A("failed-to-stream-content",T)}),f()}))}};t.streamText(e.content,O,r)}),Du=(n,e,t)=>{if(!n)return(()=>{const T=new Set,A=st(),i={uid:A,status:"complete",items:[]};return Oe(()=>{T.forEach(u=>{u(i)}),T.clear()}),{segment:i,observable:{on:(u,l)=>{u==="complete"&&T.add(l)},removeListener:(u,l)=>{T.delete(l)},destroy:()=>{T.clear()},get segmentId(){return A}},dataTransferMode:"batch"}})();const r=e;if(r.streamText===void 0&&r.batchText===void 0&&r.streamServerComponent===void 0)return(T=>{const A=new Set,i=st(),u={uid:i,status:"error",items:[]};return Oe(()=>{A.forEach(l=>l(T)),A.clear()}),{segment:u,dataTransferMode:"stream",observable:{on:(l,g)=>{l==="error"&&A.add(g)},removeListener:(l,g)=>{A.delete(g)},destroy:()=>{A.clear()},get segmentId(){return i}}}})("no-data-transfer-mode-supported");const s=st(),o=(T=>({uid:st(),time:new Date,status:"complete",participantRole:"user",content:T,contentType:"text"}))(n);let a,c,p,f,d,h,m=new Set,y=new Set,v=new Set;Oe(()=>{m!=null&&m.size&&(m.forEach(T=>{T(o)}),m.clear(),m=void 0)});const S=(T=>{const A=[],i=T,u=T;(i==null?void 0:i.streamText)===void 0&&(u==null?void 0:u.streamServerComponent)===void 0||A.push("stream"),(i==null?void 0:i.batchText)!==void 0&&A.push("batch");const l=ns(T)?T:void 0,g=(l==null?void 0:l.dataTransferMode)??void 0,k=A.length===1?A[0]:"stream";return g??k})(e);(T=>"streamServerComponent"in T?"server-component":"text")(e)==="server-component"?(p=new Set,c=new Set,((T,A,i,u,l,g,k,w)=>new Promise((b,E)=>{try{const L=A.content,D=st(),R="assistant",j="streaming",x=new Date,q="stream";let $,N;const M=()=>{Oe(()=>{g.forEach(Q=>{$&&N&&Q({...$,content:N,status:"complete"})})},20);const V={uid:T,status:"complete",items:[A,$]};Oe(()=>{k.forEach(Q=>{Q(V)}),b()},20)},B=()=>{w.forEach(V=>{V("failed-to-stream-server-component",new Error("Failed to load content"))})};N=i.streamServerComponent(L,u,{onServerComponentReceived:M,onError:B}),$={uid:D,content:N,contentType:"server-component",participantRole:R,status:j,time:x,dataTransferMode:q},Oe(()=>{l.forEach(V=>{V($)})},10)}catch(L){oe(L);const D=L instanceof Error?L:typeof L=="string"?new Error(L):new Error("Unknown error");Oe(()=>{w.forEach(R=>R("failed-to-load-content",D))})}}))(s,o,e,t,c,p,y,v).finally(()=>{Oe(()=>O())})):S==="batch"?(a=new Set,(async(T,A,i,u,l,g,k)=>{try{const w=A.content,b=ns(i)?i:void 0,E=b!==void 0,L=st(),D="assistant",R="complete",j=new Date,x="batch";let q;if(E){const M=await b.batchText(w,u),B=b.preProcessAiBatchedMessage(M,u);B!=null&&(q={uid:L,content:B,contentType:"text",serverResponse:M,participantRole:D,status:R,time:j,dataTransferMode:x})}else q={uid:L,content:await i.batchText(w,u),contentType:"text",serverResponse:void 0,participantRole:D,status:R,time:j,dataTransferMode:x};if(!q)throw new Error("Response from adapter was undefined or cannot be processed");const $=q;Oe(()=>{l.forEach(M=>{M($)})});const N={uid:T,status:"complete",items:[A,q]};Oe(()=>{g.forEach(M=>{M(N)})})}catch(w){oe(w);const b=w instanceof Error?w:typeof w=="string"?new Error(w):new Error("Unknown error");Oe(()=>{k.forEach(E=>E("failed-to-load-content",b))})}})(s,o,e,t,a,y,v).finally(()=>{Oe(()=>O())})):(f=new Set,d=new Set,h=new Set,Ru(s,o,e,t,f,d,h,y,v).finally(()=>{Oe(()=>O())}));const O=()=>{m==null||m.clear(),m=void 0,a==null||a.clear(),a=void 0,c==null||c.clear(),c=void 0,p==null||p.clear(),p=void 0,f==null||f.clear(),f=void 0,d==null||d.clear(),d=void 0,h==null||h.clear(),h=void 0,y==null||y.clear(),y=void 0,v==null||v.clear(),v=void 0};return{segment:{status:"active",uid:s,items:[]},dataTransferMode:S,observable:{get segmentId(){return s},on:(T,A)=>{T==="userMessageReceived"&&m?m.add(A):T==="aiMessageReceived"&&a?a.add(A):T==="aiServerComponentStreamStarted"&&c?c.add(A):T==="aiServerComponentStreamed"&&p?p.add(A):T==="aiMessageStreamStarted"&&f?f.add(A):T==="aiMessageStreamed"&&d?d.add(A):T==="aiChunkReceived"&&h?h.add(A):T==="complete"&&y?y.add(A):T==="error"&&v&&v.add(A)},removeListener:(T,A)=>{T!=="userMessageReceived"?T!=="aiMessageReceived"?T!=="aiMessageStreamStarted"?T!=="aiMessageStreamed"?T!=="aiChunkReceived"?T!=="complete"?T!=="error"||(v==null||v.delete(A)):y==null||y.delete(A):h==null||h.delete(A):d==null||d.delete(A):f==null||f.delete(A):a==null||a.delete(A):m==null||m.delete(A)},destroy:()=>O()}}},Lu={"data-transfer-mode-not-supported":"Requested data transfer mode is not supported","no-data-transfer-mode-supported":"Adapter does not support any valid data transfer modes","connection-error":"Connection error","invalid-credentials":"Invalid credentials","invalid-api-key":"Invalid API key","http-server-side-error":"HTTP server side error","http-client-side-error":"HTTP client side error","failed-to-load-content":"Failed to load content","failed-to-stream-content":"Failed to stream content","failed-to-stream-server-component":"Failed to stream server component","failed-to-render-content":"Failed to display content"},rs=(n,e)=>n!==void 0&&n.length>0||e!==void 0&&e>0?"active":"starting",So="nlux-comp-welcomeMessage-text",ni=(n,e)=>{const t=n.querySelector(`.${So}`);if(e!==""&&e!==void 0)if(t)t.textContent=e;else{const r=document.createElement("div");r.classList.add(So),r.textContent=e,n.appendChild(r)}else t==null||t.remove()},ri="nlux-comp-welcomeMessage-personaName",ss=n=>{const e=document.createElement("div");e.classList.add("nlux-comp-welcomeMessage");const t=Ls({name:n.name,avatar:n.avatar});e.append(t);const r=document.createElement("div"),s=document.createTextNode(n.name);return r.append(s),r.classList.add(ri),e.append(r),ni(e,n.message),e},_o=()=>ss({name:"",avatar:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABGdBTUEAALGPC/xhBQAACklpQ0NQc1JHQiBJRUM2MTk2Ni0yLjEAAEiJnVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/stRzjPAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAJcEhZcwAAewgAAHsIAXgkHaEAABj0SURBVHic7Z13vBxV2ce/Z29ugEQMEAICQUBAkBqqlCiRKqC0gApKE14poh8VUCmihv4SCB2CVAtFQBR9UZpCaMIL0ouAGIIEQgsJya27e/zjmb117+yUc+bM7J7v53Nys3dnzjx3dn9z2nOeR2mt8Xg89Sm5NsDjyTNeIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCKNsVdwzY4Ktqgej+v6RHwpQ8lqr2jFD3q+9UAPrGHDcwN8F6JD3hr1m0LHjgYnAWsAqwGrA8sDKwNLAOGAMsCTQPuDkMtANdAALgUXAPOBtYC4wB5gNvI5m7gBLhxjOiK8VwMAdpQOPrf1eD31PD/5dcJwa8lr+P+D4Ie8pCxtZ249/z3id1gTSoowHNgEmBWUDNGsBYy1eswy8BrwIPAs8BTyBiMeTEi+QdCwFfA6YAmwLbAaMHf7Ytsoo4NNB2XPA758GHgHuB2bBwFbGExUvkPisAOwK7ALsAKyQrR4is3FQjgR6EaH8CfgL8E+HdhUKL5BoLAHsBUwFdkczxq05sWkHdgwKiFhuBm7DtyyheIGEsyFwMHCA0nol18YYZLugnAfcAlwD3OPUopziBVKf3dEcCXzJtSGWGQ0cEJTHgV8A1wI9Dm3KFX4dZDD7A48iffVmF8dQNgdmAv8CTkCmoFseLxDhq8CTaH09Wm+J1rRwmYjWZyBC+TEy/mpZWl0gOwEPorkRzaT+BS1f0ExAcybwKvCtNDe5yLSqQNYAbkZzF5ptc/BlzHOZiGYm0vXcKukNLyqtKJD9gRdB7+v6m1ewsiXoR4CTE931gtJKAvkEcAua69Es4f77VthyKuLOsk3cD6CItIpADgReRjM1B1+wZigbo3kIOCPm51A4mn0dZDRwFVp/w7UhTcoJyETHQYizZNPRzALZXMGNwJquDWlyNgeeAw5DFhmbimYVyBHA5WjXZrQMJcRdZUvgaMe2GKUZBXIZWh/p2ogW5SjEf20v4H23ppiheQSiWBL4E5odXJvS4kxGNm7tiuxJKTTNIpBV0PwNWNu1IR4AVkKmgr8I3OnWlHTYE8iwfdqGGD6uWA/0LGS7qydf/AX4BvAb14YkxZ5AqtZqFkSAWwctR0s71OWcXwPLAhe7NiQJ1gSiKnamkHTf0qaaDDxg5SIe01yErEmd59qQuBR1DLI1WntxFItzkX7F+Y7tiEURXU0mAQ+5NsKTiBnIGlVhKFYLolgDzcPYmwLw2Ody4EPgJsd2RMKeQLThMYji42j+riQWlafY3Ai8hWaWa0MaYVEgButSgOYBJCaVpzn4G7AWmn+7NiSMYnSxNLcBG7k2w2OUEjKWXJ0cR1HJdxdLRho/Q3x7PM3HSsDdwHZ5dSzNexdrd+CnRmry5JXPA+eiOda1IfXIcxdrRTS3uzbCkwk/QMKh5u7zznMX6y7ys07TDTwJvAC8gkxTdiIxb5dGIqtvCHyWfD908sxtwIqA+SQfKcjrh3kG+RiU3wr8DvgrkrimEasAOyN74L9g0a5mpATcgWy6yg1Km16vCOg9bdlkJyq2AB4zakx8LgQuQPFaorPllu4AnIL0sT3ROREJWBeb9pPnm7bFpkCWSXimmovMbrjgLuBYFM+JKQlr0YP+fwzirOeJjP400pWNRfvJHxq3xJ43bzLdzQBnaQaO04pzLXixXKy0noUExF7VdOVNyu+QMZ1z7A2C48daWg/N9xzEeOpGxg3n2roVwDPARmieyUFMqyKUDYDvxD7PAnmZJQL4rYNrfoCkKbvb6lWkUfoQ2AIRi6cRmguBZVybYXFHYQxJK74JrG/Nlvp8BGyGUrMzvGYPmm1Av4qEQvWEcxWaqS4NyMM07yh05tsxe4FtUBmkShZHSyT3BgCLgc+h+Sf5asHzyD7AlmjtbFYzDwuF15O1C7tSnwee6/vijrK4vaQKDN9+/CqyK/JRexduGn4PrOzq4m4H6dL/38+aDfX5X+Dvfa+0li9wnC5hFJSITpUrUvfwTE6PAd81e9GmZCXgOFcXt7YOUj7l41EOewAJNJYVz1JvhV4H/7S3oUeV+lu/NA2LVqieClSrfWIZgUfJ2epxDukAxgHlsINGTVto/MIWW5C6T82BZXM0kzOePtwtdHqwtwrlavqlkJJClatSH6qRTfvlYFo172UMmh81/E5ZwGUXa3rGySm/D/o/oTe3qlFdZekShT/1R6ZNich6ysHdbXgj5qD12TlI3pn3ciKattBbaQFrAlHhZX0F2zU4xlzRvAicH3oTNX0th+pJ2IoooKIpdVZQOrh2NULRnKA0CzO7H8UsYxR8O+wYG7hqQX6eaRMNBygNkYpSqN4qqrsCpRi3XQFKUeqsyKBfqThPNQ0cl4OuTN7LSVRhxGIBFwuFy6MyXfy5AQmkHAvVXUGPLolIosxwlRSqqwK9gbDi94l/Afwcd46aRWAFYE80f8jqgi4WquL72KRrPY6JbaECtKbUUZaWoNF4pKRQZY3qLMvJye09PgdP6byXE8I/DLO4WCj8trVrDmc6Wn2Q7FQFPRXU4l70Um2hhwHQ0SstTRs1YSbhN8DZyMYrT30+i+zgfDmLi2XdguxKdmkKysApqR5XJYVa3CuD9lEj3KpSCdVZ7h+zJBdHjT+mrqH5OSqrC2U9SD86w6b4TDSdqetpK6E6yjJ1O6qEbh9QlmiDSlXeL5VM2X1dDroxeS8Ho1HDfm+BLMP+LIuE8cmCHpShHN4KEUFXBb0UlDrL/X9bSUFZB+MUI1cD+DuapxE3HE99at+lP9m+UJZjkP2wN109lIuArtS1aEQEo0qU3u/qdx3RA94f3UZ13GgRibmcKGcjTpyekTmQDARizRerctyYob/6K9lF+hiPbIZKR5uCKqiPumWMoZT8TiHiCFoXVElEMrpNumIm0HyAPCk99elA7k9f2NK26R3GL5LVIH05shPHLzEljrKm9GGXiGNUqV8c0P+zTZwbSx92oxb3BouLqaZ6ay3UL1L/Dc3NGCRJqFUsBm0Y1DLtYes6wy/M6anO14gYequoBd39r8MIFgbVRz3Sooxtly5musb5YuCHqWpofqZiORpjVi3IbhldZxaal1M9uUvB+seCbqmxLeKwSclYRXWUUYuClqTWFUvGG0gYIs/IHASMtXmBLGaxSsCO1q4zmNNSnd2mpOVY2CNf7ji+WDVGlaBLnBX12HZx8EouknOQiCue+jyI5YmfLGaxtiCbweabpIlO0iZOiiwMxnxJxDGgLrrK4q84ph10NalI7kH+Lr+yPpw7Ucr6GCSLhcLtM1o8ujDxuUoG5OqjQBxRu1VhtJVQnRXZX5J0b4kwIwcLc3krj5DBAB2yGYN8LoNraGBmorMCb93Sop7+1yZQoEsKtbgsriqlxDNbM7HmzF1I3gCmZHUx212sNsS5zDa3AgtinzVQHBUtU7YmCcYxalEP+mPt0F5Kspi4CHFiPNCscYVkIRIMvAcN8gTB6ijEdhdrPTTLZdDkxu+GBDaqjl5xFzHVcgwlqLa0qBd6ddKW5MwcdGtcl/mI+83sure5104ja3sWaxNr9ffzGoqHY59VKqG6yqjuqt24WNDfUnX0Uh07WkQTxHOIyItoHgK2tWVizqkAW1EaIA5N315b1V016eYzCIuRFTVoJtmrP0BxOTrOF1ye4qqnIhucbLUcQwkcG1VHL3rMKLEj3kPvdCTBTCuyA6iX++5XTRwaiR5TrprvHgfYTn9gP4S95ur+PlMEFBK9pKPc/zoralPJXRX0Um2oeE+9PwNzgE/aMS63HKPh/mEPFI3cv4rF7jH2u1jrWqtf+APwfuSjg8AKqm/3X5bqCCgp8e1qU0kG7afSWj5aN6G4pO6nVNVSLM/D2pzFmghMtFY/gFKXRD5WB0+anir0OBIH9LVYqrOMVu3yAVc1kZoyxVVoPR2JMtjsvIlSX6vbOdBBy5HBR2hTf2tYrBs089D67khBx6rBzawEgeEcaaOPUuBG31Vm0JRaoyJ7E9I5YxYBzUJgu4afZwbYnOZdzeq0H1wZ41gg6NpUcC8QkDvfq2UGRsWa+p2BpisH0662ygfApsC/6t63kUMwrTDSG2mwGZt3ouVQlDMjH6tA9VZkHSIkQEnmlIDuqtgWhBqKUMpoPS0HoUBtlPlonUQce6D1LTY+IpuDdJsOdg8iLgeNCWat6DYQlNo0NXtqrUh09/izgROBj1myzAWdwBYoXq/7blWH3ZvrgCVsGGWzizXeYvcqRkYqJb5Q8t/8URu091Ti3IMqmhNz0B0y+ZluS1jLUR3x3IPRLIO2EyfL5iyWrRx8H4G6OdKRqraQpNM+ClZFgpWtDiyP7HlfEom99T4wF3gJeE7si4kCKuIuodtV1FX2i9CcBKwY+3p5Q7ELWj0JBGIZ0lSMHDehDbg0+P9oG6bZzFG4jKV6f43Wjdega12r3sTi2BHYE/FG3pBaLeFdoPlI9+92xIFyfuSrlZBZthLo6AHo/gfLW04z4BDCdk6GBxU5A9mbzoCfRrEW1YTD214C1jFer2JD5EndmLIeeUpwYCyrvp9qLBK175vAZ1JaugC4EjgXrd8C+r/0mvofvAZKSJariCjNw8DW6Ux1g4afopgmr4Z/SCr8u7kcgxeJ53Jlxfi412YXy4ai/4FWjcVRaz3izZcfjdanYK7LMg44FjgamAac1fCMwIlRlXWchcz90Xp2Qhtdcp1Salq/BgaLQdXrag1m6HqQlS6WzUH6khYGchdGOjCeONZDciVegmZFCwPQpYAzkVyEjVulmrgrVSJOjb4O/Mz5IDtemQUcgtaoEYr8bSOePwHNkUN+Z+Vhb3Ml3bSiO9HcEOkDiJ6x9lDgeWq5Em0hdm2JdA2/2vD42nTvyDM3Q8vPySjauQFepVGMtMafxU/q/M7Kd9nmOohpg69hQBS9kOs2RlqWc9CZpxcuATcis2LTGx6tNTH6iLshX748Mx/YhjBH/8af3xJIt3UoVibxXeQHSYbiVGN1aW4H/WVj9cXnHMTT+fCGR0YXyb9A7wnZZV+KySsodgb1LlBfCHqkNwZxJhn6Q7jIMJWE69G8Ham70Zg7AJfiqHEYkadoo3buuZ1sExRF5U0k/NPs8MMafoAfA75vwqCo2BRIxWBd6QLC9fN7JIlPXvgycJnhOi9FotvnhbeBzYAFouOQCYfGhInfyqZ0mwJpPF6IxqPAiwbq+SWy8Jc3jgS+Y7jO75KP9An/RuISzDNUX1jrYfKB3IdNgXQaquenBuo4j3yHzbkQ2MpwnV9HwgW54lFgEtKCmGB3wteoyoauMwibAllsoI5XgDtT1nEsGfdbE3IX5j1SvwFcYLjOKPwKEfxCg3U2mnE01WMZhE2BmMhmcnLK8/chynRqPlga8d8yzfeQblwWaCTt9kGG612dxtEUew1fE7ArkPdSnv8f4Lcpzt8CO184m+yORA40zUyku/OQhbpr3IF4JUSPExCdKDNzprr0g7ApkHdSnv+DFOeuBNyf8vqusNUlehqYDByBhA8yxYPIbNzuiMu/DQ6LcExLCeQ1INqej+G0Aw8DS6W4vksmIW7strgCWBNZpLwvYR2vI+GHvoBsB7CZTHNvoqXPiL8PJwI294P8J8W5ab4g9yF91iJzGeKSYuVDR2Z8rgrK2siXfAuki7QyMh6qBUjtQB52s4EngVnIDJVN77WBRJ0Cf9fGxfMokPuRjLhJuBXx9Sk6bci44YAMrvVKUK4e8Luao6nG0uA3IqsQPfnrXBsG2OxizU54XtL1iiuQWatmYX+yCN1an56guBQHwLdiHFt/P3tKbArkNeLf4FOIGq1kMNOx2293xTWuDXBMY2fOfl6zYYBNgcwnnvv1C5DIY/cMZDGwGdmMfPmOZckUZDwUFSszaLa9eeMYnSTn3HnACQnOKxKXuzbAEXH80+Yhfl/GsS2QZyIety/xu1anUwwXkrR8EvGraiXGIdO7UXmWAnrzAjwV4ZgTib/iPSU4r1U4z7UBGXMg8XYIPm3LENsCeaLB+6cjO8TisAytl2lpBeINWIvOUTGP/4cVK7AvkDcYeXbheJI5I/6V4q6Sp+EM1wZkxKbIgmUcHrNhCGSz5XZogs1XgZ1I5mV7A9kkBs0jE4jmk1R04m4ZnoPFYBVZCOTR4OdLSKuxDnBPgnpmAF8zZVRBMbX1OK+MRhZI4zDLhiE1bLqa1LgJmc1K84eciexraHU+gQxgf+XaEEscSPzuc1K3pEhk0YK8SzpxnAz82JAtzUAzp2BLMm2fpDcSmbyH/TmQZKvrzcyqNJfPWY1JwPoxz3meZK5JkcmzQL6ERCLxDOds1wZYIEmUyz8at2IIeRXIXmTwxxeYtYCdXRthkKVJ5tpvJS/hQPIokKOA21wbUQDOcW2AQY4gfmzdN2i8EJ2avAnkMvpTannC2Qg7AR5ckKR7lSagR2TyIpDtkdQAWYWnaRaaYSyyD8mSFl1n2pB6uBbIpsje63uJP4PhkeBsm7s2IiVJImc+j3jwWieLhcKhrI3sG/8KktPCk44ZSNCFIrIt0lWMy0zThoyEC4HcgOyU85hhMtISW/NotUiSLmIVuNawHSPioot1rYNrNjs2ohnaZiOkBYnL9dgLhzQMFwK5BLNBjT0yFpns2oiYJI0gmenEhAuBaNxEHG92MuuXG2ATGgejrsdjyGxnZriaxZpOdpH5WoX1kImPIpBUzJkH6HAlkIW0brQOm1zs2oAIfBEJcxqXl7Hs2l4Pl+sgJjJHeQYzAZjm2ogGXJnwPCexz1wK5F2KOfuSd36CpH/IIyci8Xbj8hJ2I8iPiOuV9JMcX79ZudG1AXWYQPLNXseYNCQOrgWygNYI/pY1n0cy3eaJPyc8707EFckJrgUCcD7iW+MxywXILr08cDXJvSf2NWlIXPIgEJBsrB7z/J9rAxBv3UMTnns8sMigLbHJi0CeonkjdbhkZdzmSl+d5IlU55CDDMV5EQhIfg8riRhbnAOQHXtZsyTwQIrz9zNlSBryJJBukmeX8oRzOdmnpnsAmJjw3KuwGE40DnkSCEhznHS2wxPOfcCnMrxW0o1cH5CjbGF5EwjIrEW3ayOakHYkDGzSp3oUPg48AmyXoo69yJGfXh4F0kG85Cme6CyPbKxa00LdmyHbYLdKUce5pBu3GCePAgHpZnk3FDtMQBLOTDFY57HA40g2rKQ8T7LoJlbJq0BA3Asy2ZjfgowF/gb8KGU9OyHpLdJOx+qgrtyRZ4EA7Ijk6/bY4SzgIeQ+R2UMkobiXuAuYGsDduwBvGWgHuO4CNoQh3eQ/QOZ7wNoIbYB7gYeRIKxPYBkjF0MLAGMR+JWbYhET9kNSQlnip/hyFM3CkprSxMGh8SNJBnKMcBFJiv0hLIAcfFYElgWez2NWzC5IHit+e9y3rtYNS6mGLvlmoVxyL6N8dj7jjxBTlbLwyiKQEASy//OtREeI8yhIHGFiyQQgKlYzknnsc6HyFpJh2M7IlE0gYCs0j7u2ghPIjqBz5LTGat6FFEgIFOLT7o2whOLbkQcL7s2JA5FFUgZudn/79oQTySqyOdVuIXfogoEoBe56fe7NsTTkMMR95bCUWSBgLgoTAF+79YMTwhzgGtcG5GUogukxt5I+jZP/rCax9w2zSIQgKOBH7o2wjMMp0EX0tJMAgHJ/LoX3sExT6zu2oA0NJtAAP4AbIBESvG4J0mKtdzQjAIBeAXJQXGFa0M8rI6EHyokzSqQGkcgQekWuzakxVnPtQFJaXaBgAROWwfpenncsIFrA5LSCgIBeBMZvB+Gz4/oAi+QgnA18GkkYrgnOz7j2oCktJpAAOYh23gPBd5wbEursC4Sl6twtKJAalwLrI1kZPLdLrssB6zl2ogktLJAQFywT0MCqZ1FwVd9c866rg1IQqsLpMZ7SIrhNZEkmPPcmtOUFHLB0AtkMO8g2Xc/BXwbCSzQClSwvwW2kGshXiD16QAuRSKUb4+MVz5yaZAl7gC+DqwBrIbs1DwBO6kHxlio0zpFiYuVB8YjEQD3BnYBRrs1JzGPALche2heCTlucySC4lTMOBxegu1stRbiYnmBJGMlYGckZOcU7KYUSMsiZNflX5C9GS8lqGNP4CtBSRqNczIS5tQeXiC5pA3Z+jsZCWezKdJdccX7wDNILpCHkODSHxiqe1Xgm4hQ4owp7iVe/N9keIEUhvWBjZF4tusgawCfRCIWmqILeB2YDfwTCYjwNPAC2Thn7oDkP9wLWecYiReALTOxyQuk0IxDumYrBz+XRRLajEeCRI9GVptLyF77XmTjVw8SbO09pCWYB8wF3kZm3VwzDhHJVMTnanlkVuwtxKXneCQKjX0KJRCPpwnw07weTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwj/Ba/47FkhCYEqAAAAAElFTkSuQmCC"});var Ou=Object.defineProperty,Mu=Object.getOwnPropertyDescriptor,Co=(n,e,t,r)=>{for(var s,o=r>1?void 0:r?Mu(e,t):e,a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r?s(e,t,o):s(o))||o);return r&&o&&Ou(e,t,o),o};let Qn=class extends nt{constructor(n,e){super(n,e),this.updateConversationStarters=t=>{}}conversationStarterClicked(n){this.getProp("onConversationStarterSelected")(n)}};Co([ot("conversation-starter-selected")],Qn.prototype,"conversationStarterClicked",1),Qn=Co([wt("conversationStarters",({appendToRoot:n,props:e,compEvent:t})=>{const r=(o=>{const a=document.createElement("div");return a.classList.add("nlux-comp-conversationStarters"),o.forEach((c,p)=>{const f=document.createElement("button");f.classList.add("nlux-comp-conversationStarter");let d=document.createElement("div");c.icon&&(typeof c.icon=="string"?(d=document.createElement("img"),d.setAttribute("src",c.icon),d.setAttribute("width","16px")):(d.className="nlux-comp-conversationStarter-icon-container",d.appendChild(c.icon)));const h=document.createElement("span");h.classList.add("nlux-comp-conversationStarter-prompt"),h.textContent=c.label??c.prompt,f.appendChild(d),f.appendChild(h),a.appendChild(f)}),a})(e.conversationStarters);n(r);let s=[];return e.conversationStarters.forEach((o,a)=>{const[c,p]=tr(r,`:scope > :nth-child(${a+1})`).on("click",()=>{t("conversation-starter-selected")(o)}).get();s.push(p)}),{elements:{},actions:{},onDestroy:()=>{s.forEach(o=>o()),s=[],r.remove()}}},({})=>{})],Qn);let os=class extends nt{constructor(n,e){super(n,e),this.setConversationStarters(e.conversationStarters)}setConversationStarters(n){var e;if(n||this.conversationStartersComp){if(n&&!this.conversationStartersComp){const t=this.getProp("onConversationStarterSelected");return this.conversationStartersComp=Ft(Qn).withContext(this.context).withProps({conversationStarters:n,onConversationStarterSelected:t}).create(),void this.addSubComponent(this.conversationStartersComp.id,this.conversationStartersComp,"conversationStartersContainer")}!n&&this.conversationStartersComp?(this.removeSubComponent(this.conversationStartersComp.id),this.conversationStartersComp=void 0):(e=this.conversationStartersComp)==null||e.updateConversationStarters(n)}}setShowGreeting(n){this.setProp("showGreeting",n),this.executeDomAction("resetGreeting",n)}setAssistantPersona(n){this.setProp("assistantPersona",n),this.executeDomAction("updateAssistantPersona",n)}resetConversationStarters(){const n=this.getProp("conversationStarters");this.setConversationStarters(n)}};os=((n,e,t,r)=>{for(var s,o=e,a=n.length-1;a>=0;a--)(s=n[a])&&(o=s(o)||o);return o})([wt("launchPad",({appendToRoot:n,props:e})=>{const t={assistantPersona:e.assistantPersona,conversationStarters:e.conversationStarters,showGreeting:e.showGreeting!==!1};let r;if(t.showGreeting)if(e.assistantPersona){const a=e.assistantPersona;r=ss({name:a.name,avatar:a.avatar,message:a.tagline})}else r=_o();r&&(n(r),t.greetingElement=r);const s=document.createElement("div");s.classList.add("nlux-conversationStarters-container"),n(s);const o=(a=!0)=>{t.showGreeting=a,t.greetingElement&&(t.greetingElement.remove(),t.greetingElement=void 0),a&&(t.greetingElement=t.assistantPersona?ss({name:t.assistantPersona.name,avatar:t.assistantPersona.avatar,message:t.assistantPersona.tagline}):_o(),t.greetingElement&&s.insertAdjacentElement("beforebegin",t.greetingElement))};return{elements:{conversationStartersContainer:s},actions:{resetGreeting:(a=!0)=>{o(a)},updateAssistantPersona:a=>{const c=t.assistantPersona;t.assistantPersona=a,(c||a)&&t.showGreeting&&(a&&c?((p,f,d)=>{if(f.message!==d.message||f.name!==d.name||f.avatar!==d.avatar){if(f.message!==d.message&&ni(p,d.message),f.name!==d.name){const h=p.querySelector(`.${ri}`);if(h){const m=document.createTextNode(d.name);h.replaceChildren(m)}}if(f.avatar!==d.avatar||f.name!==d.name){const h=p.querySelector(`.${Ds}`);h&&Ja(h,{name:f.name,avatar:f.avatar},{name:d.name,avatar:d.avatar})}}})(t.greetingElement,{name:c==null?void 0:c.name,avatar:c==null?void 0:c.avatar,message:c==null?void 0:c.tagline},{name:a.name,avatar:a.avatar,message:a.tagline}):o())}},onDestroy:()=>{var a;(a=t.greetingElement)==null||a.remove(),s.remove()}}},({})=>{})],os);var ju=Object.defineProperty,Bu=Object.getOwnPropertyDescriptor,Dr=(n,e,t,r)=>{for(var s,o=r>1?void 0:r?Bu(e,t):e,a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r?s(e,t,o):s(o))||o);return r&&o&&ju(e,t,o),o};let qn=class extends nt{constructor(n,{conversationLayout:e,autoScroll:t,streamingAnimationSpeed:r,visible:s=!0,composer:o,assistantPersona:a,userPersona:c,showGreeting:p,conversationStarters:f,initialConversationContent:d,syntaxHighlighter:h,htmlSanitizer:m,markdownLinkTarget:y,showCodeBlockCopyButton:v,skipStreamingAnimation:S}){if(super(n,{conversationLayout:e,visible:s,autoScroll:t,streamingAnimationSpeed:r,assistantPersona:a,userPersona:c,conversationStarters:f,showGreeting:p,initialConversationContent:d,composer:o,syntaxHighlighter:h,htmlSanitizer:m,markdownLinkTarget:y,showCodeBlockCopyButton:v,skipStreamingAnimation:S}),this.prompt="",this.handleConversationStarterClick=P=>{this.composer.setDomProps({status:"submitting-conversation-starter"}),this.composer.handleTextChange(P.prompt),this.composer.handleSendButtonClick()},this.handleSegmentCountChange=P=>{var T,A;if(this.segmentCount===P)return;this.segmentCount=P;const O=rs(this.getProp("initialConversationContent")||void 0,this.segmentCount);this.chatRoomStatus!==O&&(this.chatRoomStatus=O,this.executeDomAction("updateChatRoomStatus",this.chatRoomStatus),this.chatRoomStatus==="active"?(T=this.launchPad)!=null&&T.id&&(this.removeSubComponent((A=this.launchPad)==null?void 0:A.id),this.launchPad=void 0):this.addLaunchPad(this.getProp("showGreeting")??!0,this.getProp("assistantPersona"),this.getProp("conversationStarters"),this.handleConversationStarterClick))},this.segmentCount=d&&d.length>0?1:0,this.chatRoomStatus=rs(d,this.segmentCount),this.chatRoomStatus==="starting"&&this.addLaunchPad(p,a,f,this.handleConversationStarterClick),this.addConversation(a,c,d),this.addComposer(o==null?void 0:o.placeholder,o==null?void 0:o.autoFocus,o==null?void 0:o.disableSubmitButton,o==null?void 0:o.submitShortcut),!this.conversation||!this.composer)throw new Error("Chat room not initialized — An error occurred while initializing key components.")}getConversationContentForAdapter(n="max"){return this.conversation.getConversationContentForAdapter(n)}hide(){this.setProp("visible",!1)}messagesContainerClicked(){var n;(n=this.composer)==null||n.focusTextInput()}onChatRoomReady(){dt(()=>{var e,t;const n=(t=(e=this.renderedDom)==null?void 0:e.elements)==null?void 0:t.conversationContainer;if(n instanceof HTMLElement){this.autoScrollController=Su(n,this.getProp("autoScroll")??!0);let r=0;const s=20,o=()=>{n.scrollHeight>n.clientHeight&&(n.scrollTo({behavior:"smooth",top:5e4}),clearInterval(a))},a=setInterval(()=>{r>=s?clearInterval(a):(o(),r++)},10)}this.context.emit("ready",{aiChatProps:_u(this.context.aiChatProps)})})}setProps(n){var e,t,r,s,o,a,c;if(n.hasOwnProperty("autoScroll")){const p=n.autoScroll;(e=this.autoScrollController)==null||e.updateProps({autoScroll:p})}if(n.hasOwnProperty("conversationLayout")&&((t=this.conversation)==null||t.setConversationLayout(n.conversationLayout)),n.hasOwnProperty("syntaxHighlighter")&&this.setProp("syntaxHighlighter",n.syntaxHighlighter),n.hasOwnProperty("htmlSanitizer")&&this.setProp("htmlSanitizer",n.htmlSanitizer),n.hasOwnProperty("markdownLinkTarget")&&this.setProp("markdownLinkTarget",n.markdownLinkTarget),n.hasOwnProperty("skipStreamingAnimation")&&this.setProp("skipStreamingAnimation",n.skipStreamingAnimation),n.hasOwnProperty("streamingAnimationSpeed")&&this.setProp("streamingAnimationSpeed",n.streamingAnimationSpeed),n.hasOwnProperty("assistantPersona")&&((r=this.conversation)==null||r.setAssistantPersona(n.assistantPersona??void 0),(s=this.launchPad)==null||s.setAssistantPersona(n.assistantPersona??void 0)),n.hasOwnProperty("userPersona")&&((o=this.conversation)==null||o.setUserPersona(n.userPersona??void 0)),n.hasOwnProperty("showGreeting")&&((a=this.launchPad)==null||a.setShowGreeting(n.showGreeting??!0)),n.hasOwnProperty("conversationStarters")&&((c=this.launchPad)==null||c.setConversationStarters(n.conversationStarters)),n.hasOwnProperty("composer")&&this.composer){const p={...this.composer.getProp("domCompProps"),...n.composer};this.composer.setDomProps(p)}}show(){this.setProp("visible",!0)}setProp(n,e){if(super.setProp(n,e),n==="markdownLinkTarget"||n==="syntaxHighlighter"||n==="htmlSanitizer"||n==="skipStreamingAnimation"||n==="streamingAnimationSpeed"){const t=n,r=e;this.conversation.updateMarkdownStreamRenderer(t,r)}}addLaunchPad(n,e,t,r){this.launchPad=Ft(os).withContext(this.context).withProps({showGreeting:n,assistantPersona:e,conversationStarters:t,onConversationStarterSelected:r}).create(),this.addSubComponent(this.launchPad.id,this.launchPad,"launchPadContainer")}addConversation(n,e,t){this.conversation=Ft(ts).withContext(this.context).withProps({assistantPersona:n,userPersona:e,messages:t,conversationLayout:this.getProp("conversationLayout"),markdownLinkTarget:this.getProp("markdownLinkTarget"),showCodeBlockCopyButton:this.getProp("showCodeBlockCopyButton"),skipStreamingAnimation:this.getProp("skipStreamingAnimation"),streamingAnimationSpeed:this.getProp("streamingAnimationSpeed"),syntaxHighlighter:this.getProp("syntaxHighlighter"),htmlSanitizer:this.getProp("htmlSanitizer"),onSegmentCountChange:this.handleSegmentCountChange}).create(),this.addSubComponent(this.conversation.id,this.conversation,"conversationContainer")}addComposer(n,e,t,r){this.composer=Ft(Ct).withContext(this.context).withProps({props:{domCompProps:{status:"typing",placeholder:n,autoFocus:e,disableSubmitButton:t,submitShortcut:r}},eventListeners:{onTextUpdated:s=>this.handleComposerTextChange(s),onSubmit:()=>this.handleComposerSubmit()}}).create(),this.addSubComponent(this.composer.id,this.composer,"composerContainer")}handleComposerSubmit(){const n=this.props.composer;(({context:e,composerInstance:t,conversation:r,autoScrollController:s,messageToSend:o,resetComposer:a,setComposerAsWaiting:c})=>()=>{var f,d;const p=r.addChatSegment();try{const h=t.getProp("domCompProps");t.setDomProps({...h,status:"submitting-prompt"});const m={aiChatProps:e.aiChatProps,conversationHistory:r.getConversationContentForAdapter((d=(f=e.aiChatProps)==null?void 0:f.conversationOptions)==null?void 0:d.historyPayloadSize)},y=Du(o,e.adapter,m);y.observable.on("error",(v,S)=>{r.removeChatSegment(p),s==null||s.handleChatSegmentRemoved(p),a(!1),e.exception(v),e.emit("error",{errorId:v,message:Lu[v],errorObject:S})}),y.observable.on("userMessageReceived",v=>{r.addChatItem(p,v),e.emit("messageSent",{uid:v.uid,message:v.content}),dt(()=>{if(s){const S=r.getChatSegmentContainer(p);S&&s.handleNewChatSegmentAdded(p,S)}})}),y.dataTransferMode==="batch"?y.observable.on("aiMessageReceived",v=>{const S=typeof v.content=="string",P={...v,content:S?"":v.content};r.addChatItem(p,P),S&&r.addChunk(p,P.uid,v.content,v.serverResponse),r.completeChatSegment(p),e.emit("messageReceived",{uid:v.uid,message:v.content}),a(!0)}):(y.observable.on("aiMessageStreamStarted",v=>{r.addChatItem(p,v),c(),e.emit("messageStreamStarted",{uid:v.uid})}),y.observable.on("aiChunkReceived",v=>{const{messageId:S,chunk:P,serverResponse:O}=v;r.addChunk(p,S,P,O)}),y.observable.on("aiMessageStreamed",v=>{v.status==="complete"&&e.emit("messageReceived",{uid:v.uid,message:v.content})}),y.observable.on("aiServerComponentStreamStarted",v=>{r.addChatItem(p,v),c(),e.emit("messageStreamStarted",{uid:v.uid})}),y.observable.on("aiServerComponentStreamed",v=>{v.status==="complete"&&e.emit("messageReceived",{uid:v.uid,message:v.content})}),y.observable.on("complete",()=>{r.completeChatSegment(p),a(!1)}))}catch(h){oe(h),a(!1)}})({context:this.context,composerInstance:this.composer,conversation:this.conversation,messageToSend:this.prompt,autoScrollController:this.autoScrollController,resetComposer:e=>{this.destroyed||this.resetComposer(e,n==null?void 0:n.autoFocus)},setComposerAsWaiting:()=>{this.destroyed||this.composer.setDomProps({status:"waiting"})}})()}handleComposerTextChange(n){this.prompt=n}resetComposer(n=!1,e=!1){if(!this.composer)return;const t={...this.composer.getProp("domCompProps"),status:"typing"};n&&(t.message=""),this.composer.setDomProps(t),e&&this.composer.focusTextInput()}};Dr([ot("conversation-container-clicked")],qn.prototype,"messagesContainerClicked",1),Dr([ot("chat-room-ready")],qn.prototype,"onChatRoomReady",1),qn=Dr([wt("chatRoom",({appendToRoot:n,compEvent:e,props:t})=>{const r=document.createElement("div");r.classList.add("nlux-conversation-container");const s=document.createElement("div");s.classList.add("nlux-composer-container");const o=document.createElement("div");o.classList.add("nlux-launchPad-container");const a=document.createDocumentFragment();a.appendChild(o),a.appendChild(r),a.appendChild(s);const c=t.visible??!0,p=document.createElement("div"),f=m=>{p.classList.remove("nlux-chatRoom-starting"),p.classList.remove("nlux-chatRoom-active"),p.classList.add(`nlux-chatRoom-${m}`)};p.classList.add("nlux-chatRoom-container"),f(rs(t.initialConversationContent)),p.append(a),p.style.display=c?"":"none";const[d,h]=tr(p,":scope > .nlux-conversation-container").on("click",e("conversation-container-clicked")).get();return n(p),e("chat-room-ready")(),{elements:{composerContainer:s,conversationContainer:r,launchPadContainer:o},actions:{updateChatRoomStatus:m=>{f(m)}},onDestroy:()=>{h()}}},({propName:n,newValue:e,dom:{elements:t}})=>{})],qn);const qu=n=>{const e=new Set;let t=!1,r=null,s=null;const o=()=>{if(t||e.size===0)return;t=!0;const c=e.values().next().value;e.delete(c),r=(({message:p})=>{const f=document.createElement("div");f.classList.add("nlux-comp-exceptionItem");const d=document.createElement("span");return d.classList.add("nlux-comp-exp_itm_msg"),d.append(document.createTextNode(p)),f.append(d),f})(c),n.append(r),s=setTimeout(a,3e3)},a=()=>{r==null||r.classList.add("nlux-comp-exceptionItem--hiding"),s=setTimeout(()=>{t=!1,r==null||r.remove(),r=null,o()},500)};return{displayException:c=>{e.add({message:c}),t||o()},destroy:()=>{e.clear(),r==null||r.remove(),s&&clearTimeout(s)}}};let Eo=class extends nt{constructor(n,e){super(n,e)}destroy(){super.destroy()}showAlert(n,e){this.executeDomAction("displayException",e)}};Eo=((n,e,t,r)=>{for(var s,o=e,a=n.length-1;a>=0;a--)(s=n[a])&&(o=s(o)||o);return o})([wt("exceptionsBox",({props:n,appendToRoot:e})=>{const t=(()=>{const s=document.createElement("div");return s.classList.add("nlux-comp-exceptionBox"),s})();e(t);let r=qu(t);return{elements:{root:t},actions:{displayException:s=>{r==null||r.displayException(s)}},onDestroy:()=>{r==null||r.destroy(),t.remove(),r=void 0}}},()=>{})],Eo);class zu{constructor(e){this.actionToPerformWhenIdle="none",this.itemIds=new Set,this.status="idle",this.theContextId=null,this.updateQueueByItemId=new Map,this.dataAdapter=e}get contextId(){return this.theContextId}async createContext(e){if(this.status==="destroyed")return{success:!1,error:"The context has been destroyed"};const t=e??null;this.itemIds.clear(),t!==null&&Object.keys(t).forEach(r=>{this.itemIds.add(r)}),this.actionToPerformWhenIdle="none";try{const r=await this.dataAdapter.create(t??{});return r.success?(this.theContextId=r.contextId,{success:!0,contextId:r.contextId}):{success:!1,error:"Failed to set the context"}}catch(r){return{success:!1,error:`${r}`}}}async destroy(){return this.status==="destroyed"?(oe("Context.DataSyncService.destroy() called on a state that has already been destroyed"),{success:!0}):(this.status!=="updating"||this.contextId||oe("Context.DataSyncService.destroy() called with no contextId!"),this.contextId&&(this.status="updating",await this.dataAdapter.discard(this.contextId)),this.status="destroyed",this.theContextId=null,this.updateQueueByItemId.clear(),this.actionToPerformWhenIdle="none",{success:!0})}async flush(){if(!this.contextId)throw new Error("Context not initialized");if(this.status==="updating")return void(this.actionToPerformWhenIdle="flush");this.status="updating";const e=this.updateQueueByItemId.keys(),t=[],r=[];for(const o of e){const a=this.updateQueueByItemId.get(o);a&&(a.operation!=="delete"?["set","update"].includes(a.operation)&&t.push(o):r.push(o))}const s=t.reduce((o,a)=>{const c=this.updateQueueByItemId.get(a);return c&&(c.operation==="set"&&(o[a]={value:c.data,description:c.description}),c.operation!=="update"||c.data===void 0&&c.description===void 0||(o[a]={value:c.data,description:c.description})),o},{});if(Object.keys(s).length>0){Object.keys(s).forEach(o=>{this.updateQueueByItemId.delete(o)});try{await this.dataAdapter.updateItems(this.contextId,s)}catch(o){oe(`Failed to update context data: ${o}`),Object.keys(s).forEach(a=>{const c=s[a];c&&this.updateQueueByItemId.set(a,{operation:"update",data:c.value,description:c.description})})}}if(r.length>0){r.forEach(o=>{this.itemIds.delete(o),this.updateQueueByItemId.delete(o)});try{await this.dataAdapter.removeItems(this.contextId,r)}catch(o){oe(`Failed to delete context data: ${o}`),r.forEach(a=>{this.itemIds.add(a),this.updateQueueByItemId.set(a,{operation:"delete"})})}}await this.backToIdle()}hasActiveItemWithId(e){var t;return this.itemIds.has(e)&&(!this.updateQueueByItemId.has(e)||((t=this.updateQueueByItemId.get(e))==null?void 0:t.operation)!=="delete")}hasItemWithId(e){return this.itemIds.has(e)}removeItem(e){if(this.status==="destroyed")throw new Error("The context has been destroyed");if(!this.contextId)throw new Error("Context not initialized");if(!this.itemIds.has(e))throw new Error("Item not found");this.updateQueueByItemId.set(e,{operation:"delete"})}async resetContextData(e){const t=this.contextId;if(this.itemIds.clear(),this.updateQueueByItemId.clear(),this.status!=="updating"){if(!t)return oe("resetContextData() called with no contextId!"),void await this.backToIdle();try{this.status="updating",await this.dataAdapter.resetItems(t,e)}catch(r){oe(`Failed to reset context data: ${r}`)}this.updateQueueByItemId.clear(),e?(this.itemIds.clear(),Object.keys(e).forEach(r=>{this.itemIds.add(r)})):this.itemIds.clear(),await this.backToIdle()}else this.actionToPerformWhenIdle="reset"}setItemData(e,t,r){if(this.status==="destroyed")throw new Error("The context has been destroyed");this.updateQueueByItemId.set(e,{operation:"set",description:t,data:r}),this.itemIds.add(e)}updateItemData(e,t,r){if(this.status==="destroyed")throw new Error("The context has been destroyed");if(r===void 0&&t===void 0)return;const s=this.updateQueueByItemId.get(e);if((s==null?void 0:s.operation)==="delete")throw new Error("Item has been deleted");const o=r??(s==null?void 0:s.data)??void 0,a=t??(s==null?void 0:s.description)??void 0;this.updateQueueByItemId.set(e,{operation:"update",data:o,description:a})}async backToIdle(){this.status="idle";const e=this.actionToPerformWhenIdle;this.actionToPerformWhenIdle="none",e!=="flush"?e!=="reset"||await this.resetContextData():await this.flush()}}class Nu{constructor(e,t){this.actionToPerformWhenIdle="none",this.status="idle",this.taskCallbacks=new Map,this.tasks=new Set,this.updateQueueByTaskId=new Map,this.contextId=e,this.adapter=t}canRunTask(e){return this.taskCallbacks.has(e)}async destroy(){return this.status==="destroyed"?(oe("Context.TasksService.destroy() called on a state that has already been destroyed"),{success:!0}):(this.status="updating",await this.unregisterAllTasks(),this.status="destroyed",this.updateQueueByTaskId.clear(),this.tasks.clear(),{success:!0})}async flush(){if(this.status==="updating")return void(this.actionToPerformWhenIdle="flush");const e=this.updateQueueByTaskId.keys(),t=[],r=[],s=[];for(const a of e){const c=this.updateQueueByTaskId.get(a);c&&(c.operation!=="delete"?c.operation!=="set"?c.operation==="update"&&r.push(a):t.push(a):s.push(a))}if(t.length===0&&r.length===0&&s.length===0)return;this.status="updating";const o={...this.buildUpdateObject(t),...this.buildUpdateObject(r)};if(Object.keys(o).length>0)try{const a=await this.adapter.updateTasks(this.contextId,o);if(a.success)for(const c of Object.keys(o)){const p=this.updateQueueByTaskId.get(c);p&&p.operation==="set"&&(this.taskCallbacks.set(c,p.callback),this.updateQueueByTaskId.delete(c))}else oe(`Context.TasksService.flush() failed to register tasks for context ID ${this.contextId}
Error: ${a.error}`)}catch(a){oe(`Context.TasksService.flush() failed to register tasks for context ID ${this.contextId}
Error: ${a}`)}if(s.length>0)try{const a=await this.adapter.removeTasks(this.contextId,s);if(a.success)for(const c of s)this.taskCallbacks.delete(c),this.updateQueueByTaskId.delete(c);else oe(`Context.TasksService.flush() failed to unregister tasks for context ID ${this.contextId}
Error: ${a.error}`)}catch(a){oe(`Context.TasksService.flush() failed to unregister tasks for context ID ${this.contextId}
Error: ${a}`)}await this.backToIdle()}hasTask(e){return this.tasks.has(e)}async registerTask(e,t,r,s){if(this.status==="destroyed")throw new Error("Context has been destroyed");if(this.tasks.has(e))throw new Error(`A task with ID '${e}' already exists. Task IDs must be unique.`);this.updateQueueByTaskId.set(e,{operation:"set",description:t,paramDescriptions:s||[],callback:r}),this.tasks.add(e)}async resetContextData(){const e=this.contextId;if(this.tasks.clear(),this.taskCallbacks.clear(),this.updateQueueByTaskId.clear(),this.status!=="updating"){if(!e)return oe("resetContextData() called with no contextId!"),void await this.backToIdle();try{this.status="updating",await this.unregisterAllTasks()}catch(t){oe(`Failed to reset context data: ${t}`)}await this.backToIdle()}else this.actionToPerformWhenIdle="reset"}async runTask(e,t){if(this.status==="destroyed")throw new Error("Context has been destroyed");if(!this.tasks.has(e))return{success:!1,error:`Task with ID ${e} not found`};const r=this.taskCallbacks.get(e);if(!r)return{success:!1,error:`The task with ID '${e}' has no callback. This is potential due to failed registration.`};try{return{success:!0,result:r(...t??[])}}catch(s){return{success:!1,error:`${s}`}}}async unregisterAllTasks(){if(this.tasks.size===0)return{success:!0};const e=await this.adapter.resetTasks(this.contextId);return e.success&&(this.tasks.clear(),this.taskCallbacks.clear(),this.updateQueueByTaskId.clear()),e}async unregisterTask(e){if(this.status==="destroyed")throw new Error("Context has been destroyed");return this.tasks.has(e)?(this.tasks.delete(e),this.taskCallbacks.delete(e),this.updateQueueByTaskId.set(e,{operation:"delete"}),{success:!0}):{success:!0}}async updateTaskCallback(e,t){if(this.status==="destroyed")throw new Error("The context has been destroyed");if(!this.tasks.has(e))throw new Error(`Task with ID ${e} not found`);this.taskCallbacks.set(e,t)}async updateTaskDescription(e,t){if(this.status==="destroyed")throw new Error("The context has been destroyed");if(!this.tasks.has(e))throw new Error(`Task with ID ${e} not found`);const r=this.updateQueueByTaskId.get(e);if(r)if(r.operation!=="update"){const s={operation:"update",description:t};this.updateQueueByTaskId.set(e,s)}else r.description=t;else this.updateQueueByTaskId.set(e,{operation:"update",description:t})}async updateTaskParamDescriptions(e,t){if(this.status==="destroyed")throw new Error("The context has been destroyed");if(!this.tasks.has(e))throw new Error(`Task with ID ${e} not found`);const r=this.updateQueueByTaskId.get(e);if(r)if(r.operation!=="update"){const s={operation:"update",paramDescriptions:t};this.updateQueueByTaskId.set(e,s)}else r.paramDescriptions=t;else this.updateQueueByTaskId.set(e,{operation:"update",paramDescriptions:t})}async backToIdle(){this.status="idle";const e=this.actionToPerformWhenIdle;this.actionToPerformWhenIdle="none",e!=="flush"?e!=="reset"||await this.unregisterAllTasks():await this.flush()}buildUpdateObject(e){return e.reduce((t,r)=>{const s=this.updateQueueByTaskId.get(r);if(!s)return t;if(s.operation==="set"&&(t[r]={description:s.description,paramDescriptions:s.paramDescriptions}),s.operation==="update"&&(s.description!==void 0||s.paramDescriptions!==void 0)){const o={};s.description!==void 0&&(o.description=s.description),s.paramDescriptions!==void 0&&(o.paramDescriptions=s.paramDescriptions),t[r]=o}return t},{})}}class $u{constructor(){this.theDataAdapter=null,this.theDataSyncOptions=null,this.theDataSyncService=null,this.theStatus="idle",this.theTasksAdapter=null,this.theTasksService=null,this.destroy=async()=>{var e,t;return this.theStatus==="destroyed"||(this.theStatus="destroyed",await Promise.all([(e=this.theDataSyncService)==null?void 0:e.destroy(),(t=this.theTasksService)==null?void 0:t.destroy()]),this.theDataSyncService=null,this.theTasksService=null,this.theDataAdapter=null,this.theTasksAdapter=null),{success:!0}},this.flush=async()=>{var e,t;try{await((e=this.theDataSyncService)==null?void 0:e.flush())}catch{return{success:!1,error:"Failed to flush context data"}}try{await((t=this.theTasksService)==null?void 0:t.flush())}catch{return{success:!1,error:"Failed to flush context tasks"}}return{success:!0}},this.initialize=async e=>{var t;if(this.theStatus==="initializing")return oe(`${this.constructor.name}.initialize() called while context is still initializing! You cannot initialize twice at the same time. Use ${this.constructor.name}.status or await ${this.constructor.name}.initialize() to make sure that the context is not initializing before calling this method.`),{success:!1,error:"Context is still initializing! Use AiContext.status to check the context status before calling this method."};if(this.theStatus==="syncing")return oe(`${this.constructor.name}.initialize() called on an already initialized context! Use ${this.constructor.name}.status to check the context status before calling this method. `),{success:!1,error:"Context already initialized! Use AiContext.status to check the context status before calling this method."};if(this.theStatus==="destroyed")return oe(`${this.constructor.name}.initialize() called on destroyed context! Use ${this.constructor.name}.status to check the context status before calling this method. When the context is destroyed, it cannot be used anymore and you should create a new context.`),{success:!1,error:"Context has been destroyed"};if(this.theStatus==="error")return oe(`${this.constructor.name}.initialize() called on a context in error state! Use ${this.constructor.name}.status to check the context status before calling this method. When the context is in error state, it cannot be used anymore and you should create a new context.`),{success:!1,error:"Context is in error state"};if(!this.theDataAdapter)return oe(`Adapter not set! You must set the adapter before initializing the context. Use ${this.constructor.name}.withAdapter() to set the adapter before calling this method.`),{success:!1,error:"Adapter not set"};this.theStatus="initializing",this.theDataSyncService=new zu(this.theDataAdapter);try{const r=await this.theDataSyncService.createContext(e);return this.status==="destroyed"?(r.success&&await((t=this.theDataSyncService)==null?void 0:t.resetContextData()),{success:!1,error:"Context has been destroyed"}):r.success?this.contextId?(this.theStatus="syncing",this.theTasksAdapter?this.theTasksService=new Nu(this.contextId,this.theTasksAdapter):oe("Initializing nlux AiContext without tasks adapter. The context will not handle registering and executing tasks by AI. If you want to use tasks triggered by AI, you should provide an adapter that implements ContextAdapter interface [type ContextAdapter = ContextDataAdapter & ContextTasksAdapter]"),{success:!0,contextId:r.contextId}):(this.theStatus="error",{success:!1,error:"Failed to obtain context ID"}):(this.theStatus="error",{success:!1,error:"Failed to initialize context"})}catch(r){return this.theStatus="error",{success:!1,error:`${r}`}}},this.observeState=(e,t,r)=>{var s;if(this.theStatus!=="idle")if(this.theStatus!=="initializing"){if(this.theStatus!=="destroyed")return(s=this.theDataSyncService)==null||s.setItemData(e,t,r??null),{setData:o=>{var a;(a=this.theDataSyncService)==null||a.updateItemData(e,void 0,o)},setDescription:o=>{var a;(a=this.theDataSyncService)==null||a.updateItemData(e,o,void 0)},discard:()=>{var o;(o=this.theDataSyncService)==null||o.removeItem(e)}};oe(`${this.constructor.name}.observeState() called on destroyed context! Use ${this.constructor.name}.status to check the context status before calling this method. When the context is destroyed, it cannot be used anymore and you should create a new context.`)}else oe(`${this.constructor.name}.observeState() called while context is still initializing! You cannot observe state items while the context is initializing. Use ${this.constructor.name}.status or await ${this.constructor.name}.initialize() to make sure that the context is not initializing before calling this method.`);else oe(`${this.constructor.name}.observeState() called on idle context! Use ${this.constructor.name}.status to check the context status before calling this method. Use ${this.constructor.name}.initialize() to initialize the context when it is not initialized.`)},this.registerTask=(e,t,r,s)=>{if(this.theStatus==="idle")return void oe(`${this.constructor.name}.registerTask() called on idle context! Use ${this.constructor.name}.status to check the context status before calling this method. Use ${this.constructor.name}.initialize() to initialize the context when it is not initialized.`);if(!this.theTasksService)return void oe(`${this.constructor.name}.registerTask() called on a context that has does not have tasks service! You should use an adapter that implements ContextTasksAdapter interface in order to register tasks. Use ${this.constructor.name}.withAdapter() to set the right adapter before calling this method.`);if(this.theStatus==="destroyed")return void oe(`${this.constructor.name}.registerTask() called on destroyed context! Use ${this.constructor.name}.status to check the context status before calling this method. When the context is destroyed, it cannot be used anymore and you should create a new context.`);let o="updating";if(!this.theTasksService.hasTask(e))return this.theTasksService.registerTask(e,t,r,s).then(()=>{o==="updating"&&(o="set")}).catch(()=>{oe(`${this.constructor.name}.registerTask() failed to register task '${e}'!
The task will be marked as deleted and will not be updated anymore.`),o==="updating"&&(o="deleted",this.unregisterTask(e))}),{discard:()=>{o="deleted",this.unregisterTask(e)},setDescription:a=>{var c;if(o==="deleted")throw new Error("Task has been deleted");o="updating",(c=this.theTasksService)==null||c.updateTaskDescription(e,a).then(()=>{o==="updating"&&(o="set")}).catch(()=>{o==="updating"&&(o="set")})},setCallback:a=>{var c;if(o==="deleted")throw new Error("Task has been deleted");o="updating",(c=this.theTasksService)==null||c.updateTaskCallback(e,a).then(()=>{o==="updating"&&(o="set")}).catch(()=>{o==="updating"&&(o="set")})},setParamDescriptions:a=>{var c;if(o==="deleted")throw new Error("Task has been deleted");o="updating",(c=this.theTasksService)==null||c.updateTaskParamDescriptions(e,a).then(()=>{o==="updating"&&(o="set")}).catch(()=>{o==="updating"&&(o="set")})}};console.warn(`${this.constructor.name}.registerTask() called with existing taskId: ${e}! It's only possible to register a task once. Use ${this.constructor.name}.hasTask() to check if the task already exists. Use ${this.constructor.name}.registerTask() with a different taskId if you want to register a different task.`)},this.reset=async e=>{var t,r;if(!this.theDataSyncService)return oe(`${this.constructor.name}.reset() called on a state that has not been initialized! Use ${this.constructor.name}.initialize() to initialize the context before attempting any reset.`),{success:!1,error:"Context has not been initialized"};try{return await((t=this.theDataSyncService)==null?void 0:t.resetContextData(e)),await((r=this.theTasksService)==null?void 0:r.resetContextData()),this.theStatus="syncing",{success:!0}}catch(s){return this.theStatus="error",{success:!1,error:`${s}`}}},this.runTask=async(e,t)=>this.theTasksService?this.theTasksService.runTask(e,t):(oe(`${this.constructor.name}.runTask() called on a state that has not been initialized! Use ${this.constructor.name}.initialize() to initialize the context before attempting any task execution.`),Promise.resolve({success:!1,error:"Context has not been initialized with tasks service. An adapter that implements ContextTasksAdapter interface should be provided to the context, and the context should be initialized before running any tasks."})),this.withAdapter=e=>{if(this.theDataAdapter)throw new Error("Adapter already set");const t=typeof(e==null?void 0:e.build)=="function";this.theDataAdapter=t?e.build():e;const r=(s=>{const o=s;return!(!o||typeof o.resetTasks!="function"||typeof o.updateTasks!="function"||typeof o.removeTasks!="function")&&o})(this.theDataAdapter);return r&&(this.theTasksAdapter=r),this},this.withDataSyncOptions=e=>{if(this.theDataSyncOptions)throw new Error("Data sync options already set");return this.theDataSyncOptions={...e},this},this.unregisterTask=e=>this.theTasksService?this.theTasksService.unregisterTask(e):(oe(`${this.constructor.name}.unregisterTask() called on a state that has not been initialized! Use ${this.constructor.name}.initialize() to initialize the context before attempting any task unregister.`),Promise.resolve({success:!1,error:"Context has not been initialized"}))}get contextId(){var e;return((e=this.theDataSyncService)==null?void 0:e.contextId)??null}get status(){return this.theStatus}hasItem(e){var t;return((t=this.theDataSyncService)==null?void 0:t.hasItemWithId(e))??!1}hasRunnableTask(e){var t;return((t=this.theTasksService)==null?void 0:t.canRunTask(e))??!1}hasTask(e){var t;return((t=this.theTasksService)==null?void 0:t.hasTask(e))??!1}}const Ao=()=>new $u,Hu={"1k":1e3,"10k":1e4,"100k":1e5,"1mb":1e6,"10mb":1e7};var To=Object.prototype.hasOwnProperty;function Po(n,e){for(let t of n.keys())if(pn(t,e))return t}function pn(n,e){var t,r,s;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&pn(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if((s=r)&&typeof s=="object"&&!(s=Po(e,s))||!e.has(s))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if((s=r[0])&&typeof s=="object"&&!(s=Po(e,s))||!pn(r[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){for(t in r=0,n)if(To.call(n,t)&&++r&&!To.call(e,t)||!(t in e)||!pn(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!=n&&e!=e}const Fu=n=>{const e=new Set;let t=!1,r=null,s=null;const o=()=>{if(t||e.size===0)return;t=!0;const c=e.values().next().value;e.delete(c),r=(({message:p})=>{const f=document.createElement("div");f.classList.add("nlux-comp-exceptionItem");const d=document.createElement("span");return d.classList.add("nlux-comp-exp_itm_msg"),d.append(document.createTextNode(p)),f.append(d),f})(c),n.append(r),s=setTimeout(a,3e3)},a=()=>{r==null||r.classList.add("nlux-comp-exceptionItem--hiding"),s=setTimeout(()=>{t=!1,r==null||r.remove(),r=null,o()},500)};return{displayException:c=>{e.add({message:c}),t||o()},destroy:()=>{e.clear(),r==null||r.remove(),s&&clearTimeout(s)}}},ht=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const e=16*Math.random()|0;return(n=="x"?e:3&e|8).toString(16)}),Be=n=>{typeof n!="string"?n&&typeof n.toString=="function"?console.warn(`[nlux] ${n.toString()}`):console.warn("[nlux]"):console.warn(`[nlux] ${n}`)},Io=[],yn=n=>{Io.includes(n)||(Io.push(n),Be(n))},Uu=n=>{const e="nlux-chatSegment";return n==="complete"?`${e} nlux-chatSegment--complete`:n==="error"?`${e} nlux-chatSegment--error`:`${e} nlux-chatSegment--active`},as={received:"nlux_msg_received",sent:"nlux_msg_sent"},is={streaming:"nlux_msg_streaming",complete:"nlux_msg_complete"},Ro=n=>{if(!(n instanceof HTMLButtonElement)||n.dataset.clickListenerSet==="true")return;let e=!1;const t=n.nextElementSibling;n.addEventListener("click",()=>{if(e||!t)return;const r=t.innerText;navigator.clipboard.writeText(r??""),e=!0,n.classList.add("clicked"),setTimeout(()=>{e=!1,n.classList.remove("clicked")},1e3)}),n.dataset.clickListenerSet="true"},si=n=>{const e="nlux-comp-copyButton";n instanceof HTMLButtonElement&&n.classList.contains(e)?Ro(n):n.querySelectorAll(`.${e}`).forEach(Ro)};function Vu(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Lt={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function Do(n){Lt=n}var Gu=Object.defineProperty,oi=(n,e,t)=>((r,s,o)=>s in r?Gu(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o)(n,typeof e!="symbol"?e+"":e,t);class hn{constructor(e){oi(this,"options"),this.options=e||Lt}postprocess(e){return e}preprocess(e){return e}processAllTokens(e){return e}}oi(hn,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));const ai=/[&<>"']/,Wu=new RegExp(ai.source,"g"),ii=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Yu=new RegExp(ii.source,"g"),Qu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Lo=n=>Qu[n];function Qe(n,e){if(e){if(ai.test(n))return n.replace(Wu,Lo)}else if(ii.test(n))return n.replace(Yu,Lo);return n}const Zu=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Xu(n){return n.replace(Zu,(e,t)=>(t=t.toLowerCase())==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const Ku=/(^|[^\[])\^/g;function ye(n,e){let t=typeof n=="string"?n:n.source;e=e||"";const r={replace:(s,o)=>{let a=typeof o=="string"?o:o.source;return a=a.replace(Ku,"$1"),t=t.replace(s,a),r},getRegex:()=>new RegExp(t,e)};return r}function Oo(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const mn={exec:()=>null};function Mo(n,e){const t=n.replace(/\|/g,(s,o,a)=>{let c=!1,p=o;for(;--p>=0&&a[p]==="\\";)c=!c;return c?"|":" |"}).split(/ \|/);let r=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),e)if(t.length>e)t.splice(e);else for(;t.length<e;)t.push("");for(;r<t.length;r++)t[r]=t[r].trim().replace(/\\\|/g,"|");return t}function zn(n,e,t){const r=n.length;if(r===0)return"";let s=0;for(;s<r;){const o=n.charAt(r-s-1);if(o!==e||t){if(o===e||!t)break;s++}else s++}return n.slice(0,r-s)}const _n=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ci=/(?:[*+-]|\d{1,9}[.)])/,ui=ye(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,ci).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Os=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Ms=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Ju=ye(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Ms).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ed=ye(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ci).getRegex(),gr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",js=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,td=ye("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",js).replace("tag",gr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),jo=ye(Os).replace("hr",_n).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gr).getRegex(),Bs={blockquote:ye(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",jo).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:Ju,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:_n,html:td,lheading:ui,list:ed,newline:/^(?: *(?:\n|$))+/,paragraph:jo,table:mn,text:/^[^\n]+/},Bo=ye("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",_n).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gr).getRegex(),nd={...Bs,table:Bo,paragraph:ye(Os).replace("hr",_n).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Bo).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gr).getRegex()},rd={...Bs,html:ye(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",js).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:mn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ye(Os).replace("hr",_n).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ui).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},di=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,li=/^( {2,}|\\)\n(?!\s*$)/,Cn="\\p{P}\\p{S}",sd=ye(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Cn).getRegex(),od=ye(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Cn).getRegex(),ad=ye("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Cn).getRegex(),id=ye("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Cn).getRegex(),cd=ye(/\\([punct])/,"gu").replace(/punct/g,Cn).getRegex(),ud=ye(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),dd=ye(js).replace("(?:-->|$)","-->").getRegex(),ld=ye("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",dd).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),nr=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,fd=ye(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",nr).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),qo=ye(/^!?\[(label)\]\[(ref)\]/).replace("label",nr).replace("ref",Ms).getRegex(),zo=ye(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ms).getRegex(),qs={_backpedal:mn,anyPunctuation:cd,autolink:ud,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:li,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:mn,emStrongLDelim:od,emStrongRDelimAst:ad,emStrongRDelimUnd:id,escape:di,link:fd,nolink:zo,punctuation:sd,reflink:qo,reflinkSearch:ye("reflink|nolink(?!\\()","g").replace("reflink",qo).replace("nolink",zo).getRegex(),tag:ld,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:mn},pd={...qs,link:ye(/^!?\[(label)\]\((.*?)\)/).replace("label",nr).getRegex(),reflink:ye(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",nr).getRegex()},cs={...qs,escape:ye(di).replace("])","~|])").getRegex(),url:ye(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},hd={...cs,br:ye(li).replace("{2,}","*").getRegex(),text:ye(cs.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Nn={normal:Bs,gfm:nd,pedantic:rd},an={normal:qs,gfm:cs,breaks:hd,pedantic:pd};var md=Object.defineProperty,Lr=(n,e,t)=>((r,s,o)=>s in r?md(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o)(n,typeof e!="symbol"?e+"":e,t);function No(n,e,t,r){const s=e.href,o=e.title?Qe(e.title):null,a=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){r.state.inLink=!0;const c={type:"link",raw:t,href:s,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,c}return{type:"image",raw:t,href:s,title:o,text:Qe(a)}}class rr{constructor(e){Lr(this,"lexer"),Lr(this,"options"),Lr(this,"rules"),this.options=e||Lt}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let r,s;return t[2]==="@"?(r=Qe(t[1]),s="mailto:"+r):(r=Qe(t[1]),s=r),{type:"link",raw:t[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let r=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);r=zn(r.replace(/^ *>[ \t]?/gm,""),`
`);const s=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(r);return this.lexer.state.top=s,{type:"blockquote",raw:t[0],tokens:o,text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:zn(r,`
`)}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const s=/[^ ]/.test(r),o=/^ /.test(r)&&/ $/.test(r);return s&&o&&(r=r.substring(1,r.length-1)),r=Qe(r,!0),{type:"codespan",raw:t[0],text:r}}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),s=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:s,title:o}}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}emStrong(e,t,r=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(s&&!(s[3]&&r.match(/[\p{L}\p{N}]/u))&&(!(s[1]||s[2])||!r||this.rules.inline.punctuation.exec(r))){const o=[...s[0]].length-1;let a,c,p=o,f=0;const d=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+o);(s=d.exec(t))!=null;){if(a=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!a)continue;if(c=[...a].length,s[3]||s[4]){p+=c;continue}if((s[5]||s[6])&&o%3&&!((o+c)%3)){f+=c;continue}if(p-=c,p>0)continue;c=Math.min(c,c+p+f);const h=[...s[0]][0].length,m=e.slice(0,o+s.index+h+c);if(Math.min(o,c)%2){const v=m.slice(1,-1);return{type:"em",raw:m,text:v,tokens:this.lexer.inlineTokens(v)}}const y=m.slice(2,-2);return{type:"strong",raw:m,text:y,tokens:this.lexer.inlineTokens(y)}}}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Qe(t[1])}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],s=function(o,a){const c=o.match(/^(\s+)(?:```)/);if(c===null)return a;const p=c[1];return a.split(`
`).map(f=>{const d=f.match(/^\s+/);if(d===null)return f;const[h]=d;return h.length>=p.length?f.slice(p.length):f}).join(`
`)}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const s=zn(r,"#");this.options.pedantic?r=s.trim():s&&!/ $/.test(s)||(r=s.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let r;return r=this.lexer.state.inRawBlock?t[0]:Qe(t[0]),{type:"text",raw:t[0],text:r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const a=zn(r.slice(0,-1),"\\");if((r.length-a.length)%2==0)return}else{const a=function(c,p){if(c.indexOf(p[1])===-1)return-1;let f=0;for(let d=0;d<c.length;d++)if(c[d]==="\\")d++;else if(c[d]===p[0])f++;else if(c[d]===p[1]&&(f--,f<0))return d;return-1}(t[2],"()");if(a>-1){const c=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let s=t[2],o="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);a&&(s=a[1],o=a[3])}else o=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(r)?s.slice(1):s.slice(1,-1)),No(t,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim();const s=r.length>1,o={type:"list",raw:"",ordered:s,start:s?+r.slice(0,-1):"",loose:!1,items:[]};r=s?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=s?r:"[*+-]");const a=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let c="",p="",f=!1;for(;e;){let d=!1;if(!(t=a.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let h=t[2].split(`
`,1)[0].replace(/^\t+/,O=>" ".repeat(3*O.length)),m=e.split(`
`,1)[0],y=0;this.options.pedantic?(y=2,p=h.trimStart()):(y=t[2].search(/[^ ]/),y=y>4?1:y,p=h.slice(y),y+=t[1].length);let v=!1;if(!h&&/^ *$/.test(m)&&(c+=m+`
`,e=e.substring(m.length+1),d=!0),!d){const O=new RegExp(`^ {0,${Math.min(3,y-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),T=new RegExp(`^ {0,${Math.min(3,y-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),A=new RegExp(`^ {0,${Math.min(3,y-1)}}(?:\`\`\`|~~~)`),i=new RegExp(`^ {0,${Math.min(3,y-1)}}#`);for(;e;){const u=e.split(`
`,1)[0];if(m=u,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),A.test(m)||i.test(m)||O.test(m)||T.test(e))break;if(m.search(/[^ ]/)>=y||!m.trim())p+=`
`+m.slice(y);else{if(v||h.search(/[^ ]/)>=4||A.test(h)||i.test(h)||T.test(h))break;p+=`
`+m}v||m.trim()||(v=!0),c+=u+`
`,e=e.substring(u.length+1),h=m.slice(y)}}o.loose||(f?o.loose=!0:/\n *\n *$/.test(c)&&(f=!0));let S,P=null;this.options.gfm&&(P=/^\[[ xX]\] /.exec(p),P&&(S=P[0]!=="[ ] ",p=p.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:c,task:!!P,checked:S,loose:!1,text:p,tokens:[]}),o.raw+=c}o.items[o.items.length-1].raw=c.trimEnd(),o.items[o.items.length-1].text=p.trimEnd(),o.raw=o.raw.trimEnd();for(let d=0;d<o.items.length;d++)if(this.lexer.state.top=!1,o.items[d].tokens=this.lexer.blockTokens(o.items[d].text,[]),!o.loose){const h=o.items[d].tokens.filter(y=>y.type==="space"),m=h.length>0&&h.some(y=>/\n.*\n/.test(y.raw));o.loose=m}if(o.loose)for(let d=0;d<o.items.length;d++)o.items[d].loose=!0;return o}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const s=t[(r[2]||r[1]).replace(/\s+/g," ").toLowerCase()];if(!s){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return No(r,s,r[0],this.lexer)}}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const r=Mo(t[1]),s=t[2].replace(/^\||\| *$/g,"").split("|"),o=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],a={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===s.length){for(const c of s)/^ *-+: *$/.test(c)?a.align.push("right"):/^ *:-+: *$/.test(c)?a.align.push("center"):/^ *:-+ *$/.test(c)?a.align.push("left"):a.align.push(null);for(const c of r)a.header.push({text:c,tokens:this.lexer.inline(c)});for(const c of o)a.rows.push(Mo(c,a.header.length).map(p=>({text:p,tokens:this.lexer.inline(p)})));return a}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}url(e){var r;let t;if(t=this.rules.inline.url.exec(e)){let s,o;if(t[2]==="@")s=Qe(t[0]),o="mailto:"+s;else{let a;do a=t[0],t[0]=((r=this.rules.inline._backpedal.exec(t[0]))==null?void 0:r[0])??"";while(a!==t[0]);s=Qe(t[0]),o=t[1]==="www."?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:s,href:o,tokens:[{type:"text",raw:s,text:s}]}}}}var gd=Object.defineProperty,cn=(n,e,t)=>((r,s,o)=>s in r?gd(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o)(n,typeof e!="symbol"?e+"":e,t);class mt{constructor(e){cn(this,"options"),cn(this,"state"),cn(this,"tokens"),cn(this,"inlineQueue"),cn(this,"tokenizer"),this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Lt,this.options.tokenizer=this.options.tokenizer||new rr,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Nn.normal,inline:an.normal};this.options.pedantic?(t.block=Nn.pedantic,t.inline=an.pedantic):this.options.gfm&&(t.block=Nn.gfm,this.options.breaks?t.inline=an.breaks:t.inline=an.gfm),this.tokenizer.rules=t}static get rules(){return{block:Nn,inline:an}}static lex(e,t){return new mt(t).lex(e)}static lexInline(e,t){return new mt(t).inlineTokens(e)}blockTokens(e,t=[]){let r,s,o,a;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(c,p,f)=>p+"    ".repeat(f.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(c=>!!(r=c.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0))))if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),s=t[t.length-1],!s||s.type!=="paragraph"&&s.type!=="text"?t.push(r):(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.list(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.def(e))e=e.substring(r.raw.length),s=t[t.length-1],!s||s.type!=="paragraph"&&s.type!=="text"?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(s.raw+=`
`+r.raw,s.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else{if(o=e,this.options.extensions&&this.options.extensions.startBlock){let c=1/0;const p=e.slice(1);let f;this.options.extensions.startBlock.forEach(d=>{f=d.call({lexer:this},p),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(o=e.substring(0,c+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o)))s=t[t.length-1],a&&s.type==="paragraph"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(r),a=o.length!==e.length,e=e.substring(r.raw.length);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),s=t[t.length-1],s&&s.type==="text"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(r);else if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}throw new Error(c)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,s,o,a,c,p,f=e;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(f))!=null;)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(f=f.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+f.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(f))!=null;)f=f.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+f.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(f))!=null;)f=f.slice(0,a.index)+"++"+f.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(p=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>!!(r=d.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0))))if(r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e))e=e.substring(r.raw.length),s=t[t.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):t.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),s=t[t.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):t.push(r);else if(r=this.tokenizer.emStrong(e,f,p))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.autolink(e))e=e.substring(r.raw.length),t.push(r);else if(this.state.inLink||!(r=this.tokenizer.url(e))){if(o=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const h=e.slice(1);let m;this.options.extensions.startInline.forEach(y=>{m=y.call({lexer:this},h),typeof m=="number"&&m>=0&&(d=Math.min(d,m))}),d<1/0&&d>=0&&(o=e.substring(0,d+1))}if(r=this.tokenizer.inlineText(o))e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(p=r.raw.slice(-1)),c=!0,s=t[t.length-1],s&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):t.push(r);else if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}else e=e.substring(r.raw.length),t.push(r);return t}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}}var bd=Object.defineProperty,vd=(n,e,t)=>((r,s,o)=>s in r?bd(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o)(n,e+"",t);class sr{constructor(e){vd(this,"options"),this.options=e||Lt}blockquote(e){return`<blockquote>
${e}</blockquote>
`}br(){return"<br>"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}code(e,t,r){var o;const s=(o=(t||"").match(/^\S*/))==null?void 0:o[0];return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="language-'+Qe(s)+'">'+(r?e:Qe(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Qe(e,!0))+`</code></pre>
`}codespan(e){return`<code>${e}</code>`}del(e){return`<del>${e}</del>`}em(e){return`<em>${e}</em>`}heading(e,t,r){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}html(e,t){return e}image(e,t,r){const s=Oo(e);if(s===null)return r;let o=`<img src="${e=s}" alt="${r}"`;return t&&(o+=` title="${t}"`),o+=">",o}link(e,t,r){const s=Oo(e);if(s===null)return r;let o='<a href="'+(e=s)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}list(e,t,r){const s=t?"ol":"ul";return"<"+s+(t&&r!==1?' start="'+r+'"':"")+`>
`+e+"</"+s+`>
`}listitem(e,t,r){return`<li>${e}</li>
`}paragraph(e){return`<p>${e}</p>
`}strong(e){return`<strong>${e}</strong>`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}tablerow(e){return`<tr>
${e}</tr>
`}text(e){return e}}class zs{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}var yd=Object.defineProperty,Or=(n,e,t)=>((r,s,o)=>s in r?yd(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o)(n,typeof e!="symbol"?e+"":e,t);class gt{constructor(e){Or(this,"options"),Or(this,"renderer"),Or(this,"textRenderer"),this.options=e||Lt,this.options.renderer=this.options.renderer||new sr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new zs}static parse(e,t){return new gt(t).parse(e)}static parseInline(e,t){return new gt(t).parseInline(e)}parse(e,t=!0){let r="";for(let s=0;s<e.length;s++){const o=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const a=o,c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){r+=c||"";continue}}switch(o.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":{const a=o;r+=this.renderer.heading(this.parseInline(a.tokens),a.depth,Xu(this.parseInline(a.tokens,this.textRenderer)));continue}case"code":{const a=o;r+=this.renderer.code(a.text,a.lang,!!a.escaped);continue}case"table":{const a=o;let c="",p="";for(let d=0;d<a.header.length;d++)p+=this.renderer.tablecell(this.parseInline(a.header[d].tokens),{header:!0,align:a.align[d]});c+=this.renderer.tablerow(p);let f="";for(let d=0;d<a.rows.length;d++){const h=a.rows[d];p="";for(let m=0;m<h.length;m++)p+=this.renderer.tablecell(this.parseInline(h[m].tokens),{header:!1,align:a.align[m]});f+=this.renderer.tablerow(p)}r+=this.renderer.table(c,f);continue}case"blockquote":{const a=o,c=this.parse(a.tokens);r+=this.renderer.blockquote(c);continue}case"list":{const a=o,c=a.ordered,p=a.start,f=a.loose;let d="";for(let h=0;h<a.items.length;h++){const m=a.items[h],y=m.checked,v=m.task;let S="";if(m.task){const P=this.renderer.checkbox(!!y);f?m.tokens.length>0&&m.tokens[0].type==="paragraph"?(m.tokens[0].text=P+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&m.tokens[0].tokens[0].type==="text"&&(m.tokens[0].tokens[0].text=P+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:P+" "}):S+=P+" "}S+=this.parse(m.tokens,f),d+=this.renderer.listitem(S,v,!!y)}r+=this.renderer.list(d,c,p);continue}case"html":{const a=o;r+=this.renderer.html(a.text,a.block);continue}case"paragraph":{const a=o;r+=this.renderer.paragraph(this.parseInline(a.tokens));continue}case"text":{let a=o,c=a.tokens?this.parseInline(a.tokens):a.text;for(;s+1<e.length&&e[s+1].type==="text";)a=e[++s],c+=`
`+(a.tokens?this.parseInline(a.tokens):a.text);r+=t?this.renderer.paragraph(c):c;continue}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(e,t){t=t||this.renderer;let r="";for(let s=0;s<e.length;s++){const o=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=a||"";continue}}switch(o.type){case"escape":{const a=o;r+=t.text(a.text);break}case"html":{const a=o;r+=t.html(a.text);break}case"link":{const a=o;r+=t.link(a.href,a.title,this.parseInline(a.tokens,t));break}case"image":{const a=o;r+=t.image(a.href,a.title,a.text);break}case"strong":{const a=o;r+=t.strong(this.parseInline(a.tokens,t));break}case"em":{const a=o;r+=t.em(this.parseInline(a.tokens,t));break}case"codespan":{const a=o;r+=t.codespan(a.text);break}case"br":r+=t.br();break;case"del":{const a=o;r+=t.del(this.parseInline(a.tokens,t));break}case"text":{const a=o;r+=t.text(a.text);break}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}}var gn,$o,us,wd=Object.defineProperty,fi=n=>{throw TypeError(n)},ct=(n,e,t)=>((r,s,o)=>s in r?wd(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o)(n,typeof e!="symbol"?e+"":e,t),ds=(n,e,t)=>(((r,s,o)=>{s.has(r)||fi("Cannot "+o)})(n,e,"access private method"),t);gn=new WeakSet,$o=function(n,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,n){const r="<p>An error occurred:</p><pre>"+Qe(t.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(t);throw t}},us=function(n,e){return(t,r)=>{const s={...r},o={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const a=ds(this,gn,$o).call(this,!!o.silent,!!o.async);if(t==null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then(c=>n(c,o)).then(c=>o.hooks?o.hooks.processAllTokens(c):c).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>e(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(a);try{o.hooks&&(t=o.hooks.preprocess(t));let c=n(t,o);o.hooks&&(c=o.hooks.processAllTokens(c)),o.walkTokens&&this.walkTokens(c,o.walkTokens);let p=e(c,o);return o.hooks&&(p=o.hooks.postprocess(p)),p}catch(c){return a(c)}}};const Et=new class{constructor(...n){var e,t,r;e=this,(t=gn).has(e)?fi("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ct(this,"Hooks",hn),ct(this,"Lexer",mt),ct(this,"Parser",gt),ct(this,"Renderer",sr),ct(this,"TextRenderer",zs),ct(this,"Tokenizer",rr),ct(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),ct(this,"options",this.setOptions),ct(this,"parse",ds(this,gn,us).call(this,mt.lex,gt.parse)),ct(this,"parseInline",ds(this,gn,us).call(this,mt.lexInline,gt.parseInline)),this.use(...n)}lexer(n,e){return mt.lex(n,e??this.defaults)}parser(n,e){return gt.parse(n,e??this.defaults)}setOptions(n){return this.defaults={...this.defaults,...n},this}use(...n){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(t=>{const r={...t};if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const o=e.renderers[s.name];e.renderers[s.name]=o?function(...a){let c=s.renderer.apply(this,a);return c===!1&&(c=o.apply(this,a)),c}:s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=e[s.level];o?o.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),t.renderer){const s=this.defaults.renderer||new sr(this.defaults);for(const o in t.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;const a=o,c=t.renderer[a],p=s[a];s[a]=(...f)=>{let d=c.apply(s,f);return d===!1&&(d=p.apply(s,f)),d||""}}r.renderer=s}if(t.tokenizer){const s=this.defaults.tokenizer||new rr(this.defaults);for(const o in t.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const a=o,c=t.tokenizer[a],p=s[a];s[a]=(...f)=>{let d=c.apply(s,f);return d===!1&&(d=p.apply(s,f)),d}}r.tokenizer=s}if(t.hooks){const s=this.defaults.hooks||new hn;for(const o in t.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const a=o,c=t.hooks[a],p=s[a];hn.passThroughHooks.has(o)?s[a]=f=>{if(this.defaults.async)return Promise.resolve(c.call(s,f)).then(h=>p.call(s,h));const d=c.call(s,f);return p.call(s,d)}:s[a]=(...f)=>{let d=c.apply(s,f);return d===!1&&(d=p.apply(s,f)),d}}r.hooks=s}if(t.walkTokens){const s=this.defaults.walkTokens,o=t.walkTokens;r.walkTokens=function(a){let c=[];return c.push(o.call(this,a)),s&&(c=c.concat(s.call(this,a))),c}}this.defaults={...this.defaults,...r}}),this}walkTokens(n,e){var r,s;let t=[];for(const o of n)switch(t=t.concat(e.call(this,o)),o.type){case"table":{const a=o;for(const c of a.header)t=t.concat(this.walkTokens(c.tokens,e));for(const c of a.rows)for(const p of c)t=t.concat(this.walkTokens(p.tokens,e));break}case"list":{const a=o;t=t.concat(this.walkTokens(a.items,e));break}default:{const a=o;(s=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(c=>{const p=a[c].flat(1/0);t=t.concat(this.walkTokens(p,e))}):a.tokens&&(t=t.concat(this.walkTokens(a.tokens,e)))}}return t}};function Ee(n,e){return Et.parse(n,e)}Ee.options=Ee.setOptions=function(n){return Et.setOptions(n),Ee.defaults=Et.defaults,Do(Ee.defaults),Ee},Ee.getDefaults=Vu,Ee.defaults=Lt,Ee.use=function(...n){return Et.use(...n),Ee.defaults=Et.defaults,Do(Ee.defaults),Ee},Ee.walkTokens=function(n,e){return Et.walkTokens(n,e)},Ee.parseInline=Et.parseInline,Ee.Parser=gt,Ee.parser=gt.parse,Ee.Renderer=sr,Ee.TextRenderer=zs,Ee.Lexer=mt,Ee.lexer=mt.lex,Ee.Tokenizer=rr,Ee.Hooks=hn,Ee.parse=Ee;const pi=(n,e)=>{const{showCodeBlockCopyButton:t,markdownLinkTarget:r,syntaxHighlighter:s,htmlSanitizer:o}=e||{},a=Ee(n,{async:!1,breaks:!0});if(typeof a!="string")throw new Error("Markdown parsing failed");const c=document.createElement("div");return c.innerHTML=o?o(a):a,c.querySelectorAll("pre").forEach(p=>{const f=document.createElement("div");f.className="code-block";const d=p.querySelector("code");if(!d){const v=p.innerHTML;return f.innerHTML=o?o(v):v,void p.replaceWith(f)}let h;for(let v=0;v<d.classList.length;v++){const S=d.classList[v];if(S.startsWith("language-")){h=S.slice(9);break}}const m=document.createElement("pre"),y="<div>"+d.innerHTML+"</div>";if(m.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(y):y,h&&(m.setAttribute("data-language",h),s)){const v="<div>"+s.createHighlighter()(d.textContent||"",h)+"</div>";m.innerHTML=o?o(v):v,m.className="highlighter-dark"}(v=>{v.replaceChildren()})(f),f.appendChild(m),p.replaceWith(f)}),t!==!1&&c.querySelectorAll(".code-block").forEach(p=>{var m;if(!p.querySelector("pre")||(m=p.previousElementSibling)!=null&&m.classList.contains("nlux-comp-copyButton"))return;const f="Copy code block to clipboard",d=document.createElement("button");d.classList.add("nlux-comp-copyButton"),d.setAttribute("aria-label",f),d.setAttribute("title",f);const h=document.createElement("span");h.classList.add("icon-copy"),d.appendChild(h),p.appendChild(d)}),r!=="self"&&c.querySelectorAll("a").forEach(p=>{p.setAttribute("target","_blank")}),c.innerHTML},hi="nlux-comp-message",Ho={received:"nlux-comp-chatItem--received",sent:"nlux-comp-chatItem--sent"},kd="nlux-comp-chatItem--bubblesLayout",xd="nlux-comp-chatItem--listLayout",Sd=(n,e)=>{let t=!1;const{onComplete:r}=e||{},s=[],o=(e!=null&&e.skipStreamingAnimation?"timeout":"animationFrame")=="timeout"?h=>setTimeout(h,0):h=>requestAnimationFrame(h),a=document.createElement("div");a.classList.add("md-in-progress"),n.append(a);const c=()=>{for(;a.firstChild;){const h=a.firstChild;h instanceof HTMLElement&&si(h),a.before(h)}},p=!(e!=null&&e.skipStreamingAnimation)&&(e!=null&&e.streamingAnimationSpeed)&&e.streamingAnimationSpeed>=0?e.streamingAnimationSpeed:e!=null&&e.skipStreamingAnimation?0:8,f={timeSinceLastProcessing:new Date().getTime(),currentMarkdown:"",previousHtml:void 0};let d=setInterval(()=>{const h=new Date().getTime(),m=(e==null?void 0:e.waitTimeBeforeStreamCompletion)!=="never";if(s.length===0&&m){const v=typeof(e==null?void 0:e.waitTimeBeforeStreamCompletion)=="number"?e.waitTimeBeforeStreamCompletion:2e3;return void((t||h-f.timeSinceLastProcessing>v)&&(t=!0,d&&(clearInterval(d),d=void 0),c(),a.remove(),r==null?void 0:r()))}f.timeSinceLastProcessing=h;const y=s.shift();y!==void 0&&typeof y=="string"&&o(()=>{const v=f.currentMarkdown+y,S=pi(v,e).trim();if(typeof S!="string")return f.currentMarkdown=f.currentMarkdown.slice(0,-y.length),void Be("Markdown parsing failed");if(f.previousHtml&&S.length>f.previousHtml.length&&S.startsWith(f.previousHtml)){c();const P=S.slice(f.previousHtml.length).trim();a.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(P):P,f.currentMarkdown=y,f.previousHtml=void 0}else a.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(S):S,f.currentMarkdown=v,f.previousHtml=S})},p);return{next:h=>{if(t)Be("Stream is already complete. No more chunks can be added");else for(const m of h)s.push(m)},complete:()=>{s.push(`
`),t=!0},cancel:()=>{d&&(clearInterval(d),d=void 0),t=!0,a.remove()},error:()=>{t=!0}}},_d=function(n,e){const{uid:t,status:r,responseRenderer:s,markdownOptions:o,initialMarkdownMessage:a,markdownContainersController:c}=n,[p,f]=_.useState([]),d=_.useRef(null),h=_.useRef(null),m=_.useRef(null),y=_.useRef(null),[v,S]=_.useState();_.useEffect(()=>{d.current!==h.current&&(h.current=d.current,S(d.current||void 0))}),_.useEffect(()=>{if(v){const O=c.getStreamingDomElement(t);v.append(O)}},[v]),_.useEffect(()=>{y.current=O=>{f(T=>[...T,O])}},[f]),_.useEffect(()=>{const O=c.getStreamingDomElement(t);return m.current=Sd(O,{syntaxHighlighter:o==null?void 0:o.syntaxHighlighter,htmlSanitizer:o==null?void 0:o.htmlSanitizer,markdownLinkTarget:o==null?void 0:o.markdownLinkTarget,showCodeBlockCopyButton:o==null?void 0:o.showCodeBlockCopyButton,skipStreamingAnimation:o==null?void 0:o.skipStreamingAnimation,streamingAnimationSpeed:o==null?void 0:o.streamingAnimationSpeed,waitTimeBeforeStreamCompletion:o==null?void 0:o.waitTimeBeforeStreamCompletion,onComplete:o==null?void 0:o.onStreamComplete}),a&&m.current.next(a),()=>{c.deleteStreamingDomElement(t)}},[]),_.useEffect(()=>()=>{h.current=null,m.current=null,y.current=null,S(void 0)},[]),_.useImperativeHandle(e,()=>({streamChunk:O=>{var T,A;y.current&&((T=y.current)==null||T.call(y,O)),typeof O=="string"&&((A=m.current)==null||A.next(O))},completeStream:()=>{var O;(O=m.current)==null||O.complete()},cancelStream:()=>{var O;(O=m.current)==null||O.cancel()}}),[]);const P=s||void 0;return I.jsxs("div",{className:`${hi} ${is[r]} ${as.received}`,children:[P&&I.jsx(P,{uid:t,status:r,containerRef:d,content:p,contentType:"text",serverResponse:[],dataTransferMode:"stream"}),!P&&I.jsx("div",{className:"nlux-markdownStream-root",ref:d})]})},mi=(n,e)=>{if(!e||e==="Enter"){const t=n.key==="Enter"&&!n.nativeEvent.isComposing,r=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey;return t&&!r}return!!(e==="CommandEnter"&&n.key==="Enter"&&(n.getModifierState("Control")||n.getModifierState("Meta")))},Cd=n=>{const{markdownOptions:e}=n,t=_.useRef(null),r=_.useMemo(()=>n.content?pi(n.content,{syntaxHighlighter:e==null?void 0:e.syntaxHighlighter,htmlSanitizer:e==null?void 0:e.htmlSanitizer,markdownLinkTarget:e==null?void 0:e.markdownLinkTarget,showCodeBlockCopyButton:e==null?void 0:e.showCodeBlockCopyButton}):"",[n.content,e==null?void 0:e.markdownLinkTarget,e==null?void 0:e.syntaxHighlighter,e==null?void 0:e.htmlSanitizer,e==null?void 0:e.showCodeBlockCopyButton]);_.useEffect(()=>{t.current&&(e==null?void 0:e.showCodeBlockCopyButton)!==!1&&si(t.current)},[r,t.current,e==null?void 0:e.showCodeBlockCopyButton]);const s=_.useMemo(()=>e!=null&&e.htmlSanitizer?e.htmlSanitizer(r):r,[r,e==null?void 0:e.htmlSanitizer]),o=_.useCallback(f=>{if(!n.canResubmit)return;const d=f.currentTarget.textContent;return d?mi(f,n.submitShortcutKey)?(f.preventDefault(),void(n.onResubmit&&n.onResubmit(d))):void(f.key==="Escape"&&(f.preventDefault(),f.currentTarget.textContent=n.content,f.currentTarget.blur())):void 0},[n.canResubmit,n.onResubmit,n.content]),a=_.useCallback(f=>{n.canResubmit&&(f.preventDefault(),f.currentTarget.textContent=n.content,f.currentTarget.blur())},[n.canResubmit,n.content]),c=_.useCallback(f=>{if(!n.canResubmit)return;f.preventDefault();const d=document.createRange();d.selectNodeContents(f.currentTarget);const h=window.getSelection();h==null||h.removeAllRanges(),h==null||h.addRange(d)},[n.canResubmit]),p=n.canResubmit?"editable-markdown-container":"";return I.jsx(gi,{children:I.jsx("div",{className:"nlux-markdownStream-root"+(p?` ${p}`:""),children:I.jsx("div",{className:"nlux-markdown-container",ref:t,dangerouslySetInnerHTML:{__html:s},contentEditable:n.canResubmit,onKeyDown:o,onBlur:a,onFocus:c})})})};class gi extends _.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){Be("Markdown rendering error occurred. This could be due to a malformed markdown content, or it could be because the page requires an HTML sanitizer. Please check the error message for more details and consider configuring NLUX with a compatible sanitizer."),this.props.onMarkdownRenderingError&&this.props.onMarkdownRenderingError(e)}render(){return this.state.hasError?null:this.props.children}}const ls=n=>I.jsx(gi,{children:I.jsx(Cd,{...n})}),bi=n=>{const e=typeof n.avatar=="string",t=!e&&_.isValidElement(n.avatar);return I.jsxs("div",{className:"nlux-comp-avatar",children:[t&&n.avatar,!t&&e&&I.jsx("div",{className:"nlux-comp-avatarContainer",children:n.avatar&&I.jsx("div",{className:"nlux-comp-avatarPicture",style:{backgroundImage:`url("${encodeURI(n.avatar)}")`}})})]})},Ed=function(n,e){var O,T,A,i,u,l,g,k;const t=_.useRef(null);_.useImperativeHandle(e,()=>({streamChunk:w=>setTimeout(()=>{var b;return(b=t==null?void 0:t.current)==null?void 0:b.streamChunk(w)}),completeStream:()=>setTimeout(()=>{var w;return(w=t==null?void 0:t.current)==null?void 0:w.completeStream()}),cancelStream:()=>{var w;return(w=t==null?void 0:t.current)==null?void 0:w.cancelStream()}}),[]);const r=n.contentType==="server-component",s=n.direction==="received",o=n.direction==="sent",a=n.dataTransferMode==="stream",c=n.isPartOfInitialSegment,p=_.useCallback(()=>{var w;return(w=n.onMarkdownStreamRendered)==null?void 0:w.call(n,n.uid)},[n.uid]);_.useEffect(()=>{var w;a||r||c||((w=n.onMarkdownStreamRendered)==null||w.call(n,n.uid))},[]);const f=function(w){const{uid:b,status:E,dataTransferMode:L,contentType:D,fetchedContent:R,streamedContent:j,streamedServerResponse:x,fetchedServerResponse:q,direction:$,messageOptions:N}=w;if((N==null?void 0:N.responseRenderer)!==void 0){if(L==="stream"){const V={uid:b,status:E,dataTransferMode:L,contentType:D,content:j??[],serverResponse:x??[]};return()=>{const Q=N.responseRenderer;return I.jsx(Q,{...V})}}const M=_.isValidElement(R),B={uid:b,status:"complete",dataTransferMode:L,contentType:D,content:R?M?[]:[R]:[],serverComponent:M?R:void 0,serverResponse:q?[q]:[]};return()=>{const V=N.responseRenderer;return I.jsx(V,{...B})}}if($==="sent"){if(typeof R=="string"){const M=R;return()=>I.jsx(I.Fragment,{children:M})}return()=>""}if(typeof R=="string"){const M=R;return()=>I.jsx(ls,{messageUid:b,content:M,markdownOptions:{syntaxHighlighter:N==null?void 0:N.syntaxHighlighter,htmlSanitizer:N==null?void 0:N.htmlSanitizer,markdownLinkTarget:N==null?void 0:N.markdownLinkTarget,showCodeBlockCopyButton:N==null?void 0:N.showCodeBlockCopyButton,skipStreamingAnimation:N==null?void 0:N.skipStreamingAnimation}})}return _.isValidElement(R)?()=>I.jsx(I.Fragment,{children:R}):()=>""}(n),d=function(w){var b;return _.useCallback(()=>{var L,D,R;if(((L=w.messageOptions)==null?void 0:L.promptRenderer)===void 0)return I.jsx(ls,{messageUid:w.uid,content:w.fetchedContent,markdownOptions:{htmlSanitizer:(D=w.messageOptions)==null?void 0:D.htmlSanitizer},canResubmit:(R=w.messageOptions)==null?void 0:R.editableUserMessages,submitShortcutKey:w.submitShortcutKey,onResubmit:j=>{w.onPromptResubmit&&w.onPromptResubmit(j)}});const E=w.messageOptions.promptRenderer;return I.jsx(E,{uid:w.uid,prompt:w.fetchedContent,onResubmit:j=>{w.onPromptResubmit&&w.onPromptResubmit(j)}})},[(b=w.messageOptions)==null?void 0:b.promptRenderer,w.fetchedContent,w.uid])}(n),h=_.useMemo(()=>_.forwardRef(_d),[]),m=function(w){const b=_.useMemo(()=>I.jsxs("div",{className:"nlux-comp-chatItem-participantInfo",children:[w.avatar!==void 0&&I.jsx(bi,{name:w.name,avatar:w.avatar}),I.jsx("span",{className:"nlux-comp-chatItem-participantName",children:w.name})]}),[w.avatar,w.name]);return()=>I.jsx(I.Fragment,{children:b})}(n),y=`nlux-comp-chatItem ${n.direction?Ho[n.direction]:Ho.received} ${n.layout==="bubbles"?kd:xd}`,v=n.status?is[n.status]:is.rendered,S=n.direction?as[n.direction]:as.received,P=`${hi} ${v} ${S}`;return I.jsxs("div",{className:y,children:[I.jsx(m,{}),s&&a&&!r&&I.jsx(h,{uid:n.uid,status:n.status,ref:t,direction:n.direction,responseRenderer:(O=n.messageOptions)==null?void 0:O.responseRenderer,markdownContainersController:n.markdownContainersController,markdownOptions:{syntaxHighlighter:(T=n.messageOptions)==null?void 0:T.syntaxHighlighter,htmlSanitizer:(A=n.messageOptions)==null?void 0:A.htmlSanitizer,markdownLinkTarget:(i=n.messageOptions)==null?void 0:i.markdownLinkTarget,showCodeBlockCopyButton:(u=n.messageOptions)==null?void 0:u.showCodeBlockCopyButton,skipStreamingAnimation:(l=n.messageOptions)==null?void 0:l.skipStreamingAnimation,streamingAnimationSpeed:(g=n.messageOptions)==null?void 0:g.streamingAnimationSpeed,waitTimeBeforeStreamCompletion:(k=n.messageOptions)==null?void 0:k.waitTimeBeforeStreamCompletion,onStreamComplete:p}},"do-not-change"),s&&a&&r&&I.jsx("div",{className:P,children:n.fetchedContent}),s&&!a&&I.jsx("div",{className:P,children:I.jsx(f,{})}),o&&I.jsx("div",{className:P,children:I.jsx(d,{})})]})},Fo=n=>typeof n=="string"||typeof n=="number"||typeof n=="boolean"||n==null,$n=(n,e)=>{var t,r;return n==="assistant"?((t=e==null?void 0:e.assistant)==null?void 0:t.name)??"Assistant":n==="user"?((r=e==null?void 0:e.user)==null?void 0:r.name)??"User":""},Hn=(n,e)=>{var t,r;return n==="assistant"?(t=e==null?void 0:e.assistant)==null?void 0:t.avatar:n==="user"?(r=e==null?void 0:e.user)==null?void 0:r.avatar:void 0},Ad=function(n,e){const{chatSegment:t,containerRef:r}=n,[s,o]=_.useState(!1),a=_.useMemo(()=>new Map,[]),c=_.useMemo(()=>new Map,[]),p=_.useRef(new Map),f=_.useRef(new Map);((y,v,S,P)=>{_.useEffect(()=>{if(y.length===0)return P.clear(),v.current.clear(),void S.current.clear();const O=new Set(P.keys()),T=new Set(y.map(A=>A.uid));O.forEach(A=>{T.has(A)||P.delete(A)}),new Set(v.current.keys()).forEach(A=>{T.has(A)||(v.current.delete(A),S.current.delete(A))})},[y])})(t.items,p,f,a),_.useImperativeHandle(e,()=>({streamChunk:(y,v)=>{const S=a.get(y);if(S!=null&&S.current){const P=S.current.streamChunk;(c.get(y)??[]).forEach(O=>{P(O)}),c.delete(y),P(v)}else{const P=c.get(y)??[];c.set(y,[...P,v])}},completeStream:y=>{const v=a.get(y);v!=null&&v.current?(v.current.completeStream(),a.delete(y)):o(!0)},cancelStreams:()=>{c.clear(),a.forEach(y=>{var v;(v=y.current)==null||v.cancelStream()})}}),[]),_.useEffect(()=>{c.size>0&&c.forEach((y,v)=>{const S=a.get(v);S!=null&&S.current&&(y.forEach(P=>{var O;(O=S==null?void 0:S.current)==null||O.streamChunk(P)}),c.delete(v),s&&(S.current.completeStream(),o(!1)))})});const d=_.useMemo(()=>t.status!=="active"?null:I.jsx("div",{className:"nlux-chatSegment-loader-container",children:n.Loader}),[t.status,n.Loader]),h=_.useMemo(()=>_.forwardRef(Ed),[]),m=_.useCallback(y=>{var v;(v=n.onMarkdownStreamRendered)==null||v.call(n,t.uid,y)},[]);return t.items.length===0?null:I.jsxs("div",{ref:r,className:Uu(t.status),children:[t.items.map(y=>Td(n,h,t,y,a,f,p,m)),d]})},Td=function(n,e,t,r,s,o,a,c){var m;const p=n.isInitialSegment;let f=s.get(r.uid);f||(f=_.createRef(),s.set(r.uid,f));let d=r.content,h="text";if(typeof d=="function"){const y=o.current.get(r.uid),v=a.current.get(r.uid);if(y&&v)d=v,h="server-component";else{a.current.delete(r.uid),o.current.delete(r.uid);try{const S=d;if(d=I.jsx(S,{}),!d||!_.isValidElement(d))throw new Error("Invalid React element returned from the AI chat content function.");h="server-component",a.current.set(r.uid,d),o.current.set(r.uid,S)}catch{return Be(`The type of the AI chat content is an invalid function.
If you're looking to render a React Server Components, please refer to docs.nlkit.com/nlux for more information.
`),null}}}if(r.participantRole==="user")return r.status!=="complete"?(yn(`User chat item should be always be in complete state — Current status: ${r.status} — Segment UID: ${t.uid}`),null):Fo(d)?I.jsx(e,{ref:f,uid:r.uid,status:"complete",direction:"sent",contentType:h,dataTransferMode:"batch",fetchedContent:r.content,markdownContainersController:n.markdownContainersController,layout:n.layout,messageOptions:n.messageOptions,isPartOfInitialSegment:p,name:$n(r.participantRole,n.personaOptions),avatar:Hn(r.participantRole,n.personaOptions),submitShortcutKey:n.submitShortcutKey,onPromptResubmit:y=>n.onPromptResubmit(n.chatSegment.uid,r.uid,y)},r.uid):(yn(`User chat item should have primitive content (string, number, boolean, null) — Current content: ${JSON.stringify(d)} — Segment UID: ${t.uid}`),null);if(r.status==="complete")return r.dataTransferMode==="stream"?I.jsx(e,{ref:f,uid:r.uid,status:r.status,direction:"received",contentType:h,dataTransferMode:r.dataTransferMode,markdownContainersController:n.markdownContainersController,onMarkdownStreamRendered:c,streamedContent:d,streamedServerResponse:r.serverResponse,layout:n.layout,messageOptions:n.messageOptions,isPartOfInitialSegment:p,name:$n(r.participantRole,n.personaOptions),avatar:Hn(r.participantRole,n.personaOptions)},r.uid):h!=="text"||Fo(d)||(m=n.messageOptions)!=null&&m.responseRenderer?I.jsx(e,{ref:f,uid:r.uid,status:"complete",direction:"received",contentType:h,dataTransferMode:r.dataTransferMode,markdownContainersController:n.markdownContainersController,onMarkdownStreamRendered:c,fetchedContent:d,fetchedServerResponse:r.serverResponse,layout:n.layout,messageOptions:n.messageOptions,isPartOfInitialSegment:p,name:$n(r.participantRole,n.personaOptions),avatar:Hn(r.participantRole,n.personaOptions)},r.uid):(Be(`When the type of the AI chat content is not primitive (object or array), a custom renderer must be provided — Current content: ${JSON.stringify(d)} — Segment UID: ${t.uid}`),null);if(r.status==="streaming"){const y=h==="server-component"&&_.isValidElement(d)?d:void 0;return I.jsx(e,{ref:f,uid:r.uid,status:"streaming",direction:"received",contentType:h,dataTransferMode:r.dataTransferMode,markdownContainersController:n.markdownContainersController,onMarkdownStreamRendered:c,fetchedContent:y,layout:n.layout,messageOptions:n.messageOptions,isPartOfInitialSegment:p,name:$n(r.participantRole,n.personaOptions),avatar:Hn(r.participantRole,n.personaOptions)},r.uid)}},Pd=function(n,e){const{segments:t,personaOptions:r,conversationOptions:s,onLastActiveSegmentChange:o}=n,a=_.createRef();(function(d,h,m){const y=_.useMemo(()=>{const S=d.length>0?d[d.length-1]:void 0;return(S==null?void 0:S.status)==="active"?S.uid:void 0},[d]),v=_.useRef(void 0);_.useEffect(()=>{if(!m)return;const S=v.current;if(y===(S==null?void 0:S.uid)&&h.current===(S==null?void 0:S.div))return;const P=y&&h.current?{uid:y,div:h.current}:void 0;(P||v.current)&&(m(P),v.current=P)})})(t,a,o);const c=function(d){const h=_.useMemo(()=>new Map,[]);return _.useEffect(()=>{if(d.length===0)return void h.clear();const m=new Set(h.keys()),y=new Set(d.map(v=>v.uid));m.forEach(v=>{y.has(v)||h.delete(v)})},[d]),{get:m=>{var y;return(y=h.get(m))==null?void 0:y.current},getRef:m=>h.get(m),set:(m,y)=>{h.set(m,y)},remove:m=>{h.delete(m)}}}(t),p=(d=>_.useMemo(()=>{return h=d==null?void 0:d.layout,h??"bubbles";var h},[d==null?void 0:d.layout]))(s);_.useImperativeHandle(e,()=>({streamChunk:(d,h,m)=>{const y=c.get(d);y==null||y.streamChunk(h,m)},completeStream:(d,h)=>{const m=c.get(d);m==null||m.completeStream(h)},cancelSegmentStreams:d=>{const h=c.get(d);h==null||h.cancelStreams()}}),[]);const f=_.useMemo(()=>_.forwardRef(Ad),[]);return I.jsx("div",{className:"nlux-chatSegments-container",children:t.map((d,h)=>{const m=h===t.length-1,y=d.uid==="initial";let v=c.getRef(d.uid);return v||(v=_.createRef(),c.set(d.uid,v)),I.jsx(f,{ref:v,containerRef:m?a:void 0,markdownContainersController:n.markdownContainersController,chatSegment:d,isInitialSegment:y,layout:p,personaOptions:r,messageOptions:n.messageOptions,Loader:n.Loader,submitShortcutKey:n.submitShortcutKey,onPromptResubmit:n.onPromptResubmit,onMarkdownStreamRendered:n.onMarkdownStreamRendered},d.uid)})})},Id={typing:"nlux-composer--typing","submitting-prompt":"nlux-composer--submitting","submitting-conversation-starter":"nlux-composer--submitting",waiting:"nlux-composer--waiting"},Rd=()=>I.jsx("div",{className:"nlux-comp-cancelIcon",children:I.jsx("div",{className:"nlux-comp-cancelIcon-container"})}),Dd=()=>I.jsx("div",{className:"nlux-comp-sendIcon",children:I.jsx("div",{className:"nlux-comp-sendIcon-container"})}),Mr=["submitting-prompt","submitting-edit","submitting-conversation-starter","submitting-external-message"],Ld=n=>{const e=`nlux-comp-composer ${Id[n.status]||""}`,t=Mr.includes(n.status),r=!n.hasValidInput||n.status==="waiting"||Mr.includes(n.status),s=n.status==="typing"||n.status==="waiting",o=n.hideStopButton!==!0&&(Mr.includes(n.status)||n.status==="waiting"),a=_.useRef(null);_.useEffect(()=>{n.status==="typing"&&n.autoFocus&&a.current&&a.current.focus()},[n.status,n.autoFocus,a.current]);const c=_.useMemo(()=>d=>{var h;(h=n.onChange)==null||h.call(n,d.target.value)},[n.onChange]),p=_.useMemo(()=>()=>{var d;(d=n.onSubmit)==null||d.call(n)},[n.onSubmit]),f=_.useMemo(()=>d=>{mi(d,n.submitShortcut)&&(d.preventDefault(),p())},[p,n.submitShortcut]);return I.jsxs("div",{className:e,children:[I.jsx("textarea",{tabIndex:0,ref:a,disabled:t,placeholder:n.placeholder,value:n.prompt,onChange:c,onKeyDown:f}),!o&&I.jsxs("button",{tabIndex:0,disabled:r,onClick:()=>n.onSubmit(),children:[s&&I.jsx(Dd,{}),!s&&n.Loader]}),o&&I.jsx("button",{tabIndex:0,onClick:n.onCancel,children:I.jsx(Rd,{})})]})},fs=n=>{var r;const e={},t=Object.keys(n);for(let s=0;s<t.length;s++){const o=t[s];o!=="personaOptions"&&o!=="messageOptions"&&o!=="adapter"&&o!=="events"&&Object.assign(e,{[o]:n[o]})}return n.personaOptions&&(e.personaOptions={},n.personaOptions.assistant&&(e.personaOptions.assistant={name:n.personaOptions.assistant.name,avatar:typeof n.personaOptions.assistant.avatar=="string"?n.personaOptions.assistant.avatar:"<REACT ELEMENT />",tagline:n.personaOptions.assistant.tagline}),n.personaOptions.user&&(e.personaOptions.user={name:n.personaOptions.user.name,avatar:typeof n.personaOptions.user.avatar=="string"?n.personaOptions.user.avatar:"<REACT ELEMENT />"})),n.messageOptions&&(e.messageOptions={...n.messageOptions,responseRenderer:n.messageOptions.responseRenderer?()=>null:void 0,promptRenderer:n.messageOptions.promptRenderer?()=>null:void 0}),(r=n.conversationOptions)!=null&&r.conversationStarters&&(e.conversationOptions={...n.conversationOptions,conversationStarters:n.conversationOptions.conversationStarters.map(s=>({...s,icon:s.icon?"<REACT ELEMENT />":void 0}))}),e};var Od=Object.defineProperty,Fn=(n,e,t)=>((r,s,o)=>s in r?Od(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o)(n,typeof e!="symbol"?e+"":e,t);class Md extends Error{constructor(e={}){super(e.message),Fn(this,"exceptionId"),Fn(this,"message"),Fn(this,"source"),Fn(this,"type"),this.message=e.message??"",this.source=e.source,this.type=this.constructor.name,this.exceptionId=e.exceptionId}}const jd=(n,e)=>{let t,r=e,s=n,o=!0;const a=((S,P)=>{let O=!1;if(typeof S!="function")throw new Md({source:"x/throttle",message:"Callback must be a function"});return(...T)=>{O||(S.apply(void 0,T),O=!0,setTimeout(function(){O=!1},P))}})((S=>{let P,O;return T=>{const A=T.target;if(!(A instanceof HTMLElement))return;const{scrollTop:i,clientHeight:u,scrollHeight:l}=A,g=l-30,k=Math.ceil(i+u)>=g,w=P===void 0||O===void 0?void 0:i>P&&O===l?"down":i<P&&O===l?"up":void 0;O=l,P=i,S({scrolledToBottom:k,scrollDirection:w})}})(({scrolledToBottom:S,scrollDirection:P})=>{o?P==="up"&&(o=!1):P==="down"&&S&&(o=!0)}),50),c=S=>{S.addEventListener("scroll",a)},p=S=>{S==null||S.removeEventListener("scroll",a)},f=S=>{(t==null?void 0:t.uid)===S&&(d==null||d.disconnect(),h==null||h.disconnect(),t=void 0,d=void 0,h=void 0)};let d,h;const m=()=>{s==null||s.scrollTo({top:5e4,behavior:"instant"})},y=()=>{s&&r&&o&&m()},v=()=>{y()};return c(s),{updateConversationContainer:S=>{p(s),c(S),s=S},updateProps:({autoScroll:S})=>{r=S},handleNewChatSegmentAdded:(S,P)=>{t&&(d==null||d.disconnect(),h==null||h.disconnect()),t={uid:S,container:P},d=new ResizeObserver(y),d.observe(P),h=new MutationObserver(v),h.observe(P,{childList:!0,subtree:!0,characterData:!0}),r&&m()},handleChatSegmentRemoved:S=>f(S),handleChatSegmentComplete:S=>f(S),destroy:()=>{t&&(f(t.uid),t=void 0),p(s),s=void 0}}},Uo=!0,or=n=>{if(typeof n!="object"||n===null)return!1;const e=n;return(typeof e.streamText=="function"||typeof e.batchText=="function")&&["stream","batch"].includes(e.dataTransferMode)&&typeof e.id=="string"&&typeof e.info=="object"&&e.info!==null&&typeof e.preProcessAiBatchedMessage=="function"&&typeof e.preProcessAiStreamedChunk=="function"},Me=(n,e=1)=>{setTimeout(()=>{n()},e)},Bd=(n,e,t,r,s,o,a,c,p)=>new Promise(f=>{const d=ht(),h=[],m=[];let y=!1,v=!1,S=!1;const P=or(t),O={next:T=>{if(v||S)return;let A,i;if(P){const u=T,l=t.preProcessAiStreamedChunk(u,r);l!=null&&(A=l,i=u,h.push(A),m.push(i))}else A=T,h.push(A);A!=null?(y||y||(y=!0,Me(()=>{s.forEach(u=>{u({uid:d,status:"streaming",time:new Date,participantRole:"assistant",dataTransferMode:"stream"})})})),Me(()=>{a.forEach(u=>{u({chunk:A,messageId:d,serverResponse:i})})})):Be("Adapter returned an undefined or null value from streamText. This chunk will be ignored.")},complete:()=>{v||S||(S=!0,Me(()=>{const T={uid:d,status:"complete",content:h,contentType:"text",serverResponse:void 0,time:new Date,participantRole:"assistant",dataTransferMode:"stream"};o.forEach(A=>{A(T)}),f()}),Me(()=>{const T={uid:n,status:"complete",items:[e,{uid:d,status:"complete",contentType:"text",content:h,serverResponse:m,time:new Date,participantRole:"assistant",dataTransferMode:"stream"}]};c.forEach(A=>{A(T)})}))},error:T=>{v||S||(v=!0,Me(()=>{p.forEach(A=>{A("failed-to-stream-content",T)}),f()}))}};t.streamText(e.content,O,r)}),qd=(n,e,t)=>{if(!n)return(()=>{const T=new Set,A=ht(),i={uid:A,status:"complete",items:[]};return Me(()=>{T.forEach(u=>{u(i)}),T.clear()}),{segment:i,observable:{on:(u,l)=>{u==="complete"&&T.add(l)},removeListener:(u,l)=>{T.delete(l)},destroy:()=>{T.clear()},get segmentId(){return A}},dataTransferMode:"batch"}})();const r=e;if(r.streamText===void 0&&r.batchText===void 0&&r.streamServerComponent===void 0)return(T=>{const A=new Set,i=ht(),u={uid:i,status:"error",items:[]};return Me(()=>{A.forEach(l=>l(T)),A.clear()}),{segment:u,dataTransferMode:"stream",observable:{on:(l,g)=>{l==="error"&&A.add(g)},removeListener:(l,g)=>{A.delete(g)},destroy:()=>{A.clear()},get segmentId(){return i}}}})("no-data-transfer-mode-supported");const s=ht(),o=(T=>({uid:ht(),time:new Date,status:"complete",participantRole:"user",content:T,contentType:"text"}))(n);let a,c,p,f,d,h,m=new Set,y=new Set,v=new Set;Me(()=>{m!=null&&m.size&&(m.forEach(T=>{T(o)}),m.clear(),m=void 0)});const S=(T=>{const A=[],i=T,u=T;(i==null?void 0:i.streamText)===void 0&&(u==null?void 0:u.streamServerComponent)===void 0||A.push("stream"),(i==null?void 0:i.batchText)!==void 0&&A.push("batch");const l=or(T)?T:void 0,g=(l==null?void 0:l.dataTransferMode)??void 0,k=A.length===1?A[0]:"stream";return g??k})(e);(T=>"streamServerComponent"in T?"server-component":"text")(e)==="server-component"?(p=new Set,c=new Set,((T,A,i,u,l,g,k,w)=>new Promise((b,E)=>{try{const L=A.content,D=ht(),R="assistant",j="streaming",x=new Date,q="stream";let $,N;const M=()=>{Me(()=>{g.forEach(Q=>{$&&N&&Q({...$,content:N,status:"complete"})})},20);const V={uid:T,status:"complete",items:[A,$]};Me(()=>{k.forEach(Q=>{Q(V)}),b()},20)},B=()=>{w.forEach(V=>{V("failed-to-stream-server-component",new Error("Failed to load content"))})};N=i.streamServerComponent(L,u,{onServerComponentReceived:M,onError:B}),$={uid:D,content:N,contentType:"server-component",participantRole:R,status:j,time:x,dataTransferMode:q},Me(()=>{l.forEach(V=>{V($)})},10)}catch(L){Be(L);const D=L instanceof Error?L:typeof L=="string"?new Error(L):new Error("Unknown error");Me(()=>{w.forEach(R=>R("failed-to-load-content",D))})}}))(s,o,e,t,c,p,y,v).finally(()=>{Me(()=>O())})):S==="batch"?(a=new Set,(async(T,A,i,u,l,g,k)=>{try{const w=A.content,b=or(i)?i:void 0,E=b!==void 0,L=ht(),D="assistant",R="complete",j=new Date,x="batch";let q;if(E){const M=await b.batchText(w,u),B=b.preProcessAiBatchedMessage(M,u);B!=null&&(q={uid:L,content:B,contentType:"text",serverResponse:M,participantRole:D,status:R,time:j,dataTransferMode:x})}else q={uid:L,content:await i.batchText(w,u),contentType:"text",serverResponse:void 0,participantRole:D,status:R,time:j,dataTransferMode:x};if(!q)throw new Error("Response from adapter was undefined or cannot be processed");const $=q;Me(()=>{l.forEach(M=>{M($)})});const N={uid:T,status:"complete",items:[A,q]};Me(()=>{g.forEach(M=>{M(N)})})}catch(w){Be(w);const b=w instanceof Error?w:typeof w=="string"?new Error(w):new Error("Unknown error");Me(()=>{k.forEach(E=>E("failed-to-load-content",b))})}})(s,o,e,t,a,y,v).finally(()=>{Me(()=>O())})):(f=new Set,d=new Set,h=new Set,Bd(s,o,e,t,f,d,h,y,v).finally(()=>{Me(()=>O())}));const O=()=>{m==null||m.clear(),m=void 0,a==null||a.clear(),a=void 0,c==null||c.clear(),c=void 0,p==null||p.clear(),p=void 0,f==null||f.clear(),f=void 0,d==null||d.clear(),d=void 0,h==null||h.clear(),h=void 0,y==null||y.clear(),y=void 0,v==null||v.clear(),v=void 0};return{segment:{status:"active",uid:s,items:[]},dataTransferMode:S,observable:{get segmentId(){return s},on:(T,A)=>{T==="userMessageReceived"&&m?m.add(A):T==="aiMessageReceived"&&a?a.add(A):T==="aiServerComponentStreamStarted"&&c?c.add(A):T==="aiServerComponentStreamed"&&p?p.add(A):T==="aiMessageStreamStarted"&&f?f.add(A):T==="aiMessageStreamed"&&d?d.add(A):T==="aiChunkReceived"&&h?h.add(A):T==="complete"&&y?y.add(A):T==="error"&&v&&v.add(A)},removeListener:(T,A)=>{T!=="userMessageReceived"?T!=="aiMessageReceived"?T!=="aiMessageStreamStarted"?T!=="aiMessageStreamed"?T!=="aiChunkReceived"?T!=="complete"?T!=="error"||(v==null||v.delete(A)):y==null||y.delete(A):h==null||h.delete(A):d==null||d.delete(A):f==null||f.delete(A):a==null||a.delete(A):m==null||m.delete(A)},destroy:()=>O()}}},zd={"data-transfer-mode-not-supported":"Requested data transfer mode is not supported","no-data-transfer-mode-supported":"Adapter does not support any valid data transfer modes","connection-error":"Connection error","invalid-credentials":"Invalid credentials","invalid-api-key":"Invalid API key","http-server-side-error":"HTTP server side error","http-client-side-error":"HTTP client side error","failed-to-load-content":"Failed to load content","failed-to-stream-content":"Failed to stream content","failed-to-stream-server-component":"Failed to stream server component","failed-to-render-content":"Failed to display content"},Nd=n=>{var A;const{aiChatProps:e,adapterToUse:t,prompt:r,composerOptions:s,showException:o,initialSegment:a,newSegments:c,cancelledSegmentIds:p,cancelledMessageIds:f,setChatSegments:d,setComposerStatus:h,setPrompt:m,conversationRef:y}=n,v=_.useMemo(()=>r.length>0,[r]),S=_.useRef(r);S.current=r;const P=_.useRef({newSegments:c,cancelledSegmentIds:p,cancelledMessageIds:f,setChatSegments:d,setComposerStatus:h,showException:o,setPrompt:m}),O=_.useRef({});_.useEffect(()=>{P.current={newSegments:c,cancelledSegmentIds:p,cancelledMessageIds:f,setChatSegments:d,setComposerStatus:h,showException:o,setPrompt:m}},[c,p,f,d,h,o,m]);const T=((i,u,l)=>_.useMemo(()=>{const g=(w=>{const b=[];return w.forEach(E=>{E.items.forEach(L=>{if(L.status==="complete"){if(L.participantRole==="assistant")b.push({role:"assistant",message:L.content});else if(L.participantRole==="user")return b.push({role:"user",message:L.content})}})}),b})(u),k=l==="max"||l===void 0?g:l>0?g.slice(-l):void 0;return{aiChatProps:fs(i),conversationHistory:k}},[i,u,l]))(e,a?[a,...c]:c,(A=e.conversationOptions)==null?void 0:A.historyPayloadSize);return _.useEffect(()=>{O.current=e.events||{}},[e.events]),_.useCallback(()=>{if(!t)return void Be("No valid adapter was provided to AiChat component");if(!v||s!=null&&s.disableSubmitButton)return;h("submitting-prompt");const i=r,u=new Set,l=or(t)?t:t.streamServerComponent?{streamServerComponent:t.streamServerComponent}:{batchText:t.batchText,streamText:t.streamText},{segment:g,observable:k}=qd(i,l,T);if(g.status==="error")return Be("Error occurred while submitting prompt"),o("Error occurred while submitting prompt"),h("typing"),void(S.current===""&&m(i));const w=b=>{const E=P.current.newSegments.map(L=>L.uid!==k.segmentId?L:{...L,items:[...L.items,{...b}]});P.current.setChatSegments(E)};k.on("userMessageReceived",b=>{var E,L;(E=P.current)!=null&&E.cancelledMessageIds.includes(b.uid)||(w(b),(L=O.current)!=null&&L.messageSent&&O.current.messageSent({uid:b.uid,message:b.content}))}),k.on("aiMessageStreamStarted",b=>{var E,L;(E=P.current)!=null&&E.cancelledMessageIds.includes(b.uid)||(w(b),P.current.setComposerStatus("waiting"),S.current===i&&P.current.setPrompt(""),u.add(b.uid),(L=O.current)!=null&&L.messageStreamStarted&&O.current.messageStreamStarted({uid:b.uid}))}),k.on("aiServerComponentStreamStarted",b=>{var E,L,D;(E=P.current)!=null&&E.cancelledMessageIds.includes(b.uid)||(w(b),P.current.setComposerStatus("waiting"),S.current===i&&P.current.setPrompt(""),u.add(b.uid),(L=O.current)!=null&&L.serverComponentStreamStarted&&((D=O.current)==null||D.serverComponentStreamStarted({uid:b.uid})))}),k.on("aiServerComponentStreamed",b=>{var E,L,D;(E=P.current)!=null&&E.cancelledMessageIds.includes(b.uid)||(L=O.current)!=null&&L.serverComponentRendered&&!P.current.cancelledMessageIds.includes(b.uid)&&((D=O.current)==null||D.serverComponentRendered({uid:b.uid}))}),k.on("aiMessageReceived",b=>{var L,D;if((L=P.current)!=null&&L.cancelledMessageIds.includes(b.uid))return;const E=P.current.newSegments.map(R=>R.uid!==k.segmentId?R:{...R,items:[...R.items,{...b}]});P.current.setChatSegments(E),(D=O.current)!=null&&D.messageReceived&&O.current.messageReceived({uid:b.uid,message:b.content})}),k.on("complete",b=>{var L;if((L=P.current)!=null&&L.cancelledMessageIds.includes(b.uid))return;P.current.setComposerStatus("typing");const E=P.current.newSegments.map(D=>D.uid!==k.segmentId?D:{...b});P.current.setChatSegments(E),S.current===i&&m(""),u.size>0&&(u.forEach(D=>{requestAnimationFrame(()=>{var R;(R=y.current)==null||R.completeStream(k.segmentId,D)})}),u.clear())}),k.on("aiChunkReceived",({messageId:b,chunk:E})=>{var L,D;(L=P.current)!=null&&L.cancelledMessageIds.includes(b)||((D=y.current)==null||D.streamChunk(g.uid,b,E))}),k.on("aiMessageStreamed",b=>{var E,L,D;(E=P.current)!=null&&E.cancelledMessageIds.includes(b.uid)||(L=O.current)!=null&&L.messageReceived&&((D=O.current)==null||D.messageReceived({uid:b.uid,message:b.content}))}),k.on("error",(b,E)=>{var R;const L=P.current.newSegments.filter(j=>j.uid!==g.uid),D=zd[b];P.current.setChatSegments(L),P.current.setComposerStatus("typing"),P.current.showException(D),S.current===""&&m(i),(R=O.current)!=null&&R.error&&O.current.error({errorId:b,message:D,errorObject:E})}),P.current.setChatSegments([...P.current.newSegments,g])},[r,t,T,o,P,s==null?void 0:s.disableSubmitButton])},vi="nlux-comp-welcomeMessage",yi=n=>I.jsxs("div",{className:vi,children:[I.jsx(bi,{avatar:n.avatar,name:n.name}),I.jsx("div",{className:"nlux-comp-welcomeMessage-personaName",children:n.name}),n.message&&I.jsx("div",{className:"nlux-comp-welcomeMessage-text",children:n.message})]}),Vo=({children:n})=>I.jsx("div",{className:vi,children:n}),$d=()=>{const n=_.useMemo(()=>"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABGdBTUEAALGPC/xhBQAACklpQ0NQc1JHQiBJRUM2MTk2Ni0yLjEAAEiJnVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/stRzjPAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAJcEhZcwAAewgAAHsIAXgkHaEAABj0SURBVHic7Z13vBxV2ce/Z29ugEQMEAICQUBAkBqqlCiRKqC0gApKE14poh8VUCmihv4SCB2CVAtFQBR9UZpCaMIL0ouAGIIEQgsJya27e/zjmb117+yUc+bM7J7v53Nys3dnzjx3dn9z2nOeR2mt8Xg89Sm5NsDjyTNeIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCKNsVdwzY4Ktqgej+v6RHwpQ8lqr2jFD3q+9UAPrGHDcwN8F6JD3hr1m0LHjgYnAWsAqwGrA8sDKwNLAOGAMsCTQPuDkMtANdAALgUXAPOBtYC4wB5gNvI5m7gBLhxjOiK8VwMAdpQOPrf1eD31PD/5dcJwa8lr+P+D4Ie8pCxtZ249/z3id1gTSoowHNgEmBWUDNGsBYy1eswy8BrwIPAs8BTyBiMeTEi+QdCwFfA6YAmwLbAaMHf7Ytsoo4NNB2XPA758GHgHuB2bBwFbGExUvkPisAOwK7ALsAKyQrR4is3FQjgR6EaH8CfgL8E+HdhUKL5BoLAHsBUwFdkczxq05sWkHdgwKiFhuBm7DtyyheIGEsyFwMHCA0nol18YYZLugnAfcAlwD3OPUopziBVKf3dEcCXzJtSGWGQ0cEJTHgV8A1wI9Dm3KFX4dZDD7A48iffVmF8dQNgdmAv8CTkCmoFseLxDhq8CTaH09Wm+J1rRwmYjWZyBC+TEy/mpZWl0gOwEPorkRzaT+BS1f0ExAcybwKvCtNDe5yLSqQNYAbkZzF5ptc/BlzHOZiGYm0vXcKukNLyqtKJD9gRdB7+v6m1ewsiXoR4CTE931gtJKAvkEcAua69Es4f77VthyKuLOsk3cD6CItIpADgReRjM1B1+wZigbo3kIOCPm51A4mn0dZDRwFVp/w7UhTcoJyETHQYizZNPRzALZXMGNwJquDWlyNgeeAw5DFhmbimYVyBHA5WjXZrQMJcRdZUvgaMe2GKUZBXIZWh/p2ogW5SjEf20v4H23ppiheQSiWBL4E5odXJvS4kxGNm7tiuxJKTTNIpBV0PwNWNu1IR4AVkKmgr8I3OnWlHTYE8iwfdqGGD6uWA/0LGS7qydf/AX4BvAb14YkxZ5AqtZqFkSAWwctR0s71OWcXwPLAhe7NiQJ1gSiKnamkHTf0qaaDDxg5SIe01yErEmd59qQuBR1DLI1WntxFItzkX7F+Y7tiEURXU0mAQ+5NsKTiBnIGlVhKFYLolgDzcPYmwLw2Ody4EPgJsd2RMKeQLThMYji42j+riQWlafY3Ai8hWaWa0MaYVEgButSgOYBJCaVpzn4G7AWmn+7NiSMYnSxNLcBG7k2w2OUEjKWXJ0cR1HJdxdLRho/Q3x7PM3HSsDdwHZ5dSzNexdrd+CnRmry5JXPA+eiOda1IfXIcxdrRTS3uzbCkwk/QMKh5u7zznMX6y7ys07TDTwJvAC8gkxTdiIxb5dGIqtvCHyWfD908sxtwIqA+SQfKcjrh3kG+RiU3wr8DvgrkrimEasAOyN74L9g0a5mpATcgWy6yg1Km16vCOg9bdlkJyq2AB4zakx8LgQuQPFaorPllu4AnIL0sT3ROREJWBeb9pPnm7bFpkCWSXimmovMbrjgLuBYFM+JKQlr0YP+fwzirOeJjP400pWNRfvJHxq3xJ43bzLdzQBnaQaO04pzLXixXKy0noUExF7VdOVNyu+QMZ1z7A2C48daWg/N9xzEeOpGxg3n2roVwDPARmieyUFMqyKUDYDvxD7PAnmZJQL4rYNrfoCkKbvb6lWkUfoQ2AIRi6cRmguBZVybYXFHYQxJK74JrG/Nlvp8BGyGUrMzvGYPmm1Av4qEQvWEcxWaqS4NyMM07yh05tsxe4FtUBmkShZHSyT3BgCLgc+h+Sf5asHzyD7AlmjtbFYzDwuF15O1C7tSnwee6/vijrK4vaQKDN9+/CqyK/JRexduGn4PrOzq4m4H6dL/38+aDfX5X+Dvfa+0li9wnC5hFJSITpUrUvfwTE6PAd81e9GmZCXgOFcXt7YOUj7l41EOewAJNJYVz1JvhV4H/7S3oUeV+lu/NA2LVqieClSrfWIZgUfJ2epxDukAxgHlsINGTVto/MIWW5C6T82BZXM0kzOePtwtdHqwtwrlavqlkJJClatSH6qRTfvlYFo172UMmh81/E5ZwGUXa3rGySm/D/o/oTe3qlFdZekShT/1R6ZNich6ysHdbXgj5qD12TlI3pn3ciKattBbaQFrAlHhZX0F2zU4xlzRvAicH3oTNX0th+pJ2IoooKIpdVZQOrh2NULRnKA0CzO7H8UsYxR8O+wYG7hqQX6eaRMNBygNkYpSqN4qqrsCpRi3XQFKUeqsyKBfqThPNQ0cl4OuTN7LSVRhxGIBFwuFy6MyXfy5AQmkHAvVXUGPLolIosxwlRSqqwK9gbDi94l/Afwcd46aRWAFYE80f8jqgi4WquL72KRrPY6JbaECtKbUUZaWoNF4pKRQZY3qLMvJye09PgdP6byXE8I/DLO4WCj8trVrDmc6Wn2Q7FQFPRXU4l70Um2hhwHQ0SstTRs1YSbhN8DZyMYrT30+i+zgfDmLi2XdguxKdmkKysApqR5XJYVa3CuD9lEj3KpSCdVZ7h+zJBdHjT+mrqH5OSqrC2U9SD86w6b4TDSdqetpK6E6yjJ1O6qEbh9QlmiDSlXeL5VM2X1dDroxeS8Ho1HDfm+BLMP+LIuE8cmCHpShHN4KEUFXBb0UlDrL/X9bSUFZB+MUI1cD+DuapxE3HE99at+lP9m+UJZjkP2wN109lIuArtS1aEQEo0qU3u/qdx3RA94f3UZ13GgRibmcKGcjTpyekTmQDARizRerctyYob/6K9lF+hiPbIZKR5uCKqiPumWMoZT8TiHiCFoXVElEMrpNumIm0HyAPCk99elA7k9f2NK26R3GL5LVIH05shPHLzEljrKm9GGXiGNUqV8c0P+zTZwbSx92oxb3BouLqaZ6ay3UL1L/Dc3NGCRJqFUsBm0Y1DLtYes6wy/M6anO14gYequoBd39r8MIFgbVRz3Sooxtly5musb5YuCHqWpofqZiORpjVi3IbhldZxaal1M9uUvB+seCbqmxLeKwSclYRXWUUYuClqTWFUvGG0gYIs/IHASMtXmBLGaxSsCO1q4zmNNSnd2mpOVY2CNf7ji+WDVGlaBLnBX12HZx8EouknOQiCue+jyI5YmfLGaxtiCbweabpIlO0iZOiiwMxnxJxDGgLrrK4q84ph10NalI7kH+Lr+yPpw7Ucr6GCSLhcLtM1o8ujDxuUoG5OqjQBxRu1VhtJVQnRXZX5J0b4kwIwcLc3krj5DBAB2yGYN8LoNraGBmorMCb93Sop7+1yZQoEsKtbgsriqlxDNbM7HmzF1I3gCmZHUx212sNsS5zDa3AgtinzVQHBUtU7YmCcYxalEP+mPt0F5Kspi4CHFiPNCscYVkIRIMvAcN8gTB6ijEdhdrPTTLZdDkxu+GBDaqjl5xFzHVcgwlqLa0qBd6ddKW5MwcdGtcl/mI+83sure5104ja3sWaxNr9ffzGoqHY59VKqG6yqjuqt24WNDfUnX0Uh07WkQTxHOIyItoHgK2tWVizqkAW1EaIA5N315b1V016eYzCIuRFTVoJtmrP0BxOTrOF1ye4qqnIhucbLUcQwkcG1VHL3rMKLEj3kPvdCTBTCuyA6iX++5XTRwaiR5TrprvHgfYTn9gP4S95ur+PlMEFBK9pKPc/zoralPJXRX0Um2oeE+9PwNzgE/aMS63HKPh/mEPFI3cv4rF7jH2u1jrWqtf+APwfuSjg8AKqm/3X5bqCCgp8e1qU0kG7afSWj5aN6G4pO6nVNVSLM/D2pzFmghMtFY/gFKXRD5WB0+anir0OBIH9LVYqrOMVu3yAVc1kZoyxVVoPR2JMtjsvIlSX6vbOdBBy5HBR2hTf2tYrBs089D67khBx6rBzawEgeEcaaOPUuBG31Vm0JRaoyJ7E9I5YxYBzUJgu4afZwbYnOZdzeq0H1wZ41gg6NpUcC8QkDvfq2UGRsWa+p2BpisH0662ygfApsC/6t63kUMwrTDSG2mwGZt3ouVQlDMjH6tA9VZkHSIkQEnmlIDuqtgWhBqKUMpoPS0HoUBtlPlonUQce6D1LTY+IpuDdJsOdg8iLgeNCWat6DYQlNo0NXtqrUh09/izgROBj1myzAWdwBYoXq/7blWH3ZvrgCVsGGWzizXeYvcqRkYqJb5Q8t/8URu091Ti3IMqmhNz0B0y+ZluS1jLUR3x3IPRLIO2EyfL5iyWrRx8H4G6OdKRqraQpNM+ClZFgpWtDiyP7HlfEom99T4wF3gJeE7si4kCKuIuodtV1FX2i9CcBKwY+3p5Q7ELWj0JBGIZ0lSMHDehDbg0+P9oG6bZzFG4jKV6f43Wjdega12r3sTi2BHYE/FG3pBaLeFdoPlI9+92xIFyfuSrlZBZthLo6AHo/gfLW04z4BDCdk6GBxU5A9mbzoCfRrEW1YTD214C1jFer2JD5EndmLIeeUpwYCyrvp9qLBK175vAZ1JaugC4EjgXrd8C+r/0mvofvAZKSJariCjNw8DW6Ux1g4afopgmr4Z/SCr8u7kcgxeJ53Jlxfi412YXy4ai/4FWjcVRaz3izZcfjdanYK7LMg44FjgamAac1fCMwIlRlXWchcz90Xp2Qhtdcp1Salq/BgaLQdXrag1m6HqQlS6WzUH6khYGchdGOjCeONZDciVegmZFCwPQpYAzkVyEjVulmrgrVSJOjb4O/Mz5IDtemQUcgtaoEYr8bSOePwHNkUN+Z+Vhb3Ml3bSiO9HcEOkDiJ6x9lDgeWq5Em0hdm2JdA2/2vD42nTvyDM3Q8vPySjauQFepVGMtMafxU/q/M7Kd9nmOohpg69hQBS9kOs2RlqWc9CZpxcuATcis2LTGx6tNTH6iLshX748Mx/YhjBH/8af3xJIt3UoVibxXeQHSYbiVGN1aW4H/WVj9cXnHMTT+fCGR0YXyb9A7wnZZV+KySsodgb1LlBfCHqkNwZxJhn6Q7jIMJWE69G8Ham70Zg7AJfiqHEYkadoo3buuZ1sExRF5U0k/NPs8MMafoAfA75vwqCo2BRIxWBd6QLC9fN7JIlPXvgycJnhOi9FotvnhbeBzYAFouOQCYfGhInfyqZ0mwJpPF6IxqPAiwbq+SWy8Jc3jgS+Y7jO75KP9An/RuISzDNUX1jrYfKB3IdNgXQaquenBuo4j3yHzbkQ2MpwnV9HwgW54lFgEtKCmGB3wteoyoauMwibAllsoI5XgDtT1nEsGfdbE3IX5j1SvwFcYLjOKPwKEfxCg3U2mnE01WMZhE2BmMhmcnLK8/chynRqPlga8d8yzfeQblwWaCTt9kGG612dxtEUew1fE7ArkPdSnv8f4Lcpzt8CO184m+yORA40zUyku/OQhbpr3IF4JUSPExCdKDNzprr0g7ApkHdSnv+DFOeuBNyf8vqusNUlehqYDByBhA8yxYPIbNzuiMu/DQ6LcExLCeQ1INqej+G0Aw8DS6W4vksmIW7strgCWBNZpLwvYR2vI+GHvoBsB7CZTHNvoqXPiL8PJwI294P8J8W5ab4g9yF91iJzGeKSYuVDR2Z8rgrK2siXfAuki7QyMh6qBUjtQB52s4EngVnIDJVN77WBRJ0Cf9fGxfMokPuRjLhJuBXx9Sk6bci44YAMrvVKUK4e8Luao6nG0uA3IqsQPfnrXBsG2OxizU54XtL1iiuQWatmYX+yCN1an56guBQHwLdiHFt/P3tKbArkNeLf4FOIGq1kMNOx2293xTWuDXBMY2fOfl6zYYBNgcwnnvv1C5DIY/cMZDGwGdmMfPmOZckUZDwUFSszaLa9eeMYnSTn3HnACQnOKxKXuzbAEXH80+Yhfl/GsS2QZyIety/xu1anUwwXkrR8EvGraiXGIdO7UXmWAnrzAjwV4ZgTib/iPSU4r1U4z7UBGXMg8XYIPm3LENsCeaLB+6cjO8TisAytl2lpBeINWIvOUTGP/4cVK7AvkDcYeXbheJI5I/6V4q6Sp+EM1wZkxKbIgmUcHrNhCGSz5XZogs1XgZ1I5mV7A9kkBs0jE4jmk1R04m4ZnoPFYBVZCOTR4OdLSKuxDnBPgnpmAF8zZVRBMbX1OK+MRhZI4zDLhiE1bLqa1LgJmc1K84eciexraHU+gQxgf+XaEEscSPzuc1K3pEhk0YK8SzpxnAz82JAtzUAzp2BLMm2fpDcSmbyH/TmQZKvrzcyqNJfPWY1JwPoxz3meZK5JkcmzQL6ERCLxDOds1wZYIEmUyz8at2IIeRXIXmTwxxeYtYCdXRthkKVJ5tpvJS/hQPIokKOA21wbUQDOcW2AQY4gfmzdN2i8EJ2avAnkMvpTannC2Qg7AR5ckKR7lSagR2TyIpDtkdQAWYWnaRaaYSyyD8mSFl1n2pB6uBbIpsje63uJP4PhkeBsm7s2IiVJImc+j3jwWieLhcKhrI3sG/8KktPCk44ZSNCFIrIt0lWMy0zThoyEC4HcgOyU85hhMtISW/NotUiSLmIVuNawHSPioot1rYNrNjs2ohnaZiOkBYnL9dgLhzQMFwK5BLNBjT0yFpns2oiYJI0gmenEhAuBaNxEHG92MuuXG2ATGgejrsdjyGxnZriaxZpOdpH5WoX1kImPIpBUzJkH6HAlkIW0brQOm1zs2oAIfBEJcxqXl7Hs2l4Pl+sgJjJHeQYzAZjm2ogGXJnwPCexz1wK5F2KOfuSd36CpH/IIyci8Xbj8hJ2I8iPiOuV9JMcX79ZudG1AXWYQPLNXseYNCQOrgWygNYI/pY1n0cy3eaJPyc8707EFckJrgUCcD7iW+MxywXILr08cDXJvSf2NWlIXPIgEJBsrB7z/J9rAxBv3UMTnns8sMigLbHJi0CeonkjdbhkZdzmSl+d5IlU55CDDMV5EQhIfg8riRhbnAOQHXtZsyTwQIrz9zNlSBryJJBukmeX8oRzOdmnpnsAmJjw3KuwGE40DnkSCEhznHS2wxPOfcCnMrxW0o1cH5CjbGF5EwjIrEW3ayOakHYkDGzSp3oUPg48AmyXoo69yJGfXh4F0kG85Cme6CyPbKxa00LdmyHbYLdKUce5pBu3GCePAgHpZnk3FDtMQBLOTDFY57HA40g2rKQ8T7LoJlbJq0BA3Asy2ZjfgowF/gb8KGU9OyHpLdJOx+qgrtyRZ4EA7Ijk6/bY4SzgIeQ+R2UMkobiXuAuYGsDduwBvGWgHuO4CNoQh3eQ/QOZ7wNoIbYB7gYeRIKxPYBkjF0MLAGMR+JWbYhET9kNSQlnip/hyFM3CkprSxMGh8SNJBnKMcBFJiv0hLIAcfFYElgWez2NWzC5IHit+e9y3rtYNS6mGLvlmoVxyL6N8dj7jjxBTlbLwyiKQEASy//OtREeI8yhIHGFiyQQgKlYzknnsc6HyFpJh2M7IlE0gYCs0j7u2ghPIjqBz5LTGat6FFEgIFOLT7o2whOLbkQcL7s2JA5FFUgZudn/79oQTySqyOdVuIXfogoEoBe56fe7NsTTkMMR95bCUWSBgLgoTAF+79YMTwhzgGtcG5GUogukxt5I+jZP/rCax9w2zSIQgKOBH7o2wjMMp0EX0tJMAgHJ/LoX3sExT6zu2oA0NJtAAP4AbIBESvG4J0mKtdzQjAIBeAXJQXGFa0M8rI6EHyokzSqQGkcgQekWuzakxVnPtQFJaXaBgAROWwfpenncsIFrA5LSCgIBeBMZvB+Gz4/oAi+QgnA18GkkYrgnOz7j2oCktJpAAOYh23gPBd5wbEursC4Sl6twtKJAalwLrI1kZPLdLrssB6zl2ogktLJAQFywT0MCqZ1FwVd9c866rg1IQqsLpMZ7SIrhNZEkmPPcmtOUFHLB0AtkMO8g2Xc/BXwbCSzQClSwvwW2kGshXiD16QAuRSKUb4+MVz5yaZAl7gC+DqwBrIbs1DwBO6kHxlio0zpFiYuVB8YjEQD3BnYBRrs1JzGPALche2heCTlucySC4lTMOBxegu1stRbiYnmBJGMlYGckZOcU7KYUSMsiZNflX5C9GS8lqGNP4CtBSRqNczIS5tQeXiC5pA3Z+jsZCWezKdJdccX7wDNILpCHkODSHxiqe1Xgm4hQ4owp7iVe/N9keIEUhvWBjZF4tusgawCfRCIWmqILeB2YDfwTCYjwNPAC2Thn7oDkP9wLWecYiReALTOxyQuk0IxDumYrBz+XRRLajEeCRI9GVptLyF77XmTjVw8SbO09pCWYB8wF3kZm3VwzDhHJVMTnanlkVuwtxKXneCQKjX0KJRCPpwnw07weTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwj/Ba/47FkhCYEqAAAAAElFTkSuQmCC",[]);return I.jsx(yi,{avatar:n,name:""})},Hd=n=>{const{onConversationStarterSelected:e}=n;return I.jsx("div",{className:"nlux-comp-conversationStarters",children:n.items.map((t,r)=>I.jsxs("button",{className:"nlux-comp-conversationStarter",onClick:()=>e(t),children:[I.jsx(Fd,{icon:t.icon}),I.jsx("span",{className:"nlux-comp-conversationStarter-prompt",children:t.label??t.prompt})]},r))})},Fd=({icon:n})=>n?typeof n=="string"?I.jsx("img",{src:n,width:16}):I.jsx("div",{className:"nlux-comp-conversationStarter-icon-container",children:n}):null,Ud=n=>{const{segments:e,personaOptions:t,conversationOptions:r,userDefinedGreeting:s}=n,o=_.useMemo(()=>e.some(h=>h.items.length>0),[e]),a=_.useMemo(()=>!s&&!o&&(t==null?void 0:t.assistant)===void 0&&(r==null?void 0:r.showWelcomeMessage)!==!1,[o,t==null?void 0:t.assistant,r==null?void 0:r.showWelcomeMessage,s]),c=_.useMemo(()=>!s&&!o&&(t==null?void 0:t.assistant)!==void 0&&(r==null?void 0:r.showWelcomeMessage)!==!1,[s,o,t==null?void 0:t.assistant,r==null?void 0:r.showWelcomeMessage]),p=_.useMemo(()=>!o&&(r==null?void 0:r.conversationStarters)&&(r==null?void 0:r.conversationStarters.length)>0,[o,r==null?void 0:r.conversationStarters]),f=_.useMemo(()=>s!==void 0&&(r==null?void 0:r.showWelcomeMessage)!==!1,[s]);_.useEffect(()=>{s&&(r==null?void 0:r.showWelcomeMessage)===!1&&yn("Configuration conflict: The greeting UI override provided via <AiChatUI.Greeting> will not be shown because conversationOptions.showWelcomeMessage is set to false.")},[r==null?void 0:r.showWelcomeMessage,s]);const d=!(a||c||f||o);return I.jsxs(I.Fragment,{children:[a&&I.jsx($d,{}),c&&I.jsx(yi,{name:t.assistant.name,avatar:t.assistant.avatar,message:t.assistant.tagline}),f&&I.jsx(Vo,{children:s}),d&&I.jsx(Vo,{children:null}),I.jsx("div",{className:"nlux-conversationStarters-container",children:p&&I.jsx(Hd,{items:r.conversationStarters??[],onConversationStarterSelected:n.onConversationStarterSelected})})]})},Go=()=>I.jsx("div",{className:"nlux-comp-messageLoader",children:I.jsx("div",{className:"nlux-comp-loaderContainer",children:I.jsx("span",{className:"spinning-loader"})})}),ps={Loader:n=>I.jsx(I.Fragment,{children:n.children}),Greeting:n=>I.jsx(I.Fragment,{children:n.children})},hs=_.createContext({}),wi=function(n){var we,U,Pe,et,Ge;const{adapter:e,className:t,initialConversation:r,conversationOptions:s,composerOptions:o,displayOptions:a}=n,{themeId:c,colorScheme:p}=a??{},f=_.useRef(null),d=_.useRef(null),h=_.useRef(void 0),m=_.useRef(null),y=((z,G)=>{const[ne,de]=_.useState(),[Se,_e]=_.useState(),le=_.useRef(ne),Re=_.useRef(G);return _.useEffect(()=>{const F=z.current||void 0;F!==Se&&_e(F)}),_.useEffect(()=>{Se?le.current?le.current.updateConversationContainer(Se):(le.current=jd(Se,Re.current??Uo),de(le.current)):le.current&&(le.current.destroy(),de(void 0),le.current=void 0)},[Se]),_.useEffect(()=>{Re.current=G,le.current&&le.current.updateProps({autoScroll:G??Uo})},[G]),ne})(d,s==null?void 0:s.autoScroll),v=_.useMemo(()=>m.current?Fu(m.current):void 0,[m.current]),S=(()=>{const z={},G=new Set;return _.useMemo(()=>({getStreamingDomElement:ne=>{if(G.has(ne)&&G.delete(ne),z[ne]===void 0){const de=document.createElement("div");de.setAttribute("nlux-message-id",ne),de.className="nlux-markdown-container",z[ne]=de}return z[ne]},deleteStreamingDomElement:ne=>{G.add(ne),setTimeout(()=>{G.forEach(de=>{z[de]&&(z[de].remove(),delete z[de])}),G.clear()},1e3)}}),[])})(),{PrimitivesContextProvider:P}=function(z){var de,Se,_e,le,Re,F,K,pe,fe;const[G,ne]=_.useState(z);return _.useEffect(()=>{ne(z)},[(de=z==null?void 0:z.messageOptions)==null?void 0:de.htmlSanitizer,(Se=z==null?void 0:z.messageOptions)==null?void 0:Se.syntaxHighlighter,(_e=z==null?void 0:z.messageOptions)==null?void 0:_e.markdownLinkTarget,(le=z==null?void 0:z.messageOptions)==null?void 0:le.showCodeBlockCopyButton,(Re=z==null?void 0:z.messageOptions)==null?void 0:Re.skipStreamingAnimation,(F=z==null?void 0:z.messageOptions)==null?void 0:F.streamingAnimationSpeed,(K=z==null?void 0:z.messageOptions)==null?void 0:K.waitTimeBeforeStreamCompletion,(pe=z==null?void 0:z.messageOptions)==null?void 0:pe.responseRenderer,(fe=z==null?void 0:z.messageOptions)==null?void 0:fe.promptRenderer]),{PrimitivesContextProvider:_.useMemo(()=>({children:Le})=>I.jsx(hs.Provider,{value:G,children:Le}),[G]),primitivesContext:hs}}({messageOptions:n.messageOptions}),[O,T]=_.useState(""),[A,i]=_.useState("typing"),[u,l]=_.useState(),[g,k]=_.useState([]),[w,b]=_.useState([]),[E,L]=_.useState([]),D=_.useMemo(()=>u?[u,...g]:g,[u,g]),R=_.useMemo(()=>(z=>{const G=z;if(typeof(G==null?void 0:G.create)=="function")return G.create();if(typeof(G==null?void 0:G.batchText)=="function"||typeof(G==null?void 0:G.streamText)=="function"||typeof(G==null?void 0:G.streamServerComponent)=="function")return z;Be("Unable to determine the type of the adapter! Missing batchText or streamText method.")})(e),[e]),j=(z=>_.useMemo(()=>{const G={minWidth:"280px",minHeight:"280px"};return z!=null&&z.width&&(G.width=z.width),z!=null&&z.height&&(G.height=z.height),G},[z==null?void 0:z.width,z==null?void 0:z.height]))(a),x=_.useMemo(()=>(z=>{const G=["nlux-AiChat-root"],ne=`nlux-theme-${z.themeId||"nova"}`;return G.push(ne),z.className&&G.push(z.className),G})({className:t,themeId:c}).join(" "),[t,c]),q=_.useMemo(()=>{var z;return p!=="auto"&&p?p:typeof globalThis!==void 0&&globalThis.matchMedia&&((z=globalThis.matchMedia("(prefers-color-scheme: dark)"))!=null&&z.matches)?"dark":"light"},[p]),$=_.useCallback(z=>v==null?void 0:v.displayException(z),[v]),N=function(z,G,ne,de,Se,_e,le,Re){return _.useCallback(()=>{var K;const F=z.length>0?z[z.length-1]:void 0;(F==null?void 0:F.status)==="active"&&(de(z.slice(0,-1)),Se([...G,F.uid]),_e([...ne,...F.items.map(pe=>pe.uid)]),(K=le.current)==null||K.cancelSegmentStreams(F.uid)),Re("typing")},[z,G,ne,de,Se,_e,le,Re])}(g,w,E,k,b,L,f,i),M=_.useCallback(z=>T(z),[T]),B=Nd({aiChatProps:n,adapterToUse:R,conversationRef:f,initialSegment:u,newSegments:g,cancelledMessageIds:E,cancelledSegmentIds:w,prompt:O,composerOptions:o,showException:$,setChatSegments:k,setComposerStatus:i,setPrompt:T}),V=((z,G,ne,de,Se,_e)=>_.useCallback((le,Re,F)=>{if(le==="initial"&&z){const fe=[];for(const rt of z.items){if(rt.uid===Re)break;fe.push(rt)}const Le={...z,items:fe};return G(Le),de([]),Se(F),void _e("submitting-edit")}const K=ne.findIndex(fe=>fe.uid===le),pe=ne.slice(0,K);de(pe),Se(F),_e("submitting-edit")},[ne,de,z,G,Se,_e]))(u,l,g,k,T,i),Q=_.useCallback((z,G)=>{var ne;(ne=n.events)!=null&&ne.messageRendered&&n.events.messageRendered({uid:G})},[]),Z=_.useCallback(z=>{T(z.prompt),i("submitting-conversation-starter")},[T,i]),ee=((z,G)=>_.useCallback(ne=>{z&&ne&&(G.current=ne.uid,z.handleNewChatSegmentAdded(ne.uid,ne.div))},[z]))(y,h);_.useEffect(()=>{A!=="submitting-conversation-starter"&&A!=="submitting-external-message"&&A!=="submitting-edit"||B()},[A,B]),_.useEffect(()=>l(r?{uid:"initial",status:"complete",items:r.map((z,G)=>{if(z.role==="assistant"||z.role==="user")return z.role==="user"?typeof z.message!="string"?void Be(`Invalid message type for item at index ${G} in initial conversation: When role is "user", message must be a string`):{uid:ht(),time:new Date,status:"complete",participantRole:"user",content:z.message}:{uid:ht(),time:new Date,status:"complete",participantRole:"assistant",content:z.message,serverResponse:z.serverResponse,dataTransferMode:"batch"};Be(`Invalid role for item at index ${G} in initial conversation: Role must be "assistant" or "user"`)}).filter(z=>z!==void 0)}:void 0),[r]),_.useEffect(()=>{var z;u&&((z=d.current)==null||z.scrollTo({behavior:"smooth",top:5e4}))},[u]);const Y=_.useRef(void 0);_.useEffect(()=>{const z=n.api;Y.current=z,typeof(z==null?void 0:z.__setHost)=="function"?z.__setHost({sendMessage:G=>{T(G),i("submitting-external-message")},resetConversation:()=>{k([]),l(void 0)},cancelLastMessageRequest:N}):yn(`API object passed was is not compatible with AiChat.
Only use API objects created by the useAiChatApi() hook.`)},[n.api,N,T,i,k,l]),_.useEffect(()=>()=>{var z;typeof((z=Y.current)==null?void 0:z.__unsetHost)=="function"&&(Y.current.__unsetHost(),Y.current=void 0)},[]),(z=>{_.useEffect(()=>{var ne;const G=(ne=z.events)==null?void 0:ne.ready;G&&G({aiChatProps:fs(z)})},[])})(n),((z,G)=>{var Se;const ne=_.useRef(),de=_.useRef();_.useEffect(()=>{ne.current=()=>{const _e=[];return G.forEach(le=>{le.items&&le.items.length!==0&&le.items.forEach(Re=>{Re.status==="complete"&&(Re.participantRole!=="assistant"?Re.participantRole==="user"&&_e.push({role:"user",message:Re.content}):_e.push({role:"assistant",message:Re.content}))})}),_e}},[G]),_.useEffect(()=>{var _e;de.current=(_e=z.events)==null?void 0:_e.preDestroy},[(Se=z.events)==null?void 0:Se.preDestroy]),_.useEffect(()=>()=>{var le;const _e=de.current;_e&&(_e({aiChatProps:fs(z),conversationHistory:((le=ne.current)==null?void 0:le.call(ne))??[]}),ne.current=void 0)},[])})(n,D);const X=_.useMemo(()=>_.forwardRef(Pd),[]),J=(z=>{const G=_.useMemo(()=>z.children?Array.isArray(z.children)?z.children:[z.children]:[],[z.children]);return{Loader:_.useMemo(()=>G.length===0?I.jsx(Go,{}):G.find(ne=>ne.type===ps.Loader)||I.jsx(Go,{}),[G]),Greeting:_.useMemo(()=>{if(G.length!==0)return G.find(ne=>ne.type===ps.Greeting)},[G])}})(n),ae=O.length>0,re=D.length===0?"nlux-chatRoom-starting":"nlux-chatRoom-active";return R?I.jsx(P,{children:I.jsxs("div",{className:x,style:j,"data-color-scheme":q,children:[I.jsx("div",{className:"nlux-comp-exceptionBox",ref:m}),I.jsxs("div",{className:`nlux-chatRoom-container ${re}`,children:[I.jsx("div",{className:"nlux-launchPad-container",children:I.jsx(Ud,{segments:D,onConversationStarterSelected:Z,conversationOptions:s,personaOptions:n.personaOptions,userDefinedGreeting:J.Greeting})}),I.jsx("div",{className:"nlux-conversation-container",ref:d,children:I.jsx(X,{ref:f,segments:D,conversationOptions:n.conversationOptions,personaOptions:n.personaOptions,messageOptions:n.messageOptions,onLastActiveSegmentChange:ee,Loader:J.Loader,markdownContainersController:S,submitShortcutKey:(we=n.composerOptions)==null?void 0:we.submitShortcut,onPromptResubmit:V,onMarkdownStreamRendered:Q})}),I.jsx("div",{className:"nlux-composer-container",children:I.jsx(Ld,{status:A,prompt:O,hasValidInput:ae,placeholder:(U=n.composerOptions)==null?void 0:U.placeholder,autoFocus:(Pe=n.composerOptions)==null?void 0:Pe.autoFocus,submitShortcut:(et=n.composerOptions)==null?void 0:et.submitShortcut,hideStopButton:(Ge=n.composerOptions)==null?void 0:Ge.hideStopButton,onChange:M,onSubmit:B,onCancel:N,Loader:J.Loader})})]})]})}):(yn("AiChat: No valid adapter provided. The component will not render."),I.jsx(I.Fragment,{}))},Vd=()=>{const n=_.useRef(null),e=_.useRef(((t=()=>{})=>({composer:{send:r=>{throw new Error("AiChatApi is not connected to a host <AiChat /> component.")},cancel:()=>{throw new Error("AiChatApi is not connected to a host <AiChat /> component.")}},conversation:{reset:()=>{throw new Error("AiChatApi is not connected to a host <AiChat /> component.")}},__setHost:r=>{t(r)},__unsetHost:()=>{}}))());return e.current.composer.send=t=>{if(!n.current)throw new Error("AiChatApi is not connected to a host <AiChat /> component.");n.current.sendMessage(t)},e.current.composer.cancel=()=>{if(!n.current)throw new Error("AiChatApi is not connected to a host <AiChat /> component.");n.current.cancelLastMessageRequest()},e.current.conversation.reset=()=>{if(!n.current)throw new Error("AiChatApi is not connected to a host <AiChat /> component.");n.current.resetConversation()},e.current.__setHost=t=>{n.current=t},e.current.__unsetHost=()=>{n.current=null},e.current},Gd=({children:n})=>{const e=_.useMemo(()=>Math.random().toString(36).substring(7),[]),t=_.useContext(hs),r=Array.isArray(n)?n.join(""):n;return I.jsx(ls,{markdownOptions:t.messageOptions,content:r,messageUid:e})},Wd=function(n,e){return _.useMemo(()=>({batchText:n}),e??[{}])},Yd=function(n,e){return _.useMemo(()=>({streamText:n}),e??[{}])},Qd=function(n,e){return{streamServerComponent:(t,r,s)=>()=>{const[o,a]=_.useState("idle"),[c,p]=_.useState(null);return _.useEffect(()=>{a("loading"),n.then(f=>{if(typeof f.default!="function"){const d="The module passed to useAsRscAdapter() as server component does not have a valid default export.";return Be(d),a("error"),void s.onError(new Error(d))}a("success"),p(()=>_.lazy(async()=>{let d,h;try{h=f.default({message:t,extras:r}),d=await Promise.resolve(h)}catch{Be(`An error occurred while rendering the React Server Component (RSC).
Please ensure that no server error has occurred.`),s.onError(new Error("Error while rendering RSC."))}return s.onServerComponentReceived(),d!==void 0&&_.isValidElement(d)?{default:()=>I.jsx(I.Fragment,{children:d})}:(s.onError(new Error("Unable to render RSC. The RSC adapter should return a valid React element.")),{default:()=>I.jsx(I.Fragment,{})})}))}).catch(f=>{Be(`The module passed to useAsRscAdapter() is not a valid ES module, or did not properly load! The first parameter passed to useAsRscAdapter() should be the result of a dynamic import() call [ without await or .then() ]. The module should also have a default export. Your bundler should be able to handle dynamic imports and ES modules.

Reference: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#dynamic_imports`),a("error"),s.onError(f)})},[]),o==="idle"||o==="loading"?null:o==="error"?(Be("Error loading RSC"),I.jsx(I.Fragment,{children:"Error loading RSC"})):I.jsx(_.Suspense,{fallback:e||null,children:c&&I.jsx(c,{})})}}},Zd=(n,e,t)=>{const r=_.useContext(n.ref),[s]=_.useState(()=>{let a;do a=Math.random().toString(36).substring(2,15);while(r.hasItem(a));return a}),o=_.useRef();_.useEffect(()=>(o.current=r.observeState(s,e,t),()=>{var a;(a=o.current)==null||a.discard(),o.current=void 0}),[]),_.useEffect(()=>{var a;(a=o.current)==null||a.setDescription(e)},[e]),_.useEffect(()=>{var a;(a=o.current)==null||a.setData(t)},[t])},Xd=(n,e,t,r)=>{const s=_.useContext(n.ref),[o]=_.useState(()=>{let c;do c=Math.random().toString(36).substring(2,15);while(s.hasTask(c));return c}),a=_.useRef();_.useEffect(()=>(a.current=s.registerTask(o,e,t,r),()=>{var c;(c=a.current)==null||c.discard(),a.current=void 0}),[]),_.useEffect(()=>{var c;(c=a.current)==null||c.setDescription(e)},[e]),_.useEffect(()=>{var c;(c=a.current)==null||c.setCallback(t)},[t]),_.useEffect(()=>{var c;(c=a.current)==null||c.setParamDescriptions(r??[])},[r])},Kd=n=>{const e=Ao(),t=_.createContext(e);return{Provider:r=>{const[s,o]=_.useState(),[a,c]=_.useState(),[p,f]=_.useState();_.useEffect(()=>{let h=!0;const m=Ao().withAdapter(n).withDataSyncOptions({syncStrategy:"auto",contextSize:Hu["100k"]});return f(m),m.initialize(r.initialItems||{}).then(y=>{h&&(y.success?o(y.contextId):c(new Error(y.error)))}),()=>{h=!1,m.destroy()}},[]);const{children:d}=r;return a?r.errorComponent?I.jsx(r.errorComponent,{error:a.message}):I.jsxs("div",{children:[I.jsx("h1",{children:"Error initializing AI context"}),I.jsx("p",{children:a.message})]}):s&&p?I.jsx(t.Provider,{value:p,children:d}):r.loadingComponent?I.jsx(r.loadingComponent,{}):null},ref:t}},Jd=function(n,e){return _.useEffect(n,function(t){const r=_.useRef(t),s=_.useRef(0);return pn(t,r.current)||(r.current=t,s.current+=1),_.useMemo(()=>r.current,[s.current])}(e))};var ki={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Wo=_.createContext&&_.createContext(ki),el=["attr","size","title"];function tl(n,e){if(n==null)return{};var t=nl(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function nl(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ar(){return ar=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ar.apply(this,arguments)}function Yo(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function ir(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yo(Object(t),!0).forEach(function(r){rl(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Yo(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function rl(n,e,t){return e=sl(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sl(n){var e=ol(n,"string");return typeof e=="symbol"?e:e+""}function ol(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function xi(n){return n&&n.map((e,t)=>_.createElement(e.tag,ir({key:t},e.attr),xi(e.child)))}function al(n){return e=>_.createElement(il,ar({attr:ir({},n.attr)},e),xi(n.child))}function il(n){var e=t=>{var{attr:r,size:s,title:o}=n,a=tl(n,el),c=s||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),_.createElement("svg",ar({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:p,style:ir(ir({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&_.createElement("title",null,o),n.children)};return Wo!==void 0?_.createElement(Wo.Consumer,null,t=>e(t)):e(ki)}function cl(n){return al({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}var Si=(n=>(n.Text="Text",n.ImageUrl="ImageUrl",n))(Si||{}),_i=(n=>(n.SystemMessage="system",n.AIMessage="ai",n.HumanMessage="human",n))(_i||{}),Ci=(n=>(n.Auto="Auto",n.Low="Low",n.High="High",n))(Ci||{});async function Ei(n){const{files:e,message:t}=n;if(!e||!e.length)return t;{let r=await Promise.all(e.map(async s=>{const o=await ul(s,n.resizeOptions);if(!o)throw new Error("resize failed");const a=await dl(o);if(!a)throw new Error("base64 failed");return["ImageUrl",a,null]}));return r.push(["Text",t,null]),r}}const ul=async(n,e)=>{const t=(e==null?void 0:e.maxSize)||256,r=document.createElement("canvas"),s=r.getContext("2d");if(!s)throw new Error("ctx is not available");r.width=t,r.height=t;const o=await createImageBitmap(n),{width:a,height:c}=o,p=Math.max(t/a,t/c),f=(t-a*p)/2,d=(t-c*p)/2;return s.drawImage(o,0,0,a,c,f,d,a*p,c*p),new Promise(h=>{r.toBlob(m=>{h(m)})})};async function dl(n){return new Promise((e,t)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.readAsDataURL(n)})}async function ll(n,e){const t=n.getReader();let r;for(;!(r=await t.read()).done;)e(r.value)}function fl(n){let e,t,r,s=!1;return function(a){e===void 0?(e=a,t=0,r=-1):e=hl(e,a);const c=e.length;let p=0;for(;t<c;){s&&(e[t]===10&&(p=++t),s=!1);let f=-1;for(;t<c&&f===-1;++t)switch(e[t]){case 58:r===-1&&(r=t-p);break;case 13:s=!0;case 10:f=t;break}if(f===-1)break;n(e.subarray(p,f),r),p=t,r=-1}p===c?e=void 0:p!==0&&(e=e.subarray(p),t-=p)}}function pl(n,e,t){let r=Qo();const s=new TextDecoder;return function(a,c){if(a.length===0)t==null||t(r),r=Qo();else if(c>0){const p=s.decode(a.subarray(0,c)),f=c+(a[c+1]===32?2:1),d=s.decode(a.subarray(f));switch(p){case"data":r.data=r.data?r.data+(d||`
`):d||`
`;break;case"event":r.event=d;break;case"id":n(r.id=d);break;case"retry":const h=parseInt(d,10);isNaN(h)||e(r.retry=h);break}}}}function hl(n,e){const t=new Uint8Array(n.length+e.length);return t.set(n),t.set(e,n.length),t}function Qo(){return{data:"",event:"",id:"",retry:void 0}}var ml=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const ms="text/event-stream",gl=1e3,Zo="last-event-id";function bl(n,e){var{signal:t,headers:r,onopen:s,onmessage:o,onclose:a,onerror:c,openWhenHidden:p,fetch:f}=e,d=ml(e,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((h,m)=>{const y=Object.assign({},r);y.accept||(y.accept=ms);let v;function S(){v.abort(),document.hidden||u()}p||document.addEventListener("visibilitychange",S);let P=gl,O=0;function T(){document.removeEventListener("visibilitychange",S),window.clearTimeout(O),v.abort()}t==null||t.addEventListener("abort",()=>{T(),h()});const A=f??window.fetch,i=s??vl;async function u(){var l;v=new AbortController;try{const g=await A(n,Object.assign(Object.assign({},d),{headers:y,signal:v.signal}));await i(g),await ll(g.body,fl(pl(k=>{k?y[Zo]=k:delete y[Zo]},k=>{P=k},o))),a==null||a(),T(),h()}catch(g){if(!v.signal.aborted)try{const k=(l=c==null?void 0:c(g))!==null&&l!==void 0?l:P;window.clearTimeout(O),O=window.setTimeout(u,k)}catch(k){T(),m(k)}}}u()})}function vl(n){const e=n.headers.get("content-type");if(!(e!=null&&e.startsWith(ms)))throw new Error(`Expected content-type to be ${ms}, Actual: ${e}`)}const Ai="https://api.dev.langdb.ai",Ti=async n=>{var t;const e={"Content-Type":"application/json"};if(n.publicId)e["X-PUBLIC-APPLICATION-ID"]=n.publicId;else{const r=await((t=n.getAccessToken)==null?void 0:t.call(n));if(!r)throw new Error("Failed to get the user token");e.Authorization=`Bearer ${r}`}return e};class jr extends Error{}const yl=n=>{const{files:e,fileResizeOptions:t}=n,s=`${n.serverUrl||Ai}/stream`,[o,a]=_.useState(n.threadId),[c,p]=_.useState(),{modelName:f,agentParams:d}=n;return{adapter:{streamText:async(m,y)=>{try{const v=await Ti(n),S=await Ei({files:e,message:m,resizeOptions:t}),P={model_name:f,parameters:d||{},user_id:n.userId||"",thread_id:o,message:S};await bl(s,{method:"POST",body:JSON.stringify(P),headers:v,credentials:"include",async onopen(O){if(O.ok&&O.headers.get("content-type")==="text/event-stream"){const T=O.headers.get("X-Thread-Id"),A=O.headers.get("X-Message-Id");if(p(A),a(T),n.responseCallback){const i=O==null?void 0:O.headers.get("x-trace-id");n.responseCallback({traceId:i,modelName:f,threadId:T,messageId:A})}if(!O.body)throw new jr("No body found");return}else if(O.status>=400&&O.status<500&&O.status!==429){const T=await O.text();throw new jr(T||`${O.status}: Failed to send message to the server`)}else return},onmessage(O){if(O.event)throw new jr(O.data);y.next(O.data)},onclose(){},onerror(O){throw O}})}catch(v){const S=new Error(v.toString());n.responseCallback&&n.responseCallback({error:S,modelName:f}),y.error(S)}y.complete()}},threadId:o,messageId:c}};var gs={exports:{}},Un={exports:{}},me={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xo;function wl(){if(Xo)return me;Xo=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,a=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,S=n?Symbol.for("react.block"):60121,P=n?Symbol.for("react.fundamental"):60117,O=n?Symbol.for("react.responder"):60118,T=n?Symbol.for("react.scope"):60119;function A(u){if(typeof u=="object"&&u!==null){var l=u.$$typeof;switch(l){case e:switch(u=u.type,u){case p:case f:case r:case o:case s:case h:return u;default:switch(u=u&&u.$$typeof,u){case c:case d:case v:case y:case a:return u;default:return l}}case t:return l}}}function i(u){return A(u)===f}return me.AsyncMode=p,me.ConcurrentMode=f,me.ContextConsumer=c,me.ContextProvider=a,me.Element=e,me.ForwardRef=d,me.Fragment=r,me.Lazy=v,me.Memo=y,me.Portal=t,me.Profiler=o,me.StrictMode=s,me.Suspense=h,me.isAsyncMode=function(u){return i(u)||A(u)===p},me.isConcurrentMode=i,me.isContextConsumer=function(u){return A(u)===c},me.isContextProvider=function(u){return A(u)===a},me.isElement=function(u){return typeof u=="object"&&u!==null&&u.$$typeof===e},me.isForwardRef=function(u){return A(u)===d},me.isFragment=function(u){return A(u)===r},me.isLazy=function(u){return A(u)===v},me.isMemo=function(u){return A(u)===y},me.isPortal=function(u){return A(u)===t},me.isProfiler=function(u){return A(u)===o},me.isStrictMode=function(u){return A(u)===s},me.isSuspense=function(u){return A(u)===h},me.isValidElementType=function(u){return typeof u=="string"||typeof u=="function"||u===r||u===f||u===o||u===s||u===h||u===m||typeof u=="object"&&u!==null&&(u.$$typeof===v||u.$$typeof===y||u.$$typeof===a||u.$$typeof===c||u.$$typeof===d||u.$$typeof===P||u.$$typeof===O||u.$$typeof===T||u.$$typeof===S)},me.typeOf=A,me}var ge={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko;function kl(){return Ko||(Ko=1,process.env.NODE_ENV!=="production"&&function(){var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,a=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,S=n?Symbol.for("react.block"):60121,P=n?Symbol.for("react.fundamental"):60117,O=n?Symbol.for("react.responder"):60118,T=n?Symbol.for("react.scope"):60119;function A(U){return typeof U=="string"||typeof U=="function"||U===r||U===f||U===o||U===s||U===h||U===m||typeof U=="object"&&U!==null&&(U.$$typeof===v||U.$$typeof===y||U.$$typeof===a||U.$$typeof===c||U.$$typeof===d||U.$$typeof===P||U.$$typeof===O||U.$$typeof===T||U.$$typeof===S)}function i(U){if(typeof U=="object"&&U!==null){var Pe=U.$$typeof;switch(Pe){case e:var et=U.type;switch(et){case p:case f:case r:case o:case s:case h:return et;default:var Ge=et&&et.$$typeof;switch(Ge){case c:case d:case v:case y:case a:return Ge;default:return Pe}}case t:return Pe}}}var u=p,l=f,g=c,k=a,w=e,b=d,E=r,L=v,D=y,R=t,j=o,x=s,q=h,$=!1;function N(U){return $||($=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),M(U)||i(U)===p}function M(U){return i(U)===f}function B(U){return i(U)===c}function V(U){return i(U)===a}function Q(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function Z(U){return i(U)===d}function ee(U){return i(U)===r}function Y(U){return i(U)===v}function X(U){return i(U)===y}function J(U){return i(U)===t}function ae(U){return i(U)===o}function re(U){return i(U)===s}function we(U){return i(U)===h}ge.AsyncMode=u,ge.ConcurrentMode=l,ge.ContextConsumer=g,ge.ContextProvider=k,ge.Element=w,ge.ForwardRef=b,ge.Fragment=E,ge.Lazy=L,ge.Memo=D,ge.Portal=R,ge.Profiler=j,ge.StrictMode=x,ge.Suspense=q,ge.isAsyncMode=N,ge.isConcurrentMode=M,ge.isContextConsumer=B,ge.isContextProvider=V,ge.isElement=Q,ge.isForwardRef=Z,ge.isFragment=ee,ge.isLazy=Y,ge.isMemo=X,ge.isPortal=J,ge.isProfiler=ae,ge.isStrictMode=re,ge.isSuspense=we,ge.isValidElementType=A,ge.typeOf=i}()),ge}var Jo;function Pi(){return Jo||(Jo=1,process.env.NODE_ENV==="production"?Un.exports=wl():Un.exports=kl()),Un.exports}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Br,ea;function xl(){if(ea)return Br;ea=1;var n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function r(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function s(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var a={},c=0;c<10;c++)a["_"+String.fromCharCode(c)]=c;var p=Object.getOwnPropertyNames(a).map(function(d){return a[d]});if(p.join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(d){f[d]=d}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Br=s()?Object.assign:function(o,a){for(var c,p=r(o),f,d=1;d<arguments.length;d++){c=Object(arguments[d]);for(var h in c)e.call(c,h)&&(p[h]=c[h]);if(n){f=n(c);for(var m=0;m<f.length;m++)t.call(c,f[m])&&(p[f[m]]=c[f[m]])}}return p},Br}var qr,ta;function Ns(){if(ta)return qr;ta=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qr=n,qr}var zr,na;function Ii(){return na||(na=1,zr=Function.call.bind(Object.prototype.hasOwnProperty)),zr}var Nr,ra;function Sl(){if(ra)return Nr;ra=1;var n=function(){};if(process.env.NODE_ENV!=="production"){var e=Ns(),t={},r=Ii();n=function(o){var a="Warning: "+o;typeof console<"u"&&console.error(a);try{throw new Error(a)}catch{}}}function s(o,a,c,p,f){if(process.env.NODE_ENV!=="production"){for(var d in o)if(r(o,d)){var h;try{if(typeof o[d]!="function"){var m=Error((p||"React class")+": "+c+" type `"+d+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof o[d]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw m.name="Invariant Violation",m}h=o[d](a,d,p,c,null,e)}catch(v){h=v}if(h&&!(h instanceof Error)&&n((p||"React class")+": type specification of "+c+" `"+d+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof h+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),h instanceof Error&&!(h.message in t)){t[h.message]=!0;var y=f?f():"";n("Failed "+c+" type: "+h.message+(y??""))}}}}return s.resetWarningCache=function(){process.env.NODE_ENV!=="production"&&(t={})},Nr=s,Nr}var $r,sa;function _l(){if(sa)return $r;sa=1;var n=Pi(),e=xl(),t=Ns(),r=Ii(),s=Sl(),o=function(){};process.env.NODE_ENV!=="production"&&(o=function(c){var p="Warning: "+c;typeof console<"u"&&console.error(p);try{throw new Error(p)}catch{}});function a(){return null}return $r=function(c,p){var f=typeof Symbol=="function"&&Symbol.iterator,d="@@iterator";function h(M){var B=M&&(f&&M[f]||M[d]);if(typeof B=="function")return B}var m="<<anonymous>>",y={array:O("array"),bigint:O("bigint"),bool:O("boolean"),func:O("function"),number:O("number"),object:O("object"),string:O("string"),symbol:O("symbol"),any:T(),arrayOf:A,element:i(),elementType:u(),instanceOf:l,node:b(),objectOf:k,oneOf:g,oneOfType:w,shape:L,exact:D};function v(M,B){return M===B?M!==0||1/M===1/B:M!==M&&B!==B}function S(M,B){this.message=M,this.data=B&&typeof B=="object"?B:{},this.stack=""}S.prototype=Error.prototype;function P(M){if(process.env.NODE_ENV!=="production")var B={},V=0;function Q(ee,Y,X,J,ae,re,we){if(J=J||m,re=re||X,we!==t){if(p){var U=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw U.name="Invariant Violation",U}else if(process.env.NODE_ENV!=="production"&&typeof console<"u"){var Pe=J+":"+X;!B[Pe]&&V<3&&(o("You are manually calling a React.PropTypes validation function for the `"+re+"` prop on `"+J+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),B[Pe]=!0,V++)}}return Y[X]==null?ee?Y[X]===null?new S("The "+ae+" `"+re+"` is marked as required "+("in `"+J+"`, but its value is `null`.")):new S("The "+ae+" `"+re+"` is marked as required in "+("`"+J+"`, but its value is `undefined`.")):null:M(Y,X,J,ae,re)}var Z=Q.bind(null,!1);return Z.isRequired=Q.bind(null,!0),Z}function O(M){function B(V,Q,Z,ee,Y,X){var J=V[Q],ae=x(J);if(ae!==M){var re=q(J);return new S("Invalid "+ee+" `"+Y+"` of type "+("`"+re+"` supplied to `"+Z+"`, expected ")+("`"+M+"`."),{expectedType:M})}return null}return P(B)}function T(){return P(a)}function A(M){function B(V,Q,Z,ee,Y){if(typeof M!="function")return new S("Property `"+Y+"` of component `"+Z+"` has invalid PropType notation inside arrayOf.");var X=V[Q];if(!Array.isArray(X)){var J=x(X);return new S("Invalid "+ee+" `"+Y+"` of type "+("`"+J+"` supplied to `"+Z+"`, expected an array."))}for(var ae=0;ae<X.length;ae++){var re=M(X,ae,Z,ee,Y+"["+ae+"]",t);if(re instanceof Error)return re}return null}return P(B)}function i(){function M(B,V,Q,Z,ee){var Y=B[V];if(!c(Y)){var X=x(Y);return new S("Invalid "+Z+" `"+ee+"` of type "+("`"+X+"` supplied to `"+Q+"`, expected a single ReactElement."))}return null}return P(M)}function u(){function M(B,V,Q,Z,ee){var Y=B[V];if(!n.isValidElementType(Y)){var X=x(Y);return new S("Invalid "+Z+" `"+ee+"` of type "+("`"+X+"` supplied to `"+Q+"`, expected a single ReactElement type."))}return null}return P(M)}function l(M){function B(V,Q,Z,ee,Y){if(!(V[Q]instanceof M)){var X=M.name||m,J=N(V[Q]);return new S("Invalid "+ee+" `"+Y+"` of type "+("`"+J+"` supplied to `"+Z+"`, expected ")+("instance of `"+X+"`."))}return null}return P(B)}function g(M){if(!Array.isArray(M))return process.env.NODE_ENV!=="production"&&(arguments.length>1?o("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):o("Invalid argument supplied to oneOf, expected an array.")),a;function B(V,Q,Z,ee,Y){for(var X=V[Q],J=0;J<M.length;J++)if(v(X,M[J]))return null;var ae=JSON.stringify(M,function(we,U){var Pe=q(U);return Pe==="symbol"?String(U):U});return new S("Invalid "+ee+" `"+Y+"` of value `"+String(X)+"` "+("supplied to `"+Z+"`, expected one of "+ae+"."))}return P(B)}function k(M){function B(V,Q,Z,ee,Y){if(typeof M!="function")return new S("Property `"+Y+"` of component `"+Z+"` has invalid PropType notation inside objectOf.");var X=V[Q],J=x(X);if(J!=="object")return new S("Invalid "+ee+" `"+Y+"` of type "+("`"+J+"` supplied to `"+Z+"`, expected an object."));for(var ae in X)if(r(X,ae)){var re=M(X,ae,Z,ee,Y+"."+ae,t);if(re instanceof Error)return re}return null}return P(B)}function w(M){if(!Array.isArray(M))return process.env.NODE_ENV!=="production"&&o("Invalid argument supplied to oneOfType, expected an instance of array."),a;for(var B=0;B<M.length;B++){var V=M[B];if(typeof V!="function")return o("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+$(V)+" at index "+B+"."),a}function Q(Z,ee,Y,X,J){for(var ae=[],re=0;re<M.length;re++){var we=M[re],U=we(Z,ee,Y,X,J,t);if(U==null)return null;U.data&&r(U.data,"expectedType")&&ae.push(U.data.expectedType)}var Pe=ae.length>0?", expected one of type ["+ae.join(", ")+"]":"";return new S("Invalid "+X+" `"+J+"` supplied to "+("`"+Y+"`"+Pe+"."))}return P(Q)}function b(){function M(B,V,Q,Z,ee){return R(B[V])?null:new S("Invalid "+Z+" `"+ee+"` supplied to "+("`"+Q+"`, expected a ReactNode."))}return P(M)}function E(M,B,V,Q,Z){return new S((M||"React class")+": "+B+" type `"+V+"."+Q+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+Z+"`.")}function L(M){function B(V,Q,Z,ee,Y){var X=V[Q],J=x(X);if(J!=="object")return new S("Invalid "+ee+" `"+Y+"` of type `"+J+"` "+("supplied to `"+Z+"`, expected `object`."));for(var ae in M){var re=M[ae];if(typeof re!="function")return E(Z,ee,Y,ae,q(re));var we=re(X,ae,Z,ee,Y+"."+ae,t);if(we)return we}return null}return P(B)}function D(M){function B(V,Q,Z,ee,Y){var X=V[Q],J=x(X);if(J!=="object")return new S("Invalid "+ee+" `"+Y+"` of type `"+J+"` "+("supplied to `"+Z+"`, expected `object`."));var ae=e({},V[Q],M);for(var re in ae){var we=M[re];if(r(M,re)&&typeof we!="function")return E(Z,ee,Y,re,q(we));if(!we)return new S("Invalid "+ee+" `"+Y+"` key `"+re+"` supplied to `"+Z+"`.\nBad object: "+JSON.stringify(V[Q],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(M),null,"  "));var U=we(X,re,Z,ee,Y+"."+re,t);if(U)return U}return null}return P(B)}function R(M){switch(typeof M){case"number":case"string":case"undefined":return!0;case"boolean":return!M;case"object":if(Array.isArray(M))return M.every(R);if(M===null||c(M))return!0;var B=h(M);if(B){var V=B.call(M),Q;if(B!==M.entries){for(;!(Q=V.next()).done;)if(!R(Q.value))return!1}else for(;!(Q=V.next()).done;){var Z=Q.value;if(Z&&!R(Z[1]))return!1}}else return!1;return!0;default:return!1}}function j(M,B){return M==="symbol"?!0:B?B["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&B instanceof Symbol:!1}function x(M){var B=typeof M;return Array.isArray(M)?"array":M instanceof RegExp?"object":j(B,M)?"symbol":B}function q(M){if(typeof M>"u"||M===null)return""+M;var B=x(M);if(B==="object"){if(M instanceof Date)return"date";if(M instanceof RegExp)return"regexp"}return B}function $(M){var B=q(M);switch(B){case"array":case"object":return"an "+B;case"boolean":case"date":case"regexp":return"a "+B;default:return B}}function N(M){return!M.constructor||!M.constructor.name?m:M.constructor.name}return y.checkPropTypes=s,y.resetWarningCache=s.resetWarningCache,y.PropTypes=y,y},$r}var Hr,oa;function Cl(){if(oa)return Hr;oa=1;var n=Ns();function e(){}function t(){}return t.resetWarningCache=e,Hr=function(){function r(a,c,p,f,d,h){if(h!==n){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Hr}if(process.env.NODE_ENV!=="production"){var El=Pi(),Al=!0;gs.exports=_l()(El.isElement,Al)}else gs.exports=Cl()();var Tl=gs.exports;const xe=qc(Tl);function Vt(n,e,t,r){function s(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function c(d){try{f(r.next(d))}catch(h){a(h)}}function p(d){try{f(r.throw(d))}catch(h){a(h)}}function f(d){d.done?o(d.value):s(d.value).then(c,p)}f((r=r.apply(n,e||[])).next())})}function Gt(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(f){return function(d){return p([f,d])}}function p(f){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(t=0)),t;)try{if(r=1,s&&(o=f[0]&2?s.return:f[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,f[1])).done)return o;switch(s=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,s=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(d){f=[6,d],s=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function aa(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),s,o=[],a;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o}function ia(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var Pl=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function En(n,e){var t=Il(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Il(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),s=Pl.get(r);s&&Object.defineProperty(n,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return n}var Rl=[".DS_Store","Thumbs.db"];function Dl(n){return Vt(this,void 0,void 0,function(){return Gt(this,function(e){return cr(n)&&Ll(n.dataTransfer)?[2,Bl(n.dataTransfer,n.type)]:Ol(n)?[2,Ml(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,jl(n)]:[2,[]]})})}function Ll(n){return cr(n)}function Ol(n){return cr(n)&&cr(n.target)}function cr(n){return typeof n=="object"&&n!==null}function Ml(n){return bs(n.target.files).map(function(e){return En(e)})}function jl(n){return Vt(this,void 0,void 0,function(){var e;return Gt(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return En(r)})]}})})}function Bl(n,e){return Vt(this,void 0,void 0,function(){var t,r;return Gt(this,function(s){switch(s.label){case 0:return n.items?(t=bs(n.items).filter(function(o){return o.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(ql))]):[3,2];case 1:return r=s.sent(),[2,ca(Ri(r))];case 2:return[2,ca(bs(n.files).map(function(o){return En(o)}))]}})})}function ca(n){return n.filter(function(e){return Rl.indexOf(e.name)===-1})}function bs(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function ql(n){if(typeof n.webkitGetAsEntry!="function")return ua(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?Di(e):ua(n)}function Ri(n){return n.reduce(function(e,t){return ia(ia([],aa(e),!1),aa(Array.isArray(t)?Ri(t):[t]),!1)},[])}function ua(n){var e=n.getAsFile();if(!e)return Promise.reject("".concat(n," is not a File"));var t=En(e);return Promise.resolve(t)}function zl(n){return Vt(this,void 0,void 0,function(){return Gt(this,function(e){return[2,n.isDirectory?Di(n):Nl(n)]})})}function Di(n){var e=n.createReader();return new Promise(function(t,r){var s=[];function o(){var a=this;e.readEntries(function(c){return Vt(a,void 0,void 0,function(){var p,f,d;return Gt(this,function(h){switch(h.label){case 0:if(c.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(s)];case 2:return p=h.sent(),t(p),[3,4];case 3:return f=h.sent(),r(f),[3,4];case 4:return[3,6];case 5:d=Promise.all(c.map(zl)),s.push(d),o(),h.label=6;case 6:return[2]}})})},function(c){r(c)})}o()})}function Nl(n){return Vt(this,void 0,void 0,function(){return Gt(this,function(e){return[2,new Promise(function(t,r){n.file(function(s){var o=En(s,n.fullPath);t(o)},function(s){r(s)})})]})})}var $l=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",s=(n.type||"").toLowerCase(),o=s.replace(/\/.*$/,"");return t.some(function(a){var c=a.trim().toLowerCase();return c.charAt(0)==="."?r.toLowerCase().endsWith(c):c.endsWith("/*")?o===c.replace(/\/.*$/,""):s===c})}return!0};function da(n){return Ul(n)||Fl(n)||Oi(n)||Hl()}function Hl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fl(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ul(n){if(Array.isArray(n))return vs(n)}function la(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function fa(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?la(Object(t),!0).forEach(function(r){Li(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):la(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Li(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wn(n,e){return Wl(n)||Gl(n,e)||Oi(n,e)||Vl()}function Vl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oi(n,e){if(n){if(typeof n=="string")return vs(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vs(n,e)}}function vs(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Gl(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],s=!0,o=!1,a,c;try{for(t=t.call(n);!(s=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));s=!0);}catch(p){o=!0,c=p}finally{try{!s&&t.return!=null&&t.return()}finally{if(o)throw c}}return r}}function Wl(n){if(Array.isArray(n))return n}var Yl="file-invalid-type",Ql="file-too-large",Zl="file-too-small",Xl="too-many-files",Kl=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Yl,message:"File type must be ".concat(t)}},pa=function(e){return{code:Ql,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},ha=function(e){return{code:Zl,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Jl={code:Xl,message:"Too many files"};function Mi(n,e){var t=n.type==="application/x-moz-file"||$l(n,e);return[t,t?null:Kl(e)]}function ji(n,e,t){if(Tt(n.size))if(Tt(e)&&Tt(t)){if(n.size>t)return[!1,pa(t)];if(n.size<e)return[!1,ha(e)]}else{if(Tt(e)&&n.size<e)return[!1,ha(e)];if(Tt(t)&&n.size>t)return[!1,pa(t)]}return[!0,null]}function Tt(n){return n!=null}function ef(n){var e=n.files,t=n.accept,r=n.minSize,s=n.maxSize,o=n.multiple,a=n.maxFiles,c=n.validator;return!o&&e.length>1||o&&a>=1&&e.length>a?!1:e.every(function(p){var f=Mi(p,t),d=wn(f,1),h=d[0],m=ji(p,r,s),y=wn(m,1),v=y[0],S=c?c(p):null;return h&&v&&!S})}function ur(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Vn(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function ma(n){n.preventDefault()}function tf(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function nf(n){return n.indexOf("Edge/")!==-1}function rf(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return tf(n)||nf(n)}function ut(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];return e.some(function(c){return!ur(r)&&c&&c.apply(void 0,[r].concat(o)),ur(r)})}}function sf(){return"showOpenFilePicker"in window}function of(n){if(Tt(n)){var e=Object.entries(n).filter(function(t){var r=wn(t,2),s=r[0],o=r[1],a=!0;return Bi(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(o)||!o.every(qi))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(t,r){var s=wn(r,2),o=s[0],a=s[1];return fa(fa({},t),{},Li({},o,a))},{});return[{description:"Files",accept:e}]}return n}function af(n){if(Tt(n))return Object.entries(n).reduce(function(e,t){var r=wn(t,2),s=r[0],o=r[1];return[].concat(da(e),[s],da(o))},[]).filter(function(e){return Bi(e)||qi(e)}).join(",")}function cf(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function uf(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function Bi(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||/\w+\/[-+.\w]+/g.test(n)}function qi(n){return/^.*\.[\w]+$/.test(n)}var df=["children"],lf=["open"],ff=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],pf=["refKey","onChange","onClick"];function hf(n){return bf(n)||gf(n)||zi(n)||mf()}function mf(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gf(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function bf(n){if(Array.isArray(n))return ys(n)}function Fr(n,e){return wf(n)||yf(n,e)||zi(n,e)||vf()}function vf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zi(n,e){if(n){if(typeof n=="string")return ys(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ys(n,e)}}function ys(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function yf(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],s=!0,o=!1,a,c;try{for(t=t.call(n);!(s=(a=t.next()).done)&&(r.push(a.value),!(e&&r.length===e));s=!0);}catch(p){o=!0,c=p}finally{try{!s&&t.return!=null&&t.return()}finally{if(o)throw c}}return r}}function wf(n){if(Array.isArray(n))return n}function ga(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Ae(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ga(Object(t),!0).forEach(function(r){ws(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ga(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ws(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dr(n,e){if(n==null)return{};var t=kf(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function kf(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}var $s=_.forwardRef(function(n,e){var t=n.children,r=dr(n,df),s=$i(r),o=s.open,a=dr(s,lf);return _.useImperativeHandle(e,function(){return{open:o}},[o]),_.createElement(_.Fragment,null,t(Ae(Ae({},a),{},{open:o})))});$s.displayName="Dropzone";var Ni={disabled:!1,getFilesFromEvent:Dl,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};$s.defaultProps=Ni;$s.propTypes={children:xe.func,accept:xe.objectOf(xe.arrayOf(xe.string)),multiple:xe.bool,preventDropOnDocument:xe.bool,noClick:xe.bool,noKeyboard:xe.bool,noDrag:xe.bool,noDragEventsBubbling:xe.bool,minSize:xe.number,maxSize:xe.number,maxFiles:xe.number,disabled:xe.bool,getFilesFromEvent:xe.func,onFileDialogCancel:xe.func,onFileDialogOpen:xe.func,useFsAccessApi:xe.bool,autoFocus:xe.bool,onDragEnter:xe.func,onDragLeave:xe.func,onDragOver:xe.func,onDrop:xe.func,onDropAccepted:xe.func,onDropRejected:xe.func,onError:xe.func,validator:xe.func};var ks={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function $i(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Ae(Ae({},Ni),n),t=e.accept,r=e.disabled,s=e.getFilesFromEvent,o=e.maxSize,a=e.minSize,c=e.multiple,p=e.maxFiles,f=e.onDragEnter,d=e.onDragLeave,h=e.onDragOver,m=e.onDrop,y=e.onDropAccepted,v=e.onDropRejected,S=e.onFileDialogCancel,P=e.onFileDialogOpen,O=e.useFsAccessApi,T=e.autoFocus,A=e.preventDropOnDocument,i=e.noClick,u=e.noKeyboard,l=e.noDrag,g=e.noDragEventsBubbling,k=e.onError,w=e.validator,b=_.useMemo(function(){return af(t)},[t]),E=_.useMemo(function(){return of(t)},[t]),L=_.useMemo(function(){return typeof P=="function"?P:ba},[P]),D=_.useMemo(function(){return typeof S=="function"?S:ba},[S]),R=_.useRef(null),j=_.useRef(null),x=_.useReducer(xf,ks),q=Fr(x,2),$=q[0],N=q[1],M=$.isFocused,B=$.isFileDialogActive,V=_.useRef(typeof window<"u"&&window.isSecureContext&&O&&sf()),Q=function(){!V.current&&B&&setTimeout(function(){if(j.current){var K=j.current.files;K.length||(N({type:"closeDialog"}),D())}},300)};_.useEffect(function(){return window.addEventListener("focus",Q,!1),function(){window.removeEventListener("focus",Q,!1)}},[j,B,D,V]);var Z=_.useRef([]),ee=function(K){R.current&&R.current.contains(K.target)||(K.preventDefault(),Z.current=[])};_.useEffect(function(){return A&&(document.addEventListener("dragover",ma,!1),document.addEventListener("drop",ee,!1)),function(){A&&(document.removeEventListener("dragover",ma),document.removeEventListener("drop",ee))}},[R,A]),_.useEffect(function(){return!r&&T&&R.current&&R.current.focus(),function(){}},[R,T,r]);var Y=_.useCallback(function(F){k?k(F):console.error(F)},[k]),X=_.useCallback(function(F){F.preventDefault(),F.persist(),Se(F),Z.current=[].concat(hf(Z.current),[F.target]),Vn(F)&&Promise.resolve(s(F)).then(function(K){if(!(ur(F)&&!g)){var pe=K.length,fe=pe>0&&ef({files:K,accept:b,minSize:a,maxSize:o,multiple:c,maxFiles:p,validator:w}),Le=pe>0&&!fe;N({isDragAccept:fe,isDragReject:Le,isDragActive:!0,type:"setDraggedFiles"}),f&&f(F)}}).catch(function(K){return Y(K)})},[s,f,Y,g,b,a,o,c,p,w]),J=_.useCallback(function(F){F.preventDefault(),F.persist(),Se(F);var K=Vn(F);if(K&&F.dataTransfer)try{F.dataTransfer.dropEffect="copy"}catch{}return K&&h&&h(F),!1},[h,g]),ae=_.useCallback(function(F){F.preventDefault(),F.persist(),Se(F);var K=Z.current.filter(function(fe){return R.current&&R.current.contains(fe)}),pe=K.indexOf(F.target);pe!==-1&&K.splice(pe,1),Z.current=K,!(K.length>0)&&(N({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Vn(F)&&d&&d(F))},[R,d,g]),re=_.useCallback(function(F,K){var pe=[],fe=[];F.forEach(function(Le){var rt=Mi(Le,b),ft=Fr(rt,2),kt=ft[0],Yt=ft[1],Qt=ji(Le,a,o),Mt=Fr(Qt,2),Zt=Mt[0],Xt=Mt[1],Kt=w?w(Le):null;if(kt&&Zt&&!Kt)pe.push(Le);else{var Jt=[Yt,Xt];Kt&&(Jt=Jt.concat(Kt)),fe.push({file:Le,errors:Jt.filter(function(en){return en})})}}),(!c&&pe.length>1||c&&p>=1&&pe.length>p)&&(pe.forEach(function(Le){fe.push({file:Le,errors:[Jl]})}),pe.splice(0)),N({acceptedFiles:pe,fileRejections:fe,type:"setFiles"}),m&&m(pe,fe,K),fe.length>0&&v&&v(fe,K),pe.length>0&&y&&y(pe,K)},[N,c,b,a,o,p,m,y,v,w]),we=_.useCallback(function(F){F.preventDefault(),F.persist(),Se(F),Z.current=[],Vn(F)&&Promise.resolve(s(F)).then(function(K){ur(F)&&!g||re(K,F)}).catch(function(K){return Y(K)}),N({type:"reset"})},[s,re,Y,g]),U=_.useCallback(function(){if(V.current){N({type:"openDialog"}),L();var F={multiple:c,types:E};window.showOpenFilePicker(F).then(function(K){return s(K)}).then(function(K){re(K,null),N({type:"closeDialog"})}).catch(function(K){cf(K)?(D(K),N({type:"closeDialog"})):uf(K)?(V.current=!1,j.current?(j.current.value=null,j.current.click()):Y(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Y(K)});return}j.current&&(N({type:"openDialog"}),L(),j.current.value=null,j.current.click())},[N,L,D,O,re,Y,E,c]),Pe=_.useCallback(function(F){!R.current||!R.current.isEqualNode(F.target)||(F.key===" "||F.key==="Enter"||F.keyCode===32||F.keyCode===13)&&(F.preventDefault(),U())},[R,U]),et=_.useCallback(function(){N({type:"focus"})},[]),Ge=_.useCallback(function(){N({type:"blur"})},[]),z=_.useCallback(function(){i||(rf()?setTimeout(U,0):U())},[i,U]),G=function(K){return r?null:K},ne=function(K){return u?null:G(K)},de=function(K){return l?null:G(K)},Se=function(K){g&&K.stopPropagation()},_e=_.useMemo(function(){return function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=F.refKey,pe=K===void 0?"ref":K,fe=F.role,Le=F.onKeyDown,rt=F.onFocus,ft=F.onBlur,kt=F.onClick,Yt=F.onDragEnter,Qt=F.onDragOver,Mt=F.onDragLeave,Zt=F.onDrop,Xt=dr(F,ff);return Ae(Ae(ws({onKeyDown:ne(ut(Le,Pe)),onFocus:ne(ut(rt,et)),onBlur:ne(ut(ft,Ge)),onClick:G(ut(kt,z)),onDragEnter:de(ut(Yt,X)),onDragOver:de(ut(Qt,J)),onDragLeave:de(ut(Mt,ae)),onDrop:de(ut(Zt,we)),role:typeof fe=="string"&&fe!==""?fe:"presentation"},pe,R),!r&&!u?{tabIndex:0}:{}),Xt)}},[R,Pe,et,Ge,z,X,J,ae,we,u,l,r]),le=_.useCallback(function(F){F.stopPropagation()},[]),Re=_.useMemo(function(){return function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=F.refKey,pe=K===void 0?"ref":K,fe=F.onChange,Le=F.onClick,rt=dr(F,pf),ft=ws({accept:b,multiple:c,type:"file",style:{display:"none"},onChange:G(ut(fe,we)),onClick:G(ut(Le,le)),tabIndex:-1},pe,j);return Ae(Ae({},ft),rt)}},[j,t,c,we,r]);return Ae(Ae({},$),{},{isFocused:M&&!r,getRootProps:_e,getInputProps:Re,rootRef:R,inputRef:j,open:G(U)})}function xf(n,e){switch(e.type){case"focus":return Ae(Ae({},n),{},{isFocused:!0});case"blur":return Ae(Ae({},n),{},{isFocused:!1});case"openDialog":return Ae(Ae({},ks),{},{isFileDialogActive:!0});case"closeDialog":return Ae(Ae({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return Ae(Ae({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Ae(Ae({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Ae({},ks);default:return n}}function ba(){}const Sf=n=>I.jsx("svg",{...n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"})}),_f=()=>I.jsxs("svg",{viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[I.jsx("circle",{cx:"100",cy:"100",r:"99.5",stroke:"#B0488C"}),I.jsxs("g",{clipPath:"url(#clip0_31_12)",children:[I.jsx("path",{d:"M87.6691 75.9199C88.563 75.9163 89.457 75.9128 90.378 75.9091C92.2639 75.9065 94.1498 75.9134 96.0357 75.9291C98.9224 75.9491 101.807 75.9292 104.694 75.9053C106.528 75.9078 108.362 75.9126 110.195 75.9199C111.059 75.9124 111.921 75.9048 112.81 75.897C119.46 75.9944 119.46 75.9944 121.75 78.2731C122.191 78.8959 122.631 79.5187 123.085 80.1604C123.454 80.531 123.454 80.531 123.83 80.9091C123.911 82.1028 123.941 83.3 123.95 84.4965C123.957 85.2614 123.964 86.0262 123.971 86.8143C123.974 87.6478 123.978 88.4815 123.981 89.3403C123.985 90.1927 123.99 91.0451 123.994 91.9233C124.001 93.7328 124.006 95.5423 124.009 97.3517C124.016 100.116 124.039 102.879 124.062 105.643C124.067 107.399 124.071 109.155 124.074 110.911C124.083 111.738 124.093 112.563 124.102 113.415C124.081 120.894 124.081 120.894 121.596 124.332C119.274 125.815 117.439 126.021 114.715 126.035C113.937 126.042 113.159 126.049 112.357 126.056C111.521 126.056 110.685 126.055 109.823 126.054C108.961 126.057 108.098 126.06 107.209 126.064C105.383 126.068 103.559 126.068 101.734 126.065C98.9428 126.062 96.1519 126.08 93.3604 126.099C91.5874 126.101 89.8145 126.101 88.0415 126.101C87.2067 126.107 86.372 126.115 85.5119 126.122C84.7316 126.117 83.9513 126.113 83.1474 126.107C82.4635 126.108 81.7796 126.109 81.075 126.109C78.7215 125.767 77.3408 124.983 75.4255 123.583C73.7766 121.097 73.7375 120.265 73.6961 117.362C73.6818 116.549 73.6676 115.737 73.6528 114.901C73.6465 114.023 73.6401 113.146 73.6337 112.242C73.6251 111.34 73.6166 110.438 73.6079 109.509C73.5938 107.6 73.5841 105.69 73.5783 103.781C73.5639 100.859 73.5177 97.9383 73.4707 95.0167C73.461 93.1626 73.4532 91.3085 73.4475 89.4543C73.4291 88.5801 73.4107 87.7058 73.3917 86.8049C73.4123 83.0474 73.445 80.866 75.6217 77.739C79.2026 75.469 83.5895 75.8841 87.6691 75.9199Z",fill:"#B0488C"}),I.jsx("path",{d:"M32.2341 37.4866C59.7575 37.4866 87.2809 37.4866 115.638 37.4866C115.638 42.9219 115.638 48.3572 115.638 53.9572C93.0298 53.9572 70.4213 53.9572 47.1277 53.9572C47.1277 64.5807 47.1277 75.2043 47.1277 86.1497C42.2128 86.1497 37.2979 86.1497 32.2341 86.1497C32.2341 70.0909 32.2341 54.0321 32.2341 37.4866Z",fill:"#B0488C"}),I.jsx("path",{d:"M32.2341 116.845C37.149 116.845 42.0639 116.845 47.1277 116.845C47.1277 127.221 47.1277 137.598 47.1277 148.289C71.7022 148.289 96.2766 148.289 121.596 148.289C121.596 153.23 121.596 158.171 121.596 163.262C92.1064 163.262 62.617 163.262 32.2341 163.262C32.2341 147.944 32.2341 132.627 32.2341 116.845Z",fill:"#B0488C"}),I.jsx("path",{d:"M161.814 34.6792C165.577 37.5618 167.934 41.1653 169.255 45.7219C170.002 51.7878 170.244 57.7758 166.678 63.0231C166.3 63.4902 165.921 63.9573 165.532 64.4385C164.964 65.1623 164.964 65.1623 164.386 65.9007C160.694 70.0863 156.304 72.2018 150.81 72.9575C144.443 73.235 139.791 71.2772 134.814 67.3864C130.268 63.0898 128.124 57.8507 127.879 51.6177C128.195 45.152 130.717 40.4865 135.049 35.7846C142.84 28.7908 153.315 29.3596 161.814 34.6792Z",fill:"#B0488C"}),I.jsx("path",{d:"M158.009 137.132C162.749 139.815 166.014 143.005 167.766 148.289C168.291 153.643 168.045 158.108 164.787 162.513C160.978 166.779 156.65 168.925 151.011 169.532C144.592 168.841 140.292 166.139 136.21 161.062C134.084 157.002 134.439 151.969 135 147.54C136.243 144.421 137.612 142.39 140.167 140.241C140.665 139.812 141.163 139.383 141.676 138.942C146.467 135.355 152.423 135.005 158.009 137.132Z",fill:"#B0488C"}),I.jsx("path",{d:"M149.894 85.4011C154.809 85.4011 159.723 85.4011 164.787 85.4011C164.787 96.0246 164.787 106.648 164.787 117.594C159.872 117.594 154.957 117.594 149.894 117.594C149.894 106.97 149.894 96.3465 149.894 85.4011Z",fill:"#B0488C"}),I.jsx("path",{d:"M40.3383 94.0136C43.3122 94.7142 44.8713 96.3632 46.6623 98.7366C47.3967 101.321 47.103 103.037 46.383 105.615C44.2412 107.919 42.6152 109.128 39.6343 110.107C36.957 110.107 35.8402 109.471 33.7234 107.861C33.2934 107.567 32.8633 107.274 32.4203 106.972C30.8391 104.667 30.4332 102.35 30.7447 99.6257C32.7702 95.2399 35.5991 93.6206 40.3383 94.0136Z",fill:"#B0488C"})]}),I.jsx("defs",{children:I.jsx("clipPath",{id:"clip0_31_12",children:I.jsx("rect",{width:"140",height:"140",fill:"white",transform:"translate(30 30)"})})})]}),Cf=({files:n})=>I.jsx(I.Fragment,{children:n.map((e,t)=>I.jsx("div",{className:"thumbnail m-2",children:I.jsx("div",{className:"thumbnailInner",children:I.jsx("img",{src:e.preview,alt:e.preview,className:"w-[150px]"})})},t))}),Ef=({files:n,setFiles:e})=>{const t=_.useCallback(a=>{e(c=>[...c,...a.map(p=>Object.assign(p,{preview:URL.createObjectURL(p)}))])},[]),{getRootProps:r,getInputProps:s}=$i({onDrop:t}),o=a=>()=>{const c=n.filter(p=>p!==a);e(c)};return I.jsxs("div",{className:"flex flex-col w-[100%] dropzone border",children:[I.jsxs("div",{...r(),className:"flex items-center justify-center p-4 rounded-lg cursor-pointer hover:border-gray-500",children:[I.jsx("input",{...s()}),I.jsx("p",{className:"text-gray-500",children:"Drag & drop images, or click to select files"})]}),I.jsx("aside",{className:"flex flex-wrap mt-4",children:n.map(a=>I.jsxs("div",{className:"relative m-2",children:[I.jsx("button",{onClick:o(a),className:"absolute top-0 right-0 p-1 bg-red-500 rounded-full text-white",children:I.jsx(Sf,{className:"w-4 h-4"})}),I.jsx("div",{className:"border p-1 rounded-lg",children:I.jsx("img",{src:a.preview,alt:a.name,className:"w-12 h-12 object-cover rounded-lg"})})]},a.name))})]})};function Af({title:n,titleId:e,...t},r){return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?ze.createElement("title",{id:e},n):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.498 15.25H4.372c-1.026 0-1.945-.694-2.054-1.715a12.137 12.137 0 0 1-.068-1.285c0-2.848.992-5.464 2.649-7.521C5.287 4.247 5.886 4 6.504 4h4.016a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23h1.294M7.498 15.25c.618 0 .991.724.725 1.282A7.471 7.471 0 0 0 7.5 19.75 2.25 2.25 0 0 0 9.75 22a.75.75 0 0 0 .75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 0 0 2.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384m-10.253 1.5H9.7m8.075-9.75c.01.05.027.1.05.148.593 1.2.925 2.55.925 3.977 0 1.487-.36 2.89-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398-.306.774-1.086 1.227-1.918 1.227h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 0 0 .303-.54"}))}const Tf=ze.forwardRef(Af);function Pf({title:n,titleId:e,...t},r){return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?ze.createElement("title",{id:e},n):null,ze.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const If=ze.forwardRef(Pf);function Rf({title:n,titleId:e,...t},r){return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?ze.createElement("title",{id:e},n):null,ze.createElement("path",{d:"M15.73 5.5h1.035A7.465 7.465 0 0 1 18 9.625a7.465 7.465 0 0 1-1.235 4.125h-.148c-.806 0-1.534.446-2.031 1.08a9.04 9.04 0 0 1-2.861 2.4c-.723.384-1.35.956-1.653 1.715a4.499 4.499 0 0 0-.322 1.672v.633A.75.75 0 0 1 9 22a2.25 2.25 0 0 1-2.25-2.25c0-1.152.26-2.243.723-3.218.266-.558-.107-1.282-.725-1.282H3.622c-1.026 0-1.945-.694-2.054-1.715A12.137 12.137 0 0 1 1.5 12.25c0-2.848.992-5.464 2.649-7.521C4.537 4.247 5.136 4 5.754 4H9.77a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23ZM21.669 14.023c.536-1.362.831-2.845.831-4.398 0-1.22-.182-2.398-.52-3.507-.26-.85-1.084-1.368-1.973-1.368H19.1c-.445 0-.72.498-.523.898.591 1.2.924 2.55.924 3.977a8.958 8.958 0 0 1-1.302 4.666c-.245.403.028.959.5.959h1.053c.832 0 1.612-.453 1.918-1.227Z"}))}const Df=ze.forwardRef(Rf);function Lf({title:n,titleId:e,...t},r){return ze.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?ze.createElement("title",{id:e},n):null,ze.createElement("path",{d:"M7.493 18.5c-.425 0-.82-.236-.975-.632A7.48 7.48 0 0 1 6 15.125c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75A.75.75 0 0 1 15 2a2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23h-.777ZM2.331 10.727a11.969 11.969 0 0 0-.831 4.398 12 12 0 0 0 .52 3.507C2.28 19.482 3.105 20 3.994 20H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 0 1-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227Z"}))}const Of=ze.forwardRef(Lf);var Hi={exports:{}};(function(n){(function(){function e(i){var u={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(i===!1)return JSON.parse(JSON.stringify(u));var l={};for(var g in u)u.hasOwnProperty(g)&&(l[g]=u[g].defaultValue);return l}function t(){var i=e(!0),u={};for(var l in i)i.hasOwnProperty(l)&&(u[l]=!0);return u}var r={},s={},o={},a=e(!0),c="vanilla",p={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:t()};r.helper={},r.extensions={},r.setOption=function(i,u){return a[i]=u,this},r.getOption=function(i){return a[i]},r.getOptions=function(){return a},r.resetOptions=function(){a=e(!0)},r.setFlavor=function(i){if(!p.hasOwnProperty(i))throw Error(i+" flavor was not found");r.resetOptions();var u=p[i];c=i;for(var l in u)u.hasOwnProperty(l)&&(a[l]=u[l])},r.getFlavor=function(){return c},r.getFlavorOptions=function(i){if(p.hasOwnProperty(i))return p[i]},r.getDefaultOptions=function(i){return e(i)},r.subParser=function(i,u){if(r.helper.isString(i))if(typeof u<"u")s[i]=u;else{if(s.hasOwnProperty(i))return s[i];throw Error("SubParser named "+i+" not registered!")}},r.extension=function(i,u){if(!r.helper.isString(i))throw Error("Extension 'name' must be a string");if(i=r.helper.stdExtName(i),r.helper.isUndefined(u)){if(!o.hasOwnProperty(i))throw Error("Extension named "+i+" is not registered!");return o[i]}else{typeof u=="function"&&(u=u()),r.helper.isArray(u)||(u=[u]);var l=f(u,i);if(l.valid)o[i]=u;else throw Error(l.error)}},r.getAllExtensions=function(){return o},r.removeExtension=function(i){delete o[i]},r.resetExtensions=function(){o={}};function f(i,u){var l=u?"Error in "+u+" extension->":"Error in unnamed extension",g={valid:!0,error:""};r.helper.isArray(i)||(i=[i]);for(var k=0;k<i.length;++k){var w=l+" sub-extension "+k+": ",b=i[k];if(typeof b!="object")return g.valid=!1,g.error=w+"must be an object, but "+typeof b+" given",g;if(!r.helper.isString(b.type))return g.valid=!1,g.error=w+'property "type" must be a string, but '+typeof b.type+" given",g;var E=b.type=b.type.toLowerCase();if(E==="language"&&(E=b.type="lang"),E==="html"&&(E=b.type="output"),E!=="lang"&&E!=="output"&&E!=="listener")return g.valid=!1,g.error=w+"type "+E+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',g;if(E==="listener"){if(r.helper.isUndefined(b.listeners))return g.valid=!1,g.error=w+'. Extensions of type "listener" must have a property called "listeners"',g}else if(r.helper.isUndefined(b.filter)&&r.helper.isUndefined(b.regex))return g.valid=!1,g.error=w+E+' extensions must define either a "regex" property or a "filter" method',g;if(b.listeners){if(typeof b.listeners!="object")return g.valid=!1,g.error=w+'"listeners" property must be an object but '+typeof b.listeners+" given",g;for(var L in b.listeners)if(b.listeners.hasOwnProperty(L)&&typeof b.listeners[L]!="function")return g.valid=!1,g.error=w+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+L+" must be a function but "+typeof b.listeners[L]+" given",g}if(b.filter){if(typeof b.filter!="function")return g.valid=!1,g.error=w+'"filter" must be a function, but '+typeof b.filter+" given",g}else if(b.regex){if(r.helper.isString(b.regex)&&(b.regex=new RegExp(b.regex,"g")),!(b.regex instanceof RegExp))return g.valid=!1,g.error=w+'"regex" property must either be a string or a RegExp object, but '+typeof b.regex+" given",g;if(r.helper.isUndefined(b.replace))return g.valid=!1,g.error=w+'"regex" extensions must implement a replace string or function',g}}return g}r.validateExtension=function(i){var u=f(i,null);return u.valid?!0:(console.warn(u.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(i){return typeof i=="string"||i instanceof String},r.helper.isFunction=function(i){var u={};return i&&u.toString.call(i)==="[object Function]"},r.helper.isArray=function(i){return Array.isArray(i)},r.helper.isUndefined=function(i){return typeof i>"u"},r.helper.forEach=function(i,u){if(r.helper.isUndefined(i))throw new Error("obj param is required");if(r.helper.isUndefined(u))throw new Error("callback param is required");if(!r.helper.isFunction(u))throw new Error("callback param must be a function/closure");if(typeof i.forEach=="function")i.forEach(u);else if(r.helper.isArray(i))for(var l=0;l<i.length;l++)u(i[l],l,i);else if(typeof i=="object")for(var g in i)i.hasOwnProperty(g)&&u(i[g],g,i);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(i){return i.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function d(i,u){var l=u.charCodeAt(0);return"¨E"+l+"E"}r.helper.escapeCharactersCallback=d,r.helper.escapeCharacters=function(i,u,l){var g="(["+u.replace(/([\[\]\\])/g,"\\$1")+"])";l&&(g="\\\\"+g);var k=new RegExp(g,"g");return i=i.replace(k,d),i},r.helper.unescapeHTMLEntities=function(i){return i.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var h=function(i,u,l,g){var k=g||"",w=k.indexOf("g")>-1,b=new RegExp(u+"|"+l,"g"+k.replace(/g/g,"")),E=new RegExp(u,k.replace(/g/g,"")),L=[],D,R,j,x,q;do for(D=0;j=b.exec(i);)if(E.test(j[0]))D++||(R=b.lastIndex,x=R-j[0].length);else if(D&&!--D){q=j.index+j[0].length;var $={left:{start:x,end:R},match:{start:R,end:j.index},right:{start:j.index,end:q},wholeMatch:{start:x,end:q}};if(L.push($),!w)return L}while(D&&(b.lastIndex=R));return L};r.helper.matchRecursiveRegExp=function(i,u,l,g){for(var k=h(i,u,l,g),w=[],b=0;b<k.length;++b)w.push([i.slice(k[b].wholeMatch.start,k[b].wholeMatch.end),i.slice(k[b].match.start,k[b].match.end),i.slice(k[b].left.start,k[b].left.end),i.slice(k[b].right.start,k[b].right.end)]);return w},r.helper.replaceRecursiveRegExp=function(i,u,l,g,k){if(!r.helper.isFunction(u)){var w=u;u=function(){return w}}var b=h(i,l,g,k),E=i,L=b.length;if(L>0){var D=[];b[0].wholeMatch.start!==0&&D.push(i.slice(0,b[0].wholeMatch.start));for(var R=0;R<L;++R)D.push(u(i.slice(b[R].wholeMatch.start,b[R].wholeMatch.end),i.slice(b[R].match.start,b[R].match.end),i.slice(b[R].left.start,b[R].left.end),i.slice(b[R].right.start,b[R].right.end))),R<L-1&&D.push(i.slice(b[R].wholeMatch.end,b[R+1].wholeMatch.start));b[L-1].wholeMatch.end<i.length&&D.push(i.slice(b[L-1].wholeMatch.end)),E=D.join("")}return E},r.helper.regexIndexOf=function(i,u,l){if(!r.helper.isString(i))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(u instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var g=i.substring(l||0).search(u);return g>=0?g+(l||0):g},r.helper.splitAtIndex=function(i,u){if(!r.helper.isString(i))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[i.substring(0,u),i.substring(u)]},r.helper.encodeEmailAddress=function(i){var u=[function(l){return"&#"+l.charCodeAt(0)+";"},function(l){return"&#x"+l.charCodeAt(0).toString(16)+";"},function(l){return l}];return i=i.replace(/./g,function(l){if(l==="@")l=u[Math.floor(Math.random()*2)](l);else{var g=Math.random();l=g>.9?u[2](l):g>.45?u[1](l):u[0](l)}return l}),i},r.helper.padEnd=function(u,l,g){return l=l>>0,g=String(g||" "),u.length>l?String(u):(l=l-u.length,l>g.length&&(g+=g.repeat(l/g.length)),String(u)+g.slice(0,l))},typeof console>"u"&&(console={warn:function(i){alert(i)},log:function(i){alert(i)},error:function(i){throw i}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(i){var u={},l=[],g=[],k={},w=c,b={parsed:{},raw:"",format:""};E();function E(){i=i||{};for(var x in a)a.hasOwnProperty(x)&&(u[x]=a[x]);if(typeof i=="object")for(var q in i)i.hasOwnProperty(q)&&(u[q]=i[q]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof i+" was passed instead.");u.extensions&&r.helper.forEach(u.extensions,L)}function L(x,q){if(q=q||null,r.helper.isString(x))if(x=r.helper.stdExtName(x),q=x,r.extensions[x]){console.warn("DEPRECATION WARNING: "+x+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),D(r.extensions[x],x);return}else if(!r.helper.isUndefined(o[x]))x=o[x];else throw Error('Extension "'+x+'" could not be loaded. It was either not found or is not a valid extension.');typeof x=="function"&&(x=x()),r.helper.isArray(x)||(x=[x]);var $=f(x,q);if(!$.valid)throw Error($.error);for(var N=0;N<x.length;++N){switch(x[N].type){case"lang":l.push(x[N]);break;case"output":g.push(x[N]);break}if(x[N].hasOwnProperty("listeners"))for(var M in x[N].listeners)x[N].listeners.hasOwnProperty(M)&&R(M,x[N].listeners[M])}}function D(x,q){typeof x=="function"&&(x=x(new r.Converter)),r.helper.isArray(x)||(x=[x]);var $=f(x,q);if(!$.valid)throw Error($.error);for(var N=0;N<x.length;++N)switch(x[N].type){case"lang":l.push(x[N]);break;case"output":g.push(x[N]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function R(x,q){if(!r.helper.isString(x))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof x+" given");if(typeof q!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof q+" given");k.hasOwnProperty(x)||(k[x]=[]),k[x].push(q)}function j(x){var q=x.match(/^\s*/)[0].length,$=new RegExp("^\\s{0,"+q+"}","gm");return x.replace($,"")}this._dispatch=function(q,$,N,M){if(k.hasOwnProperty(q))for(var B=0;B<k[q].length;++B){var V=k[q][B](q,$,this,N,M);V&&typeof V<"u"&&($=V)}return $},this.listen=function(x,q){return R(x,q),this},this.makeHtml=function(x){if(!x)return x;var q={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:l,outputModifiers:g,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return x=x.replace(/¨/g,"¨T"),x=x.replace(/\$/g,"¨D"),x=x.replace(/\r\n/g,`
`),x=x.replace(/\r/g,`
`),x=x.replace(/\u00A0/g,"&nbsp;"),u.smartIndentationFix&&(x=j(x)),x=`

`+x+`

`,x=r.subParser("detab")(x,u,q),x=x.replace(/^[ \t]+$/mg,""),r.helper.forEach(l,function($){x=r.subParser("runExtension")($,x,u,q)}),x=r.subParser("metadata")(x,u,q),x=r.subParser("hashPreCodeTags")(x,u,q),x=r.subParser("githubCodeBlocks")(x,u,q),x=r.subParser("hashHTMLBlocks")(x,u,q),x=r.subParser("hashCodeTags")(x,u,q),x=r.subParser("stripLinkDefinitions")(x,u,q),x=r.subParser("blockGamut")(x,u,q),x=r.subParser("unhashHTMLSpans")(x,u,q),x=r.subParser("unescapeSpecialChars")(x,u,q),x=x.replace(/¨D/g,"$$"),x=x.replace(/¨T/g,"¨"),x=r.subParser("completeHTMLDocument")(x,u,q),r.helper.forEach(g,function($){x=r.subParser("runExtension")($,x,u,q)}),b=q.metadata,x},this.makeMarkdown=this.makeMd=function(x,q){if(x=x.replace(/\r\n/g,`
`),x=x.replace(/\r/g,`
`),x=x.replace(/>[ \t]+</,">¨NBSP;<"),!q)if(window&&window.document)q=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var $=q.createElement("div");$.innerHTML=x;var N={preList:Z($)};Q($);for(var M=$.childNodes,B="",V=0;V<M.length;V++)B+=r.subParser("makeMarkdown.node")(M[V],N);function Q(ee){for(var Y=0;Y<ee.childNodes.length;++Y){var X=ee.childNodes[Y];X.nodeType===3?/\S/.test(X.nodeValue)?(X.nodeValue=X.nodeValue.split(`
`).join(" "),X.nodeValue=X.nodeValue.replace(/(\s)+/g,"$1")):(ee.removeChild(X),--Y):X.nodeType===1&&Q(X)}}function Z(ee){for(var Y=ee.querySelectorAll("pre"),X=[],J=0;J<Y.length;++J)if(Y[J].childElementCount===1&&Y[J].firstChild.tagName.toLowerCase()==="code"){var ae=Y[J].firstChild.innerHTML.trim(),re=Y[J].firstChild.getAttribute("data-language")||"";if(re==="")for(var we=Y[J].firstChild.className.split(" "),U=0;U<we.length;++U){var Pe=we[U].match(/^language-(.+)$/);if(Pe!==null){re=Pe[1];break}}ae=r.helper.unescapeHTMLEntities(ae),X.push(ae),Y[J].outerHTML='<precode language="'+re+'" precodenum="'+J.toString()+'"></precode>'}else X.push(Y[J].innerHTML),Y[J].innerHTML="",Y[J].setAttribute("prenum",J.toString());return X}return B},this.setOption=function(x,q){u[x]=q},this.getOption=function(x){return u[x]},this.getOptions=function(){return u},this.addExtension=function(x,q){q=q||null,L(x,q)},this.useExtension=function(x){L(x)},this.setFlavor=function(x){if(!p.hasOwnProperty(x))throw Error(x+" flavor was not found");var q=p[x];w=x;for(var $ in q)q.hasOwnProperty($)&&(u[$]=q[$])},this.getFlavor=function(){return w},this.removeExtension=function(x){r.helper.isArray(x)||(x=[x]);for(var q=0;q<x.length;++q){for(var $=x[q],N=0;N<l.length;++N)l[N]===$&&l[N].splice(N,1);for(var M=0;M<g.length;++N)g[M]===$&&g[M].splice(N,1)}},this.getAllExtensions=function(){return{language:l,output:g}},this.getMetadata=function(x){return x?b.raw:b.parsed},this.getMetadataFormat=function(){return b.format},this._setMetadataPair=function(x,q){b.parsed[x]=q},this._setMetadataFormat=function(x){b.format=x},this._setMetadataRaw=function(x){b.raw=x}},r.subParser("anchors",function(i,u,l){i=l.converter._dispatch("anchors.before",i,u,l);var g=function(k,w,b,E,L,D,R){if(r.helper.isUndefined(R)&&(R=""),b=b.toLowerCase(),k.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)E="";else if(!E)if(b||(b=w.toLowerCase().replace(/ ?\n/g," ")),E="#"+b,!r.helper.isUndefined(l.gUrls[b]))E=l.gUrls[b],r.helper.isUndefined(l.gTitles[b])||(R=l.gTitles[b]);else return k;E=E.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var j='<a href="'+E+'"';return R!==""&&R!==null&&(R=R.replace(/"/g,"&quot;"),R=R.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),j+=' title="'+R+'"'),u.openLinksInNewWindow&&!/^#/.test(E)&&(j+=' rel="noopener noreferrer" target="¨E95Eblank"'),j+=">"+w+"</a>",j};return i=i.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,g),i=i.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,g),i=i.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,g),i=i.replace(/\[([^\[\]]+)]()()()()()/g,g),u.ghMentions&&(i=i.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(k,w,b,E,L){if(b==="\\")return w+E;if(!r.helper.isString(u.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var D=u.ghMentionsLink.replace(/\{u}/g,L),R="";return u.openLinksInNewWindow&&(R=' rel="noopener noreferrer" target="¨E95Eblank"'),w+'<a href="'+D+'"'+R+">"+E+"</a>"})),i=l.converter._dispatch("anchors.after",i,u,l),i});var m=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,y=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,v=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,S=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,P=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,O=function(i){return function(u,l,g,k,w,b,E){g=g.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var L=g,D="",R="",j=l||"",x=E||"";return/^www\./i.test(g)&&(g=g.replace(/^www\./i,"http://www.")),i.excludeTrailingPunctuationFromURLs&&b&&(D=b),i.openLinksInNewWindow&&(R=' rel="noopener noreferrer" target="¨E95Eblank"'),j+'<a href="'+g+'"'+R+">"+L+"</a>"+D+x}},T=function(i,u){return function(l,g,k){var w="mailto:";return g=g||"",k=r.subParser("unescapeSpecialChars")(k,i,u),i.encodeEmails?(w=r.helper.encodeEmailAddress(w+k),k=r.helper.encodeEmailAddress(k)):w=w+k,g+'<a href="'+w+'">'+k+"</a>"}};r.subParser("autoLinks",function(i,u,l){return i=l.converter._dispatch("autoLinks.before",i,u,l),i=i.replace(v,O(u)),i=i.replace(P,T(u,l)),i=l.converter._dispatch("autoLinks.after",i,u,l),i}),r.subParser("simplifiedAutoLinks",function(i,u,l){return u.simplifiedAutoLink&&(i=l.converter._dispatch("simplifiedAutoLinks.before",i,u,l),u.excludeTrailingPunctuationFromURLs?i=i.replace(y,O(u)):i=i.replace(m,O(u)),i=i.replace(S,T(u,l)),i=l.converter._dispatch("simplifiedAutoLinks.after",i,u,l)),i}),r.subParser("blockGamut",function(i,u,l){return i=l.converter._dispatch("blockGamut.before",i,u,l),i=r.subParser("blockQuotes")(i,u,l),i=r.subParser("headers")(i,u,l),i=r.subParser("horizontalRule")(i,u,l),i=r.subParser("lists")(i,u,l),i=r.subParser("codeBlocks")(i,u,l),i=r.subParser("tables")(i,u,l),i=r.subParser("hashHTMLBlocks")(i,u,l),i=r.subParser("paragraphs")(i,u,l),i=l.converter._dispatch("blockGamut.after",i,u,l),i}),r.subParser("blockQuotes",function(i,u,l){i=l.converter._dispatch("blockQuotes.before",i,u,l),i=i+`

`;var g=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return u.splitAdjacentBlockquotes&&(g=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),i=i.replace(g,function(k){return k=k.replace(/^[ \t]*>[ \t]?/gm,""),k=k.replace(/¨0/g,""),k=k.replace(/^[ \t]+$/gm,""),k=r.subParser("githubCodeBlocks")(k,u,l),k=r.subParser("blockGamut")(k,u,l),k=k.replace(/(^|\n)/g,"$1  "),k=k.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(w,b){var E=b;return E=E.replace(/^  /mg,"¨0"),E=E.replace(/¨0/g,""),E}),r.subParser("hashBlock")(`<blockquote>
`+k+`
</blockquote>`,u,l)}),i=l.converter._dispatch("blockQuotes.after",i,u,l),i}),r.subParser("codeBlocks",function(i,u,l){i=l.converter._dispatch("codeBlocks.before",i,u,l),i+="¨0";var g=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;return i=i.replace(g,function(k,w,b){var E=w,L=b,D=`
`;return E=r.subParser("outdent")(E,u,l),E=r.subParser("encodeCode")(E,u,l),E=r.subParser("detab")(E,u,l),E=E.replace(/^\n+/g,""),E=E.replace(/\n+$/g,""),u.omitExtraWLInCodeBlocks&&(D=""),E="<pre><code>"+E+D+"</code></pre>",r.subParser("hashBlock")(E,u,l)+L}),i=i.replace(/¨0/,""),i=l.converter._dispatch("codeBlocks.after",i,u,l),i}),r.subParser("codeSpans",function(i,u,l){return i=l.converter._dispatch("codeSpans.before",i,u,l),typeof i>"u"&&(i=""),i=i.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(g,k,w,b){var E=b;return E=E.replace(/^([ \t]*)/g,""),E=E.replace(/[ \t]*$/g,""),E=r.subParser("encodeCode")(E,u,l),E=k+"<code>"+E+"</code>",E=r.subParser("hashHTMLSpans")(E,u,l),E}),i=l.converter._dispatch("codeSpans.after",i,u,l),i}),r.subParser("completeHTMLDocument",function(i,u,l){if(!u.completeHTMLDocument)return i;i=l.converter._dispatch("completeHTMLDocument.before",i,u,l);var g="html",k=`<!DOCTYPE HTML>
`,w="",b=`<meta charset="utf-8">
`,E="",L="";typeof l.metadata.parsed.doctype<"u"&&(k="<!DOCTYPE "+l.metadata.parsed.doctype+`>
`,g=l.metadata.parsed.doctype.toString().toLowerCase(),(g==="html"||g==="html5")&&(b='<meta charset="utf-8">'));for(var D in l.metadata.parsed)if(l.metadata.parsed.hasOwnProperty(D))switch(D.toLowerCase()){case"doctype":break;case"title":w="<title>"+l.metadata.parsed.title+`</title>
`;break;case"charset":g==="html"||g==="html5"?b='<meta charset="'+l.metadata.parsed.charset+`">
`:b='<meta name="charset" content="'+l.metadata.parsed.charset+`">
`;break;case"language":case"lang":E=' lang="'+l.metadata.parsed[D]+'"',L+='<meta name="'+D+'" content="'+l.metadata.parsed[D]+`">
`;break;default:L+='<meta name="'+D+'" content="'+l.metadata.parsed[D]+`">
`}return i=k+"<html"+E+`>
<head>
`+w+b+L+`</head>
<body>
`+i.trim()+`
</body>
</html>`,i=l.converter._dispatch("completeHTMLDocument.after",i,u,l),i}),r.subParser("detab",function(i,u,l){return i=l.converter._dispatch("detab.before",i,u,l),i=i.replace(/\t(?=\t)/g,"    "),i=i.replace(/\t/g,"¨A¨B"),i=i.replace(/¨B(.+?)¨A/g,function(g,k){for(var w=k,b=4-w.length%4,E=0;E<b;E++)w+=" ";return w}),i=i.replace(/¨A/g,"    "),i=i.replace(/¨B/g,""),i=l.converter._dispatch("detab.after",i,u,l),i}),r.subParser("ellipsis",function(i,u,l){return i=l.converter._dispatch("ellipsis.before",i,u,l),i=i.replace(/\.\.\./g,"…"),i=l.converter._dispatch("ellipsis.after",i,u,l),i}),r.subParser("emoji",function(i,u,l){if(!u.emoji)return i;i=l.converter._dispatch("emoji.before",i,u,l);var g=/:([\S]+?):/g;return i=i.replace(g,function(k,w){return r.helper.emojis.hasOwnProperty(w)?r.helper.emojis[w]:k}),i=l.converter._dispatch("emoji.after",i,u,l),i}),r.subParser("encodeAmpsAndAngles",function(i,u,l){return i=l.converter._dispatch("encodeAmpsAndAngles.before",i,u,l),i=i.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),i=i.replace(/<(?![a-z\/?$!])/gi,"&lt;"),i=i.replace(/</g,"&lt;"),i=i.replace(/>/g,"&gt;"),i=l.converter._dispatch("encodeAmpsAndAngles.after",i,u,l),i}),r.subParser("encodeBackslashEscapes",function(i,u,l){return i=l.converter._dispatch("encodeBackslashEscapes.before",i,u,l),i=i.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),i=i.replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,r.helper.escapeCharactersCallback),i=l.converter._dispatch("encodeBackslashEscapes.after",i,u,l),i}),r.subParser("encodeCode",function(i,u,l){return i=l.converter._dispatch("encodeCode.before",i,u,l),i=i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),i=l.converter._dispatch("encodeCode.after",i,u,l),i}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(i,u,l){i=l.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",i,u,l);var g=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,k=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return i=i.replace(g,function(w){return w.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),i=i.replace(k,function(w){return w.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),i=l.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",i,u,l),i}),r.subParser("githubCodeBlocks",function(i,u,l){return u.ghCodeBlocks?(i=l.converter._dispatch("githubCodeBlocks.before",i,u,l),i+="¨0",i=i.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(g,k,w,b){var E=u.omitExtraWLInCodeBlocks?"":`
`;return b=r.subParser("encodeCode")(b,u,l),b=r.subParser("detab")(b,u,l),b=b.replace(/^\n+/g,""),b=b.replace(/\n+$/g,""),b="<pre><code"+(w?' class="'+w+" language-"+w+'"':"")+">"+b+E+"</code></pre>",b=r.subParser("hashBlock")(b,u,l),`

¨G`+(l.ghCodeBlocks.push({text:g,codeblock:b})-1)+`G

`}),i=i.replace(/¨0/,""),l.converter._dispatch("githubCodeBlocks.after",i,u,l)):i}),r.subParser("hashBlock",function(i,u,l){return i=l.converter._dispatch("hashBlock.before",i,u,l),i=i.replace(/(^\n+|\n+$)/g,""),i=`

¨K`+(l.gHtmlBlocks.push(i)-1)+`K

`,i=l.converter._dispatch("hashBlock.after",i,u,l),i}),r.subParser("hashCodeTags",function(i,u,l){i=l.converter._dispatch("hashCodeTags.before",i,u,l);var g=function(k,w,b,E){var L=b+r.subParser("encodeCode")(w,u,l)+E;return"¨C"+(l.gHtmlSpans.push(L)-1)+"C"};return i=r.helper.replaceRecursiveRegExp(i,g,"<code\\b[^>]*>","</code>","gim"),i=l.converter._dispatch("hashCodeTags.after",i,u,l),i}),r.subParser("hashElement",function(i,u,l){return function(g,k){var w=k;return w=w.replace(/\n\n/g,`
`),w=w.replace(/^\n/,""),w=w.replace(/\n+$/g,""),w=`

¨K`+(l.gHtmlBlocks.push(w)-1)+`K

`,w}}),r.subParser("hashHTMLBlocks",function(i,u,l){i=l.converter._dispatch("hashHTMLBlocks.before",i,u,l);var g=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],k=function(x,q,$,N){var M=x;return $.search(/\bmarkdown\b/)!==-1&&(M=$+l.converter.makeHtml(q)+N),`

¨K`+(l.gHtmlBlocks.push(M)-1)+`K

`};u.backslashEscapesHTMLTags&&(i=i.replace(/\\<(\/?[^>]+?)>/g,function(x,q){return"&lt;"+q+"&gt;"}));for(var w=0;w<g.length;++w)for(var b,E=new RegExp("^ {0,3}(<"+g[w]+"\\b[^>]*>)","im"),L="<"+g[w]+"\\b[^>]*>",D="</"+g[w]+">";(b=r.helper.regexIndexOf(i,E))!==-1;){var R=r.helper.splitAtIndex(i,b),j=r.helper.replaceRecursiveRegExp(R[1],k,L,D,"im");if(j===R[1])break;i=R[0].concat(j)}return i=i.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(i,u,l)),i=r.helper.replaceRecursiveRegExp(i,function(x){return`

¨K`+(l.gHtmlBlocks.push(x)-1)+`K

`},"^ {0,3}<!--","-->","gm"),i=i.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(i,u,l)),i=l.converter._dispatch("hashHTMLBlocks.after",i,u,l),i}),r.subParser("hashHTMLSpans",function(i,u,l){i=l.converter._dispatch("hashHTMLSpans.before",i,u,l);function g(k){return"¨C"+(l.gHtmlSpans.push(k)-1)+"C"}return i=i.replace(/<[^>]+?\/>/gi,function(k){return g(k)}),i=i.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(k){return g(k)}),i=i.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(k){return g(k)}),i=i.replace(/<[^>]+?>/gi,function(k){return g(k)}),i=l.converter._dispatch("hashHTMLSpans.after",i,u,l),i}),r.subParser("unhashHTMLSpans",function(i,u,l){i=l.converter._dispatch("unhashHTMLSpans.before",i,u,l);for(var g=0;g<l.gHtmlSpans.length;++g){for(var k=l.gHtmlSpans[g],w=0;/¨C(\d+)C/.test(k);){var b=RegExp.$1;if(k=k.replace("¨C"+b+"C",l.gHtmlSpans[b]),w===10){console.error("maximum nesting of 10 spans reached!!!");break}++w}i=i.replace("¨C"+g+"C",k)}return i=l.converter._dispatch("unhashHTMLSpans.after",i,u,l),i}),r.subParser("hashPreCodeTags",function(i,u,l){i=l.converter._dispatch("hashPreCodeTags.before",i,u,l);var g=function(k,w,b,E){var L=b+r.subParser("encodeCode")(w,u,l)+E;return`

¨G`+(l.ghCodeBlocks.push({text:k,codeblock:L})-1)+`G

`};return i=r.helper.replaceRecursiveRegExp(i,g,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),i=l.converter._dispatch("hashPreCodeTags.after",i,u,l),i}),r.subParser("headers",function(i,u,l){i=l.converter._dispatch("headers.before",i,u,l);var g=isNaN(parseInt(u.headerLevelStart))?1:parseInt(u.headerLevelStart),k=u.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,w=u.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;i=i.replace(k,function(L,D){var R=r.subParser("spanGamut")(D,u,l),j=u.noHeaderId?"":' id="'+E(D)+'"',x=g,q="<h"+x+j+">"+R+"</h"+x+">";return r.subParser("hashBlock")(q,u,l)}),i=i.replace(w,function(L,D){var R=r.subParser("spanGamut")(D,u,l),j=u.noHeaderId?"":' id="'+E(D)+'"',x=g+1,q="<h"+x+j+">"+R+"</h"+x+">";return r.subParser("hashBlock")(q,u,l)});var b=u.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;i=i.replace(b,function(L,D,R){var j=R;u.customizedHeaderId&&(j=R.replace(/\s?\{([^{]+?)}\s*$/,""));var x=r.subParser("spanGamut")(j,u,l),q=u.noHeaderId?"":' id="'+E(R)+'"',$=g-1+D.length,N="<h"+$+q+">"+x+"</h"+$+">";return r.subParser("hashBlock")(N,u,l)});function E(L){var D,R;if(u.customizedHeaderId){var j=L.match(/\{([^{]+?)}\s*$/);j&&j[1]&&(L=j[1])}return D=L,r.helper.isString(u.prefixHeaderId)?R=u.prefixHeaderId:u.prefixHeaderId===!0?R="section-":R="",u.rawPrefixHeaderId||(D=R+D),u.ghCompatibleHeaderId?D=D.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():u.rawHeaderId?D=D.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():D=D.replace(/[^\w]/g,"").toLowerCase(),u.rawPrefixHeaderId&&(D=R+D),l.hashLinkCounts[D]?D=D+"-"+l.hashLinkCounts[D]++:l.hashLinkCounts[D]=1,D}return i=l.converter._dispatch("headers.after",i,u,l),i}),r.subParser("horizontalRule",function(i,u,l){i=l.converter._dispatch("horizontalRule.before",i,u,l);var g=r.subParser("hashBlock")("<hr />",u,l);return i=i.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,g),i=i.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,g),i=i.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,g),i=l.converter._dispatch("horizontalRule.after",i,u,l),i}),r.subParser("images",function(i,u,l){i=l.converter._dispatch("images.before",i,u,l);var g=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,k=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,w=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,b=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,E=/!\[([^\[\]]+)]()()()()()/g;function L(R,j,x,q,$,N,M,B){return q=q.replace(/\s/g,""),D(R,j,x,q,$,N,M,B)}function D(R,j,x,q,$,N,M,B){var V=l.gUrls,Q=l.gTitles,Z=l.gDimensions;if(x=x.toLowerCase(),B||(B=""),R.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)q="";else if(q===""||q===null)if((x===""||x===null)&&(x=j.toLowerCase().replace(/ ?\n/g," ")),q="#"+x,!r.helper.isUndefined(V[x]))q=V[x],r.helper.isUndefined(Q[x])||(B=Q[x]),r.helper.isUndefined(Z[x])||($=Z[x].width,N=Z[x].height);else return R;j=j.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),q=q.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var ee='<img src="'+q+'" alt="'+j+'"';return B&&r.helper.isString(B)&&(B=B.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),ee+=' title="'+B+'"'),$&&N&&($=$==="*"?"auto":$,N=N==="*"?"auto":N,ee+=' width="'+$+'"',ee+=' height="'+N+'"'),ee+=" />",ee}return i=i.replace(b,D),i=i.replace(w,L),i=i.replace(k,D),i=i.replace(g,D),i=i.replace(E,D),i=l.converter._dispatch("images.after",i,u,l),i}),r.subParser("italicsAndBold",function(i,u,l){i=l.converter._dispatch("italicsAndBold.before",i,u,l);function g(k,w,b){return w+k+b}return u.literalMidWordUnderscores?(i=i.replace(/\b___(\S[\s\S]*?)___\b/g,function(k,w){return g(w,"<strong><em>","</em></strong>")}),i=i.replace(/\b__(\S[\s\S]*?)__\b/g,function(k,w){return g(w,"<strong>","</strong>")}),i=i.replace(/\b_(\S[\s\S]*?)_\b/g,function(k,w){return g(w,"<em>","</em>")})):(i=i.replace(/___(\S[\s\S]*?)___/g,function(k,w){return/\S$/.test(w)?g(w,"<strong><em>","</em></strong>"):k}),i=i.replace(/__(\S[\s\S]*?)__/g,function(k,w){return/\S$/.test(w)?g(w,"<strong>","</strong>"):k}),i=i.replace(/_([^\s_][\s\S]*?)_/g,function(k,w){return/\S$/.test(w)?g(w,"<em>","</em>"):k})),u.literalMidWordAsterisks?(i=i.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(k,w,b){return g(b,w+"<strong><em>","</em></strong>")}),i=i.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(k,w,b){return g(b,w+"<strong>","</strong>")}),i=i.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(k,w,b){return g(b,w+"<em>","</em>")})):(i=i.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(k,w){return/\S$/.test(w)?g(w,"<strong><em>","</em></strong>"):k}),i=i.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(k,w){return/\S$/.test(w)?g(w,"<strong>","</strong>"):k}),i=i.replace(/\*([^\s*][\s\S]*?)\*/g,function(k,w){return/\S$/.test(w)?g(w,"<em>","</em>"):k})),i=l.converter._dispatch("italicsAndBold.after",i,u,l),i}),r.subParser("lists",function(i,u,l){function g(b,E){l.gListLevel++,b=b.replace(/\n{2,}$/,`
`),b+="¨0";var L=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,D=/\n[ \t]*\n(?!¨0)/.test(b);return u.disableForced4SpacesIndentedSublists&&(L=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),b=b.replace(L,function(R,j,x,q,$,N,M){M=M&&M.trim()!=="";var B=r.subParser("outdent")($,u,l),V="";return N&&u.tasklists&&(V=' class="task-list-item" style="list-style-type: none;"',B=B.replace(/^[ \t]*\[(x|X| )?]/m,function(){var Q='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return M&&(Q+=" checked"),Q+=">",Q})),B=B.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(Q){return"¨A"+Q}),j||B.search(/\n{2,}/)>-1?(B=r.subParser("githubCodeBlocks")(B,u,l),B=r.subParser("blockGamut")(B,u,l)):(B=r.subParser("lists")(B,u,l),B=B.replace(/\n$/,""),B=r.subParser("hashHTMLBlocks")(B,u,l),B=B.replace(/\n\n+/g,`

`),D?B=r.subParser("paragraphs")(B,u,l):B=r.subParser("spanGamut")(B,u,l)),B=B.replace("¨A",""),B="<li"+V+">"+B+`</li>
`,B}),b=b.replace(/¨0/g,""),l.gListLevel--,E&&(b=b.replace(/\s+$/,"")),b}function k(b,E){if(E==="ol"){var L=b.match(/^ *(\d+)\./);if(L&&L[1]!=="1")return' start="'+L[1]+'"'}return""}function w(b,E,L){var D=u.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,R=u.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,j=E==="ul"?D:R,x="";if(b.search(j)!==-1)(function $(N){var M=N.search(j),B=k(b,E);M!==-1?(x+=`

<`+E+B+`>
`+g(N.slice(0,M),!!L)+"</"+E+`>
`,E=E==="ul"?"ol":"ul",j=E==="ul"?D:R,$(N.slice(M))):x+=`

<`+E+B+`>
`+g(N,!!L)+"</"+E+`>
`})(b);else{var q=k(b,E);x=`

<`+E+q+`>
`+g(b,!!L)+"</"+E+`>
`}return x}return i=l.converter._dispatch("lists.before",i,u,l),i+="¨0",l.gListLevel?i=i.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(b,E,L){var D=L.search(/[*+-]/g)>-1?"ul":"ol";return w(E,D,!0)}):i=i.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(b,E,L,D){var R=D.search(/[*+-]/g)>-1?"ul":"ol";return w(L,R,!1)}),i=i.replace(/¨0/,""),i=l.converter._dispatch("lists.after",i,u,l),i}),r.subParser("metadata",function(i,u,l){if(!u.metadata)return i;i=l.converter._dispatch("metadata.before",i,u,l);function g(k){l.metadata.raw=k,k=k.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),k=k.replace(/\n {4}/g," "),k.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(w,b,E){return l.metadata.parsed[b]=E,""})}return i=i.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,function(k,w,b){return g(b),"¨M"}),i=i.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(k,w,b){return w&&(l.metadata.format=w),g(b),"¨M"}),i=i.replace(/¨M/g,""),i=l.converter._dispatch("metadata.after",i,u,l),i}),r.subParser("outdent",function(i,u,l){return i=l.converter._dispatch("outdent.before",i,u,l),i=i.replace(/^(\t|[ ]{1,4})/gm,"¨0"),i=i.replace(/¨0/g,""),i=l.converter._dispatch("outdent.after",i,u,l),i}),r.subParser("paragraphs",function(i,u,l){i=l.converter._dispatch("paragraphs.before",i,u,l),i=i.replace(/^\n+/g,""),i=i.replace(/\n+$/g,"");for(var g=i.split(/\n{2,}/g),k=[],w=g.length,b=0;b<w;b++){var E=g[b];E.search(/¨(K|G)(\d+)\1/g)>=0?k.push(E):E.search(/\S/)>=0&&(E=r.subParser("spanGamut")(E,u,l),E=E.replace(/^([ \t]*)/g,"<p>"),E+="</p>",k.push(E))}for(w=k.length,b=0;b<w;b++){for(var L="",D=k[b],R=!1;/¨(K|G)(\d+)\1/.test(D);){var j=RegExp.$1,x=RegExp.$2;j==="K"?L=l.gHtmlBlocks[x]:R?L=r.subParser("encodeCode")(l.ghCodeBlocks[x].text,u,l):L=l.ghCodeBlocks[x].codeblock,L=L.replace(/\$/g,"$$$$"),D=D.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,L),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(D)&&(R=!0)}k[b]=D}return i=k.join(`
`),i=i.replace(/^\n+/g,""),i=i.replace(/\n+$/g,""),l.converter._dispatch("paragraphs.after",i,u,l)}),r.subParser("runExtension",function(i,u,l,g){if(i.filter)u=i.filter(u,g.converter,l);else if(i.regex){var k=i.regex;k instanceof RegExp||(k=new RegExp(k,"g")),u=u.replace(k,i.replace)}return u}),r.subParser("spanGamut",function(i,u,l){return i=l.converter._dispatch("spanGamut.before",i,u,l),i=r.subParser("codeSpans")(i,u,l),i=r.subParser("escapeSpecialCharsWithinTagAttributes")(i,u,l),i=r.subParser("encodeBackslashEscapes")(i,u,l),i=r.subParser("images")(i,u,l),i=r.subParser("anchors")(i,u,l),i=r.subParser("autoLinks")(i,u,l),i=r.subParser("simplifiedAutoLinks")(i,u,l),i=r.subParser("emoji")(i,u,l),i=r.subParser("underline")(i,u,l),i=r.subParser("italicsAndBold")(i,u,l),i=r.subParser("strikethrough")(i,u,l),i=r.subParser("ellipsis")(i,u,l),i=r.subParser("hashHTMLSpans")(i,u,l),i=r.subParser("encodeAmpsAndAngles")(i,u,l),u.simpleLineBreaks?/\n\n¨K/.test(i)||(i=i.replace(/\n+/g,`<br />
`)):i=i.replace(/  +\n/g,`<br />
`),i=l.converter._dispatch("spanGamut.after",i,u,l),i}),r.subParser("strikethrough",function(i,u,l){function g(k){return u.simplifiedAutoLink&&(k=r.subParser("simplifiedAutoLinks")(k,u,l)),"<del>"+k+"</del>"}return u.strikethrough&&(i=l.converter._dispatch("strikethrough.before",i,u,l),i=i.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(k,w){return g(w)}),i=l.converter._dispatch("strikethrough.after",i,u,l)),i}),r.subParser("stripLinkDefinitions",function(i,u,l){var g=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,k=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;i+="¨0";var w=function(b,E,L,D,R,j,x){return E=E.toLowerCase(),L.match(/^data:.+?\/.+?;base64,/)?l.gUrls[E]=L.replace(/\s/g,""):l.gUrls[E]=r.subParser("encodeAmpsAndAngles")(L,u,l),j?j+x:(x&&(l.gTitles[E]=x.replace(/"|'/g,"&quot;")),u.parseImgDimensions&&D&&R&&(l.gDimensions[E]={width:D,height:R}),"")};return i=i.replace(k,w),i=i.replace(g,w),i=i.replace(/¨0/,""),i}),r.subParser("tables",function(i,u,l){if(!u.tables)return i;var g=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,k=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;function w(R){return/^:[ \t]*--*$/.test(R)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(R)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(R)?' style="text-align:center;"':""}function b(R,j){var x="";return R=R.trim(),(u.tablesHeaderId||u.tableHeaderId)&&(x=' id="'+R.replace(/ /g,"_").toLowerCase()+'"'),R=r.subParser("spanGamut")(R,u,l),"<th"+x+j+">"+R+`</th>
`}function E(R,j){var x=r.subParser("spanGamut")(R,u,l);return"<td"+j+">"+x+`</td>
`}function L(R,j){for(var x=`<table>
<thead>
<tr>
`,q=R.length,$=0;$<q;++$)x+=R[$];for(x+=`</tr>
</thead>
<tbody>
`,$=0;$<j.length;++$){x+=`<tr>
`;for(var N=0;N<q;++N)x+=j[$][N];x+=`</tr>
`}return x+=`</tbody>
</table>
`,x}function D(R){var j,x=R.split(`
`);for(j=0;j<x.length;++j)/^ {0,3}\|/.test(x[j])&&(x[j]=x[j].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(x[j])&&(x[j]=x[j].replace(/\|[ \t]*$/,"")),x[j]=r.subParser("codeSpans")(x[j],u,l);var q=x[0].split("|").map(function(ee){return ee.trim()}),$=x[1].split("|").map(function(ee){return ee.trim()}),N=[],M=[],B=[],V=[];for(x.shift(),x.shift(),j=0;j<x.length;++j)x[j].trim()!==""&&N.push(x[j].split("|").map(function(ee){return ee.trim()}));if(q.length<$.length)return R;for(j=0;j<$.length;++j)B.push(w($[j]));for(j=0;j<q.length;++j)r.helper.isUndefined(B[j])&&(B[j]=""),M.push(b(q[j],B[j]));for(j=0;j<N.length;++j){for(var Q=[],Z=0;Z<M.length;++Z)r.helper.isUndefined(N[j][Z]),Q.push(E(N[j][Z],B[Z]));V.push(Q)}return L(M,V)}return i=l.converter._dispatch("tables.before",i,u,l),i=i.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),i=i.replace(g,D),i=i.replace(k,D),i=l.converter._dispatch("tables.after",i,u,l),i}),r.subParser("underline",function(i,u,l){return u.underline&&(i=l.converter._dispatch("underline.before",i,u,l),u.literalMidWordUnderscores?(i=i.replace(/\b___(\S[\s\S]*?)___\b/g,function(g,k){return"<u>"+k+"</u>"}),i=i.replace(/\b__(\S[\s\S]*?)__\b/g,function(g,k){return"<u>"+k+"</u>"})):(i=i.replace(/___(\S[\s\S]*?)___/g,function(g,k){return/\S$/.test(k)?"<u>"+k+"</u>":g}),i=i.replace(/__(\S[\s\S]*?)__/g,function(g,k){return/\S$/.test(k)?"<u>"+k+"</u>":g})),i=i.replace(/(_)/g,r.helper.escapeCharactersCallback),i=l.converter._dispatch("underline.after",i,u,l)),i}),r.subParser("unescapeSpecialChars",function(i,u,l){return i=l.converter._dispatch("unescapeSpecialChars.before",i,u,l),i=i.replace(/¨E(\d+)E/g,function(g,k){var w=parseInt(k);return String.fromCharCode(w)}),i=l.converter._dispatch("unescapeSpecialChars.after",i,u,l),i}),r.subParser("makeMarkdown.blockquote",function(i,u){var l="";if(i.hasChildNodes())for(var g=i.childNodes,k=g.length,w=0;w<k;++w){var b=r.subParser("makeMarkdown.node")(g[w],u);b!==""&&(l+=b)}return l=l.trim(),l="> "+l.split(`
`).join(`
> `),l}),r.subParser("makeMarkdown.codeBlock",function(i,u){var l=i.getAttribute("language"),g=i.getAttribute("precodenum");return"```"+l+`
`+u.preList[g]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(i){return"`"+i.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(i,u){var l="";if(i.hasChildNodes()){l+="*";for(var g=i.childNodes,k=g.length,w=0;w<k;++w)l+=r.subParser("makeMarkdown.node")(g[w],u);l+="*"}return l}),r.subParser("makeMarkdown.header",function(i,u,l){var g=new Array(l+1).join("#"),k="";if(i.hasChildNodes()){k=g+" ";for(var w=i.childNodes,b=w.length,E=0;E<b;++E)k+=r.subParser("makeMarkdown.node")(w[E],u)}return k}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(i){var u="";return i.hasAttribute("src")&&(u+="!["+i.getAttribute("alt")+"](",u+="<"+i.getAttribute("src")+">",i.hasAttribute("width")&&i.hasAttribute("height")&&(u+=" ="+i.getAttribute("width")+"x"+i.getAttribute("height")),i.hasAttribute("title")&&(u+=' "'+i.getAttribute("title")+'"'),u+=")"),u}),r.subParser("makeMarkdown.links",function(i,u){var l="";if(i.hasChildNodes()&&i.hasAttribute("href")){var g=i.childNodes,k=g.length;l="[";for(var w=0;w<k;++w)l+=r.subParser("makeMarkdown.node")(g[w],u);l+="](",l+="<"+i.getAttribute("href")+">",i.hasAttribute("title")&&(l+=' "'+i.getAttribute("title")+'"'),l+=")"}return l}),r.subParser("makeMarkdown.list",function(i,u,l){var g="";if(!i.hasChildNodes())return"";for(var k=i.childNodes,w=k.length,b=i.getAttribute("start")||1,E=0;E<w;++E)if(!(typeof k[E].tagName>"u"||k[E].tagName.toLowerCase()!=="li")){var L="";l==="ol"?L=b.toString()+". ":L="- ",g+=L+r.subParser("makeMarkdown.listItem")(k[E],u),++b}return g+=`
<!-- -->
`,g.trim()}),r.subParser("makeMarkdown.listItem",function(i,u){for(var l="",g=i.childNodes,k=g.length,w=0;w<k;++w)l+=r.subParser("makeMarkdown.node")(g[w],u);return/\n$/.test(l)?l=l.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):l+=`
`,l}),r.subParser("makeMarkdown.node",function(i,u,l){l=l||!1;var g="";if(i.nodeType===3)return r.subParser("makeMarkdown.txt")(i,u);if(i.nodeType===8)return"<!--"+i.data+`-->

`;if(i.nodeType!==1)return"";var k=i.tagName.toLowerCase();switch(k){case"h1":l||(g=r.subParser("makeMarkdown.header")(i,u,1)+`

`);break;case"h2":l||(g=r.subParser("makeMarkdown.header")(i,u,2)+`

`);break;case"h3":l||(g=r.subParser("makeMarkdown.header")(i,u,3)+`

`);break;case"h4":l||(g=r.subParser("makeMarkdown.header")(i,u,4)+`

`);break;case"h5":l||(g=r.subParser("makeMarkdown.header")(i,u,5)+`

`);break;case"h6":l||(g=r.subParser("makeMarkdown.header")(i,u,6)+`

`);break;case"p":l||(g=r.subParser("makeMarkdown.paragraph")(i,u)+`

`);break;case"blockquote":l||(g=r.subParser("makeMarkdown.blockquote")(i,u)+`

`);break;case"hr":l||(g=r.subParser("makeMarkdown.hr")(i,u)+`

`);break;case"ol":l||(g=r.subParser("makeMarkdown.list")(i,u,"ol")+`

`);break;case"ul":l||(g=r.subParser("makeMarkdown.list")(i,u,"ul")+`

`);break;case"precode":l||(g=r.subParser("makeMarkdown.codeBlock")(i,u)+`

`);break;case"pre":l||(g=r.subParser("makeMarkdown.pre")(i,u)+`

`);break;case"table":l||(g=r.subParser("makeMarkdown.table")(i,u)+`

`);break;case"code":g=r.subParser("makeMarkdown.codeSpan")(i,u);break;case"em":case"i":g=r.subParser("makeMarkdown.emphasis")(i,u);break;case"strong":case"b":g=r.subParser("makeMarkdown.strong")(i,u);break;case"del":g=r.subParser("makeMarkdown.strikethrough")(i,u);break;case"a":g=r.subParser("makeMarkdown.links")(i,u);break;case"img":g=r.subParser("makeMarkdown.image")(i,u);break;default:g=i.outerHTML+`

`}return g}),r.subParser("makeMarkdown.paragraph",function(i,u){var l="";if(i.hasChildNodes())for(var g=i.childNodes,k=g.length,w=0;w<k;++w)l+=r.subParser("makeMarkdown.node")(g[w],u);return l=l.trim(),l}),r.subParser("makeMarkdown.pre",function(i,u){var l=i.getAttribute("prenum");return"<pre>"+u.preList[l]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(i,u){var l="";if(i.hasChildNodes()){l+="~~";for(var g=i.childNodes,k=g.length,w=0;w<k;++w)l+=r.subParser("makeMarkdown.node")(g[w],u);l+="~~"}return l}),r.subParser("makeMarkdown.strong",function(i,u){var l="";if(i.hasChildNodes()){l+="**";for(var g=i.childNodes,k=g.length,w=0;w<k;++w)l+=r.subParser("makeMarkdown.node")(g[w],u);l+="**"}return l}),r.subParser("makeMarkdown.table",function(i,u){var l="",g=[[],[]],k=i.querySelectorAll("thead>tr>th"),w=i.querySelectorAll("tbody>tr"),b,E;for(b=0;b<k.length;++b){var L=r.subParser("makeMarkdown.tableCell")(k[b],u),D="---";if(k[b].hasAttribute("style")){var R=k[b].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(R){case"text-align:left;":D=":---";break;case"text-align:right;":D="---:";break;case"text-align:center;":D=":---:";break}}g[0][b]=L.trim(),g[1][b]=D}for(b=0;b<w.length;++b){var j=g.push([])-1,x=w[b].getElementsByTagName("td");for(E=0;E<k.length;++E){var q=" ";typeof x[E]<"u"&&(q=r.subParser("makeMarkdown.tableCell")(x[E],u)),g[j].push(q)}}var $=3;for(b=0;b<g.length;++b)for(E=0;E<g[b].length;++E){var N=g[b][E].length;N>$&&($=N)}for(b=0;b<g.length;++b){for(E=0;E<g[b].length;++E)b===1?g[b][E].slice(-1)===":"?g[b][E]=r.helper.padEnd(g[b][E].slice(-1),$-1,"-")+":":g[b][E]=r.helper.padEnd(g[b][E],$,"-"):g[b][E]=r.helper.padEnd(g[b][E],$);l+="| "+g[b].join(" | ")+` |
`}return l.trim()}),r.subParser("makeMarkdown.tableCell",function(i,u){var l="";if(!i.hasChildNodes())return"";for(var g=i.childNodes,k=g.length,w=0;w<k;++w)l+=r.subParser("makeMarkdown.node")(g[w],u,!0);return l.trim()}),r.subParser("makeMarkdown.txt",function(i){var u=i.nodeValue;return u=u.replace(/ +/g," "),u=u.replace(/¨NBSP;/g," "),u=r.helper.unescapeHTMLEntities(u),u=u.replace(/([*_~|`])/g,"\\$1"),u=u.replace(/^(\s*)>/g,"\\$1>"),u=u.replace(/^#/gm,"\\#"),u=u.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),u=u.replace(/^( {0,3}\d+)\./gm,"$1\\."),u=u.replace(/^( {0,3})([+-])/gm,"$1\\$2"),u=u.replace(/]([\s]*)\(/g,"\\]$1\\("),u=u.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),u});var A=this;n.exports?n.exports=r:A.showdown=r}).call(te)})(Hi);var Mf=Hi.exports,Fi={},An={},br={},vr={};const jf={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376};var Bf=te&&te.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(vr,"__esModule",{value:!0});var va=Bf(jf),qf=String.fromCodePoint||function(n){var e="";return n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),e+=String.fromCharCode(n),e};function zf(n){return n>=55296&&n<=57343||n>1114111?"�":(n in va.default&&(n=va.default[n]),qf(n))}vr.default=zf;const Nf="Á",$f="á",Hf="Ă",Ff="ă",Uf="∾",Vf="∿",Gf="∾̳",Wf="Â",Yf="â",Qf="´",Zf="А",Xf="а",Kf="Æ",Jf="æ",ep="⁡",tp="𝔄",np="𝔞",rp="À",sp="à",op="ℵ",ap="ℵ",ip="Α",cp="α",up="Ā",dp="ā",lp="⨿",fp="&",pp="&",hp="⩕",mp="⩓",gp="∧",bp="⩜",vp="⩘",yp="⩚",wp="∠",kp="⦤",xp="∠",Sp="⦨",_p="⦩",Cp="⦪",Ep="⦫",Ap="⦬",Tp="⦭",Pp="⦮",Ip="⦯",Rp="∡",Dp="∟",Lp="⊾",Op="⦝",Mp="∢",jp="Å",Bp="⍼",qp="Ą",zp="ą",Np="𝔸",$p="𝕒",Hp="⩯",Fp="≈",Up="⩰",Vp="≊",Gp="≋",Wp="'",Yp="⁡",Qp="≈",Zp="≊",Xp="Å",Kp="å",Jp="𝒜",eh="𝒶",th="≔",nh="*",rh="≈",sh="≍",oh="Ã",ah="ã",ih="Ä",ch="ä",uh="∳",dh="⨑",lh="≌",fh="϶",ph="‵",hh="∽",mh="⋍",gh="∖",bh="⫧",vh="⊽",yh="⌅",wh="⌆",kh="⌅",xh="⎵",Sh="⎶",_h="≌",Ch="Б",Eh="б",Ah="„",Th="∵",Ph="∵",Ih="∵",Rh="⦰",Dh="϶",Lh="ℬ",Oh="ℬ",Mh="Β",jh="β",Bh="ℶ",qh="≬",zh="𝔅",Nh="𝔟",$h="⋂",Hh="◯",Fh="⋃",Uh="⨀",Vh="⨁",Gh="⨂",Wh="⨆",Yh="★",Qh="▽",Zh="△",Xh="⨄",Kh="⋁",Jh="⋀",em="⤍",tm="⧫",nm="▪",rm="▴",sm="▾",om="◂",am="▸",im="␣",cm="▒",um="░",dm="▓",lm="█",fm="=⃥",pm="≡⃥",hm="⫭",mm="⌐",gm="𝔹",bm="𝕓",vm="⊥",ym="⊥",wm="⋈",km="⧉",xm="┐",Sm="╕",_m="╖",Cm="╗",Em="┌",Am="╒",Tm="╓",Pm="╔",Im="─",Rm="═",Dm="┬",Lm="╤",Om="╥",Mm="╦",jm="┴",Bm="╧",qm="╨",zm="╩",Nm="⊟",$m="⊞",Hm="⊠",Fm="┘",Um="╛",Vm="╜",Gm="╝",Wm="└",Ym="╘",Qm="╙",Zm="╚",Xm="│",Km="║",Jm="┼",eg="╪",tg="╫",ng="╬",rg="┤",sg="╡",og="╢",ag="╣",ig="├",cg="╞",ug="╟",dg="╠",lg="‵",fg="˘",pg="˘",hg="¦",mg="𝒷",gg="ℬ",bg="⁏",vg="∽",yg="⋍",wg="⧅",kg="\\",xg="⟈",Sg="•",_g="•",Cg="≎",Eg="⪮",Ag="≏",Tg="≎",Pg="≏",Ig="Ć",Rg="ć",Dg="⩄",Lg="⩉",Og="⩋",Mg="∩",jg="⋒",Bg="⩇",qg="⩀",zg="ⅅ",Ng="∩︀",$g="⁁",Hg="ˇ",Fg="ℭ",Ug="⩍",Vg="Č",Gg="č",Wg="Ç",Yg="ç",Qg="Ĉ",Zg="ĉ",Xg="∰",Kg="⩌",Jg="⩐",eb="Ċ",tb="ċ",nb="¸",rb="¸",sb="⦲",ob="¢",ab="·",ib="·",cb="𝔠",ub="ℭ",db="Ч",lb="ч",fb="✓",pb="✓",hb="Χ",mb="χ",gb="ˆ",bb="≗",vb="↺",yb="↻",wb="⊛",kb="⊚",xb="⊝",Sb="⊙",_b="®",Cb="Ⓢ",Eb="⊖",Ab="⊕",Tb="⊗",Pb="○",Ib="⧃",Rb="≗",Db="⨐",Lb="⫯",Ob="⧂",Mb="∲",jb="”",Bb="’",qb="♣",zb="♣",Nb=":",$b="∷",Hb="⩴",Fb="≔",Ub="≔",Vb=",",Gb="@",Wb="∁",Yb="∘",Qb="∁",Zb="ℂ",Xb="≅",Kb="⩭",Jb="≡",ev="∮",tv="∯",nv="∮",rv="𝕔",sv="ℂ",ov="∐",av="∐",iv="©",cv="©",uv="℗",dv="∳",lv="↵",fv="✗",pv="⨯",hv="𝒞",mv="𝒸",gv="⫏",bv="⫑",vv="⫐",yv="⫒",wv="⋯",kv="⤸",xv="⤵",Sv="⋞",_v="⋟",Cv="↶",Ev="⤽",Av="⩈",Tv="⩆",Pv="≍",Iv="∪",Rv="⋓",Dv="⩊",Lv="⊍",Ov="⩅",Mv="∪︀",jv="↷",Bv="⤼",qv="⋞",zv="⋟",Nv="⋎",$v="⋏",Hv="¤",Fv="↶",Uv="↷",Vv="⋎",Gv="⋏",Wv="∲",Yv="∱",Qv="⌭",Zv="†",Xv="‡",Kv="ℸ",Jv="↓",ey="↡",ty="⇓",ny="‐",ry="⫤",sy="⊣",oy="⤏",ay="˝",iy="Ď",cy="ď",uy="Д",dy="д",ly="‡",fy="⇊",py="ⅅ",hy="ⅆ",my="⤑",gy="⩷",by="°",vy="∇",yy="Δ",wy="δ",ky="⦱",xy="⥿",Sy="𝔇",_y="𝔡",Cy="⥥",Ey="⇃",Ay="⇂",Ty="´",Py="˙",Iy="˝",Ry="`",Dy="˜",Ly="⋄",Oy="⋄",My="⋄",jy="♦",By="♦",qy="¨",zy="ⅆ",Ny="ϝ",$y="⋲",Hy="÷",Fy="÷",Uy="⋇",Vy="⋇",Gy="Ђ",Wy="ђ",Yy="⌞",Qy="⌍",Zy="$",Xy="𝔻",Ky="𝕕",Jy="¨",ew="˙",tw="⃜",nw="≐",rw="≑",sw="≐",ow="∸",aw="∔",iw="⊡",cw="⌆",uw="∯",dw="¨",lw="⇓",fw="⇐",pw="⇔",hw="⫤",mw="⟸",gw="⟺",bw="⟹",vw="⇒",yw="⊨",ww="⇑",kw="⇕",xw="∥",Sw="⤓",_w="↓",Cw="↓",Ew="⇓",Aw="⇵",Tw="̑",Pw="⇊",Iw="⇃",Rw="⇂",Dw="⥐",Lw="⥞",Ow="⥖",Mw="↽",jw="⥟",Bw="⥗",qw="⇁",zw="↧",Nw="⊤",$w="⤐",Hw="⌟",Fw="⌌",Uw="𝒟",Vw="𝒹",Gw="Ѕ",Ww="ѕ",Yw="⧶",Qw="Đ",Zw="đ",Xw="⋱",Kw="▿",Jw="▾",e0="⇵",t0="⥯",n0="⦦",r0="Џ",s0="џ",o0="⟿",a0="É",i0="é",c0="⩮",u0="Ě",d0="ě",l0="Ê",f0="ê",p0="≖",h0="≕",m0="Э",g0="э",b0="⩷",v0="Ė",y0="ė",w0="≑",k0="ⅇ",x0="≒",S0="𝔈",_0="𝔢",C0="⪚",E0="È",A0="è",T0="⪖",P0="⪘",I0="⪙",R0="∈",D0="⏧",L0="ℓ",O0="⪕",M0="⪗",j0="Ē",B0="ē",q0="∅",z0="∅",N0="◻",$0="∅",H0="▫",F0=" ",U0=" ",V0=" ",G0="Ŋ",W0="ŋ",Y0=" ",Q0="Ę",Z0="ę",X0="𝔼",K0="𝕖",J0="⋕",e1="⧣",t1="⩱",n1="ε",r1="Ε",s1="ε",o1="ϵ",a1="≖",i1="≕",c1="≂",u1="⪖",d1="⪕",l1="⩵",f1="=",p1="≂",h1="≟",m1="⇌",g1="≡",b1="⩸",v1="⧥",y1="⥱",w1="≓",k1="ℯ",x1="ℰ",S1="≐",_1="⩳",C1="≂",E1="Η",A1="η",T1="Ð",P1="ð",I1="Ë",R1="ë",D1="€",L1="!",O1="∃",M1="∃",j1="ℰ",B1="ⅇ",q1="ⅇ",z1="≒",N1="Ф",$1="ф",H1="♀",F1="ﬃ",U1="ﬀ",V1="ﬄ",G1="𝔉",W1="𝔣",Y1="ﬁ",Q1="◼",Z1="▪",X1="fj",K1="♭",J1="ﬂ",ek="▱",tk="ƒ",nk="𝔽",rk="𝕗",sk="∀",ok="∀",ak="⋔",ik="⫙",ck="ℱ",uk="⨍",dk="½",lk="⅓",fk="¼",pk="⅕",hk="⅙",mk="⅛",gk="⅔",bk="⅖",vk="¾",yk="⅗",wk="⅜",kk="⅘",xk="⅚",Sk="⅝",_k="⅞",Ck="⁄",Ek="⌢",Ak="𝒻",Tk="ℱ",Pk="ǵ",Ik="Γ",Rk="γ",Dk="Ϝ",Lk="ϝ",Ok="⪆",Mk="Ğ",jk="ğ",Bk="Ģ",qk="Ĝ",zk="ĝ",Nk="Г",$k="г",Hk="Ġ",Fk="ġ",Uk="≥",Vk="≧",Gk="⪌",Wk="⋛",Yk="≥",Qk="≧",Zk="⩾",Xk="⪩",Kk="⩾",Jk="⪀",e3="⪂",t3="⪄",n3="⋛︀",r3="⪔",s3="𝔊",o3="𝔤",a3="≫",i3="⋙",c3="⋙",u3="ℷ",d3="Ѓ",l3="ѓ",f3="⪥",p3="≷",h3="⪒",m3="⪤",g3="⪊",b3="⪊",v3="⪈",y3="≩",w3="⪈",k3="≩",x3="⋧",S3="𝔾",_3="𝕘",C3="`",E3="≥",A3="⋛",T3="≧",P3="⪢",I3="≷",R3="⩾",D3="≳",L3="𝒢",O3="ℊ",M3="≳",j3="⪎",B3="⪐",q3="⪧",z3="⩺",N3=">",$3=">",H3="≫",F3="⋗",U3="⦕",V3="⩼",G3="⪆",W3="⥸",Y3="⋗",Q3="⋛",Z3="⪌",X3="≷",K3="≳",J3="≩︀",e8="≩︀",t8="ˇ",n8=" ",r8="½",s8="ℋ",o8="Ъ",a8="ъ",i8="⥈",c8="↔",u8="⇔",d8="↭",l8="^",f8="ℏ",p8="Ĥ",h8="ĥ",m8="♥",g8="♥",b8="…",v8="⊹",y8="𝔥",w8="ℌ",k8="ℋ",x8="⤥",S8="⤦",_8="⇿",C8="∻",E8="↩",A8="↪",T8="𝕙",P8="ℍ",I8="―",R8="─",D8="𝒽",L8="ℋ",O8="ℏ",M8="Ħ",j8="ħ",B8="≎",q8="≏",z8="⁃",N8="‐",$8="Í",H8="í",F8="⁣",U8="Î",V8="î",G8="И",W8="и",Y8="İ",Q8="Е",Z8="е",X8="¡",K8="⇔",J8="𝔦",ex="ℑ",tx="Ì",nx="ì",rx="ⅈ",sx="⨌",ox="∭",ax="⧜",ix="℩",cx="Ĳ",ux="ĳ",dx="Ī",lx="ī",fx="ℑ",px="ⅈ",hx="ℐ",mx="ℑ",gx="ı",bx="ℑ",vx="⊷",yx="Ƶ",wx="⇒",kx="℅",xx="∞",Sx="⧝",_x="ı",Cx="⊺",Ex="∫",Ax="∬",Tx="ℤ",Px="∫",Ix="⊺",Rx="⋂",Dx="⨗",Lx="⨼",Ox="⁣",Mx="⁢",jx="Ё",Bx="ё",qx="Į",zx="į",Nx="𝕀",$x="𝕚",Hx="Ι",Fx="ι",Ux="⨼",Vx="¿",Gx="𝒾",Wx="ℐ",Yx="∈",Qx="⋵",Zx="⋹",Xx="⋴",Kx="⋳",Jx="∈",eS="⁢",tS="Ĩ",nS="ĩ",rS="І",sS="і",oS="Ï",aS="ï",iS="Ĵ",cS="ĵ",uS="Й",dS="й",lS="𝔍",fS="𝔧",pS="ȷ",hS="𝕁",mS="𝕛",gS="𝒥",bS="𝒿",vS="Ј",yS="ј",wS="Є",kS="є",xS="Κ",SS="κ",_S="ϰ",CS="Ķ",ES="ķ",AS="К",TS="к",PS="𝔎",IS="𝔨",RS="ĸ",DS="Х",LS="х",OS="Ќ",MS="ќ",jS="𝕂",BS="𝕜",qS="𝒦",zS="𝓀",NS="⇚",$S="Ĺ",HS="ĺ",FS="⦴",US="ℒ",VS="Λ",GS="λ",WS="⟨",YS="⟪",QS="⦑",ZS="⟨",XS="⪅",KS="ℒ",JS="«",e_="⇤",t_="⤟",n_="←",r_="↞",s_="⇐",o_="⤝",a_="↩",i_="↫",c_="⤹",u_="⥳",d_="↢",l_="⤙",f_="⤛",p_="⪫",h_="⪭",m_="⪭︀",g_="⤌",b_="⤎",v_="❲",y_="{",w_="[",k_="⦋",x_="⦏",S_="⦍",__="Ľ",C_="ľ",E_="Ļ",A_="ļ",T_="⌈",P_="{",I_="Л",R_="л",D_="⤶",L_="“",O_="„",M_="⥧",j_="⥋",B_="↲",q_="≤",z_="≦",N_="⟨",$_="⇤",H_="←",F_="←",U_="⇐",V_="⇆",G_="↢",W_="⌈",Y_="⟦",Q_="⥡",Z_="⥙",X_="⇃",K_="⌊",J_="↽",eC="↼",tC="⇇",nC="↔",rC="↔",sC="⇔",oC="⇆",aC="⇋",iC="↭",cC="⥎",uC="↤",dC="⊣",lC="⥚",fC="⋋",pC="⧏",hC="⊲",mC="⊴",gC="⥑",bC="⥠",vC="⥘",yC="↿",wC="⥒",kC="↼",xC="⪋",SC="⋚",_C="≤",CC="≦",EC="⩽",AC="⪨",TC="⩽",PC="⩿",IC="⪁",RC="⪃",DC="⋚︀",LC="⪓",OC="⪅",MC="⋖",jC="⋚",BC="⪋",qC="⋚",zC="≦",NC="≶",$C="≶",HC="⪡",FC="≲",UC="⩽",VC="≲",GC="⥼",WC="⌊",YC="𝔏",QC="𝔩",ZC="≶",XC="⪑",KC="⥢",JC="↽",e2="↼",t2="⥪",n2="▄",r2="Љ",s2="љ",o2="⇇",a2="≪",i2="⋘",c2="⌞",u2="⇚",d2="⥫",l2="◺",f2="Ŀ",p2="ŀ",h2="⎰",m2="⎰",g2="⪉",b2="⪉",v2="⪇",y2="≨",w2="⪇",k2="≨",x2="⋦",S2="⟬",_2="⇽",C2="⟦",E2="⟵",A2="⟵",T2="⟸",P2="⟷",I2="⟷",R2="⟺",D2="⟼",L2="⟶",O2="⟶",M2="⟹",j2="↫",B2="↬",q2="⦅",z2="𝕃",N2="𝕝",$2="⨭",H2="⨴",F2="∗",U2="_",V2="↙",G2="↘",W2="◊",Y2="◊",Q2="⧫",Z2="(",X2="⦓",K2="⇆",J2="⌟",eE="⇋",tE="⥭",nE="‎",rE="⊿",sE="‹",oE="𝓁",aE="ℒ",iE="↰",cE="↰",uE="≲",dE="⪍",lE="⪏",fE="[",pE="‘",hE="‚",mE="Ł",gE="ł",bE="⪦",vE="⩹",yE="<",wE="<",kE="≪",xE="⋖",SE="⋋",_E="⋉",CE="⥶",EE="⩻",AE="◃",TE="⊴",PE="◂",IE="⦖",RE="⥊",DE="⥦",LE="≨︀",OE="≨︀",ME="¯",jE="♂",BE="✠",qE="✠",zE="↦",NE="↦",$E="↧",HE="↤",FE="↥",UE="▮",VE="⨩",GE="М",WE="м",YE="—",QE="∺",ZE="∡",XE=" ",KE="ℳ",JE="𝔐",eA="𝔪",tA="℧",nA="µ",rA="*",sA="⫰",oA="∣",aA="·",iA="⊟",cA="−",uA="∸",dA="⨪",lA="∓",fA="⫛",pA="…",hA="∓",mA="⊧",gA="𝕄",bA="𝕞",vA="∓",yA="𝓂",wA="ℳ",kA="∾",xA="Μ",SA="μ",_A="⊸",CA="⊸",EA="∇",AA="Ń",TA="ń",PA="∠⃒",IA="≉",RA="⩰̸",DA="≋̸",LA="ŉ",OA="≉",MA="♮",jA="ℕ",BA="♮",qA=" ",zA="≎̸",NA="≏̸",$A="⩃",HA="Ň",FA="ň",UA="Ņ",VA="ņ",GA="≇",WA="⩭̸",YA="⩂",QA="Н",ZA="н",XA="–",KA="⤤",JA="↗",eT="⇗",tT="↗",nT="≠",rT="≐̸",sT="​",oT="​",aT="​",iT="​",cT="≢",uT="⤨",dT="≂̸",lT="≫",fT="≪",pT=`
`,hT="∄",mT="∄",gT="𝔑",bT="𝔫",vT="≧̸",yT="≱",wT="≱",kT="≧̸",xT="⩾̸",ST="⩾̸",_T="⋙̸",CT="≵",ET="≫⃒",AT="≯",TT="≯",PT="≫̸",IT="↮",RT="⇎",DT="⫲",LT="∋",OT="⋼",MT="⋺",jT="∋",BT="Њ",qT="њ",zT="↚",NT="⇍",$T="‥",HT="≦̸",FT="≰",UT="↚",VT="⇍",GT="↮",WT="⇎",YT="≰",QT="≦̸",ZT="⩽̸",XT="⩽̸",KT="≮",JT="⋘̸",eP="≴",tP="≪⃒",nP="≮",rP="⋪",sP="⋬",oP="≪̸",aP="∤",iP="⁠",cP=" ",uP="𝕟",dP="ℕ",lP="⫬",fP="¬",pP="≢",hP="≭",mP="∦",gP="∉",bP="≠",vP="≂̸",yP="∄",wP="≯",kP="≱",xP="≧̸",SP="≫̸",_P="≹",CP="⩾̸",EP="≵",AP="≎̸",TP="≏̸",PP="∉",IP="⋵̸",RP="⋹̸",DP="∉",LP="⋷",OP="⋶",MP="⧏̸",jP="⋪",BP="⋬",qP="≮",zP="≰",NP="≸",$P="≪̸",HP="⩽̸",FP="≴",UP="⪢̸",VP="⪡̸",GP="∌",WP="∌",YP="⋾",QP="⋽",ZP="⊀",XP="⪯̸",KP="⋠",JP="∌",eI="⧐̸",tI="⋫",nI="⋭",rI="⊏̸",sI="⋢",oI="⊐̸",aI="⋣",iI="⊂⃒",cI="⊈",uI="⊁",dI="⪰̸",lI="⋡",fI="≿̸",pI="⊃⃒",hI="⊉",mI="≁",gI="≄",bI="≇",vI="≉",yI="∤",wI="∦",kI="∦",xI="⫽⃥",SI="∂̸",_I="⨔",CI="⊀",EI="⋠",AI="⊀",TI="⪯̸",PI="⪯̸",II="⤳̸",RI="↛",DI="⇏",LI="↝̸",OI="↛",MI="⇏",jI="⋫",BI="⋭",qI="⊁",zI="⋡",NI="⪰̸",$I="𝒩",HI="𝓃",FI="∤",UI="∦",VI="≁",GI="≄",WI="≄",YI="∤",QI="∦",ZI="⋢",XI="⋣",KI="⊄",JI="⫅̸",e4="⊈",t4="⊂⃒",n4="⊈",r4="⫅̸",s4="⊁",o4="⪰̸",a4="⊅",i4="⫆̸",c4="⊉",u4="⊃⃒",d4="⊉",l4="⫆̸",f4="≹",p4="Ñ",h4="ñ",m4="≸",g4="⋪",b4="⋬",v4="⋫",y4="⋭",w4="Ν",k4="ν",x4="#",S4="№",_4=" ",C4="≍⃒",E4="⊬",A4="⊭",T4="⊮",P4="⊯",I4="≥⃒",R4=">⃒",D4="⤄",L4="⧞",O4="⤂",M4="≤⃒",j4="<⃒",B4="⊴⃒",q4="⤃",z4="⊵⃒",N4="∼⃒",$4="⤣",H4="↖",F4="⇖",U4="↖",V4="⤧",G4="Ó",W4="ó",Y4="⊛",Q4="Ô",Z4="ô",X4="⊚",K4="О",J4="о",e6="⊝",t6="Ő",n6="ő",r6="⨸",s6="⊙",o6="⦼",a6="Œ",i6="œ",c6="⦿",u6="𝔒",d6="𝔬",l6="˛",f6="Ò",p6="ò",h6="⧁",m6="⦵",g6="Ω",b6="∮",v6="↺",y6="⦾",w6="⦻",k6="‾",x6="⧀",S6="Ō",_6="ō",C6="Ω",E6="ω",A6="Ο",T6="ο",P6="⦶",I6="⊖",R6="𝕆",D6="𝕠",L6="⦷",O6="“",M6="‘",j6="⦹",B6="⊕",q6="↻",z6="⩔",N6="∨",$6="⩝",H6="ℴ",F6="ℴ",U6="ª",V6="º",G6="⊶",W6="⩖",Y6="⩗",Q6="⩛",Z6="Ⓢ",X6="𝒪",K6="ℴ",J6="Ø",eR="ø",tR="⊘",nR="Õ",rR="õ",sR="⨶",oR="⨷",aR="⊗",iR="Ö",cR="ö",uR="⌽",dR="‾",lR="⏞",fR="⎴",pR="⏜",hR="¶",mR="∥",gR="∥",bR="⫳",vR="⫽",yR="∂",wR="∂",kR="П",xR="п",SR="%",_R=".",CR="‰",ER="⊥",AR="‱",TR="𝔓",PR="𝔭",IR="Φ",RR="φ",DR="ϕ",LR="ℳ",OR="☎",MR="Π",jR="π",BR="⋔",qR="ϖ",zR="ℏ",NR="ℎ",$R="ℏ",HR="⨣",FR="⊞",UR="⨢",VR="+",GR="∔",WR="⨥",YR="⩲",QR="±",ZR="±",XR="⨦",KR="⨧",JR="±",eD="ℌ",tD="⨕",nD="𝕡",rD="ℙ",sD="£",oD="⪷",aD="⪻",iD="≺",cD="≼",uD="⪷",dD="≺",lD="≼",fD="≺",pD="⪯",hD="≼",mD="≾",gD="⪯",bD="⪹",vD="⪵",yD="⋨",wD="⪯",kD="⪳",xD="≾",SD="′",_D="″",CD="ℙ",ED="⪹",AD="⪵",TD="⋨",PD="∏",ID="∏",RD="⌮",DD="⌒",LD="⌓",OD="∝",MD="∝",jD="∷",BD="∝",qD="≾",zD="⊰",ND="𝒫",$D="𝓅",HD="Ψ",FD="ψ",UD=" ",VD="𝔔",GD="𝔮",WD="⨌",YD="𝕢",QD="ℚ",ZD="⁗",XD="𝒬",KD="𝓆",JD="ℍ",e5="⨖",t5="?",n5="≟",r5='"',s5='"',o5="⇛",a5="∽̱",i5="Ŕ",c5="ŕ",u5="√",d5="⦳",l5="⟩",f5="⟫",p5="⦒",h5="⦥",m5="⟩",g5="»",b5="⥵",v5="⇥",y5="⤠",w5="⤳",k5="→",x5="↠",S5="⇒",_5="⤞",C5="↪",E5="↬",A5="⥅",T5="⥴",P5="⤖",I5="↣",R5="↝",D5="⤚",L5="⤜",O5="∶",M5="ℚ",j5="⤍",B5="⤏",q5="⤐",z5="❳",N5="}",$5="]",H5="⦌",F5="⦎",U5="⦐",V5="Ř",G5="ř",W5="Ŗ",Y5="ŗ",Q5="⌉",Z5="}",X5="Р",K5="р",J5="⤷",eL="⥩",tL="”",nL="”",rL="↳",sL="ℜ",oL="ℛ",aL="ℜ",iL="ℝ",cL="ℜ",uL="▭",dL="®",lL="®",fL="∋",pL="⇋",hL="⥯",mL="⥽",gL="⌋",bL="𝔯",vL="ℜ",yL="⥤",wL="⇁",kL="⇀",xL="⥬",SL="Ρ",_L="ρ",CL="ϱ",EL="⟩",AL="⇥",TL="→",PL="→",IL="⇒",RL="⇄",DL="↣",LL="⌉",OL="⟧",ML="⥝",jL="⥕",BL="⇂",qL="⌋",zL="⇁",NL="⇀",$L="⇄",HL="⇌",FL="⇉",UL="↝",VL="↦",GL="⊢",WL="⥛",YL="⋌",QL="⧐",ZL="⊳",XL="⊵",KL="⥏",JL="⥜",eO="⥔",tO="↾",nO="⥓",rO="⇀",sO="˚",oO="≓",aO="⇄",iO="⇌",cO="‏",uO="⎱",dO="⎱",lO="⫮",fO="⟭",pO="⇾",hO="⟧",mO="⦆",gO="𝕣",bO="ℝ",vO="⨮",yO="⨵",wO="⥰",kO=")",xO="⦔",SO="⨒",_O="⇉",CO="⇛",EO="›",AO="𝓇",TO="ℛ",PO="↱",IO="↱",RO="]",DO="’",LO="’",OO="⋌",MO="⋊",jO="▹",BO="⊵",qO="▸",zO="⧎",NO="⧴",$O="⥨",HO="℞",FO="Ś",UO="ś",VO="‚",GO="⪸",WO="Š",YO="š",QO="⪼",ZO="≻",XO="≽",KO="⪰",JO="⪴",eM="Ş",tM="ş",nM="Ŝ",rM="ŝ",sM="⪺",oM="⪶",aM="⋩",iM="⨓",cM="≿",uM="С",dM="с",lM="⊡",fM="⋅",pM="⩦",hM="⤥",mM="↘",gM="⇘",bM="↘",vM="§",yM=";",wM="⤩",kM="∖",xM="∖",SM="✶",_M="𝔖",CM="𝔰",EM="⌢",AM="♯",TM="Щ",PM="щ",IM="Ш",RM="ш",DM="↓",LM="←",OM="∣",MM="∥",jM="→",BM="↑",qM="­",zM="Σ",NM="σ",$M="ς",HM="ς",FM="∼",UM="⩪",VM="≃",GM="≃",WM="⪞",YM="⪠",QM="⪝",ZM="⪟",XM="≆",KM="⨤",JM="⥲",ej="←",tj="∘",nj="∖",rj="⨳",sj="⧤",oj="∣",aj="⌣",ij="⪪",cj="⪬",uj="⪬︀",dj="Ь",lj="ь",fj="⌿",pj="⧄",hj="/",mj="𝕊",gj="𝕤",bj="♠",vj="♠",yj="∥",wj="⊓",kj="⊓︀",xj="⊔",Sj="⊔︀",_j="√",Cj="⊏",Ej="⊑",Aj="⊏",Tj="⊑",Pj="⊐",Ij="⊒",Rj="⊐",Dj="⊒",Lj="□",Oj="□",Mj="⊓",jj="⊏",Bj="⊑",qj="⊐",zj="⊒",Nj="⊔",$j="▪",Hj="□",Fj="▪",Uj="→",Vj="𝒮",Gj="𝓈",Wj="∖",Yj="⌣",Qj="⋆",Zj="⋆",Xj="☆",Kj="★",Jj="ϵ",e9="ϕ",t9="¯",n9="⊂",r9="⋐",s9="⪽",o9="⫅",a9="⊆",i9="⫃",c9="⫁",u9="⫋",d9="⊊",l9="⪿",f9="⥹",p9="⊂",h9="⋐",m9="⊆",g9="⫅",b9="⊆",v9="⊊",y9="⫋",w9="⫇",k9="⫕",x9="⫓",S9="⪸",_9="≻",C9="≽",E9="≻",A9="⪰",T9="≽",P9="≿",I9="⪰",R9="⪺",D9="⪶",L9="⋩",O9="≿",M9="∋",j9="∑",B9="∑",q9="♪",z9="¹",N9="²",$9="³",H9="⊃",F9="⋑",U9="⪾",V9="⫘",G9="⫆",W9="⊇",Y9="⫄",Q9="⊃",Z9="⊇",X9="⟉",K9="⫗",J9="⥻",eB="⫂",tB="⫌",nB="⊋",rB="⫀",sB="⊃",oB="⋑",aB="⊇",iB="⫆",cB="⊋",uB="⫌",dB="⫈",lB="⫔",fB="⫖",pB="⤦",hB="↙",mB="⇙",gB="↙",bB="⤪",vB="ß",yB="	",wB="⌖",kB="Τ",xB="τ",SB="⎴",_B="Ť",CB="ť",EB="Ţ",AB="ţ",TB="Т",PB="т",IB="⃛",RB="⌕",DB="𝔗",LB="𝔱",OB="∴",MB="∴",jB="∴",BB="Θ",qB="θ",zB="ϑ",NB="ϑ",$B="≈",HB="∼",FB="  ",UB=" ",VB=" ",GB="≈",WB="∼",YB="Þ",QB="þ",ZB="˜",XB="∼",KB="≃",JB="≅",e7="≈",t7="⨱",n7="⊠",r7="×",s7="⨰",o7="∭",a7="⤨",i7="⌶",c7="⫱",u7="⊤",d7="𝕋",l7="𝕥",f7="⫚",p7="⤩",h7="‴",m7="™",g7="™",b7="▵",v7="▿",y7="◃",w7="⊴",k7="≜",x7="▹",S7="⊵",_7="◬",C7="≜",E7="⨺",A7="⃛",T7="⨹",P7="⧍",I7="⨻",R7="⏢",D7="𝒯",L7="𝓉",O7="Ц",M7="ц",j7="Ћ",B7="ћ",q7="Ŧ",z7="ŧ",N7="≬",$7="↞",H7="↠",F7="Ú",U7="ú",V7="↑",G7="↟",W7="⇑",Y7="⥉",Q7="Ў",Z7="ў",X7="Ŭ",K7="ŭ",J7="Û",eq="û",tq="У",nq="у",rq="⇅",sq="Ű",oq="ű",aq="⥮",iq="⥾",cq="𝔘",uq="𝔲",dq="Ù",lq="ù",fq="⥣",pq="↿",hq="↾",mq="▀",gq="⌜",bq="⌜",vq="⌏",yq="◸",wq="Ū",kq="ū",xq="¨",Sq="_",_q="⏟",Cq="⎵",Eq="⏝",Aq="⋃",Tq="⊎",Pq="Ų",Iq="ų",Rq="𝕌",Dq="𝕦",Lq="⤒",Oq="↑",Mq="↑",jq="⇑",Bq="⇅",qq="↕",zq="↕",Nq="⇕",$q="⥮",Hq="↿",Fq="↾",Uq="⊎",Vq="↖",Gq="↗",Wq="υ",Yq="ϒ",Qq="ϒ",Zq="Υ",Xq="υ",Kq="↥",Jq="⊥",ez="⇈",tz="⌝",nz="⌝",rz="⌎",sz="Ů",oz="ů",az="◹",iz="𝒰",cz="𝓊",uz="⋰",dz="Ũ",lz="ũ",fz="▵",pz="▴",hz="⇈",mz="Ü",gz="ü",bz="⦧",vz="⦜",yz="ϵ",wz="ϰ",kz="∅",xz="ϕ",Sz="ϖ",_z="∝",Cz="↕",Ez="⇕",Az="ϱ",Tz="ς",Pz="⊊︀",Iz="⫋︀",Rz="⊋︀",Dz="⫌︀",Lz="ϑ",Oz="⊲",Mz="⊳",jz="⫨",Bz="⫫",qz="⫩",zz="В",Nz="в",$z="⊢",Hz="⊨",Fz="⊩",Uz="⊫",Vz="⫦",Gz="⊻",Wz="∨",Yz="⋁",Qz="≚",Zz="⋮",Xz="|",Kz="‖",Jz="|",eN="‖",tN="∣",nN="|",rN="❘",sN="≀",oN=" ",aN="𝔙",iN="𝔳",cN="⊲",uN="⊂⃒",dN="⊃⃒",lN="𝕍",fN="𝕧",pN="∝",hN="⊳",mN="𝒱",gN="𝓋",bN="⫋︀",vN="⊊︀",yN="⫌︀",wN="⊋︀",kN="⊪",xN="⦚",SN="Ŵ",_N="ŵ",CN="⩟",EN="∧",AN="⋀",TN="≙",PN="℘",IN="𝔚",RN="𝔴",DN="𝕎",LN="𝕨",ON="℘",MN="≀",jN="≀",BN="𝒲",qN="𝓌",zN="⋂",NN="◯",$N="⋃",HN="▽",FN="𝔛",UN="𝔵",VN="⟷",GN="⟺",WN="Ξ",YN="ξ",QN="⟵",ZN="⟸",XN="⟼",KN="⋻",JN="⨀",e$="𝕏",t$="𝕩",n$="⨁",r$="⨂",s$="⟶",o$="⟹",a$="𝒳",i$="𝓍",c$="⨆",u$="⨄",d$="△",l$="⋁",f$="⋀",p$="Ý",h$="ý",m$="Я",g$="я",b$="Ŷ",v$="ŷ",y$="Ы",w$="ы",k$="¥",x$="𝔜",S$="𝔶",_$="Ї",C$="ї",E$="𝕐",A$="𝕪",T$="𝒴",P$="𝓎",I$="Ю",R$="ю",D$="ÿ",L$="Ÿ",O$="Ź",M$="ź",j$="Ž",B$="ž",q$="З",z$="з",N$="Ż",$$="ż",H$="ℨ",F$="​",U$="Ζ",V$="ζ",G$="𝔷",W$="ℨ",Y$="Ж",Q$="ж",Z$="⇝",X$="𝕫",K$="ℤ",J$="𝒵",eH="𝓏",tH="‍",nH="‌",Hs={Aacute:Nf,aacute:$f,Abreve:Hf,abreve:Ff,ac:Uf,acd:Vf,acE:Gf,Acirc:Wf,acirc:Yf,acute:Qf,Acy:Zf,acy:Xf,AElig:Kf,aelig:Jf,af:ep,Afr:tp,afr:np,Agrave:rp,agrave:sp,alefsym:op,aleph:ap,Alpha:ip,alpha:cp,Amacr:up,amacr:dp,amalg:lp,amp:fp,AMP:pp,andand:hp,And:mp,and:gp,andd:bp,andslope:vp,andv:yp,ang:wp,ange:kp,angle:xp,angmsdaa:Sp,angmsdab:_p,angmsdac:Cp,angmsdad:Ep,angmsdae:Ap,angmsdaf:Tp,angmsdag:Pp,angmsdah:Ip,angmsd:Rp,angrt:Dp,angrtvb:Lp,angrtvbd:Op,angsph:Mp,angst:jp,angzarr:Bp,Aogon:qp,aogon:zp,Aopf:Np,aopf:$p,apacir:Hp,ap:Fp,apE:Up,ape:Vp,apid:Gp,apos:Wp,ApplyFunction:Yp,approx:Qp,approxeq:Zp,Aring:Xp,aring:Kp,Ascr:Jp,ascr:eh,Assign:th,ast:nh,asymp:rh,asympeq:sh,Atilde:oh,atilde:ah,Auml:ih,auml:ch,awconint:uh,awint:dh,backcong:lh,backepsilon:fh,backprime:ph,backsim:hh,backsimeq:mh,Backslash:gh,Barv:bh,barvee:vh,barwed:yh,Barwed:wh,barwedge:kh,bbrk:xh,bbrktbrk:Sh,bcong:_h,Bcy:Ch,bcy:Eh,bdquo:Ah,becaus:Th,because:Ph,Because:Ih,bemptyv:Rh,bepsi:Dh,bernou:Lh,Bernoullis:Oh,Beta:Mh,beta:jh,beth:Bh,between:qh,Bfr:zh,bfr:Nh,bigcap:$h,bigcirc:Hh,bigcup:Fh,bigodot:Uh,bigoplus:Vh,bigotimes:Gh,bigsqcup:Wh,bigstar:Yh,bigtriangledown:Qh,bigtriangleup:Zh,biguplus:Xh,bigvee:Kh,bigwedge:Jh,bkarow:em,blacklozenge:tm,blacksquare:nm,blacktriangle:rm,blacktriangledown:sm,blacktriangleleft:om,blacktriangleright:am,blank:im,blk12:cm,blk14:um,blk34:dm,block:lm,bne:fm,bnequiv:pm,bNot:hm,bnot:mm,Bopf:gm,bopf:bm,bot:vm,bottom:ym,bowtie:wm,boxbox:km,boxdl:xm,boxdL:Sm,boxDl:_m,boxDL:Cm,boxdr:Em,boxdR:Am,boxDr:Tm,boxDR:Pm,boxh:Im,boxH:Rm,boxhd:Dm,boxHd:Lm,boxhD:Om,boxHD:Mm,boxhu:jm,boxHu:Bm,boxhU:qm,boxHU:zm,boxminus:Nm,boxplus:$m,boxtimes:Hm,boxul:Fm,boxuL:Um,boxUl:Vm,boxUL:Gm,boxur:Wm,boxuR:Ym,boxUr:Qm,boxUR:Zm,boxv:Xm,boxV:Km,boxvh:Jm,boxvH:eg,boxVh:tg,boxVH:ng,boxvl:rg,boxvL:sg,boxVl:og,boxVL:ag,boxvr:ig,boxvR:cg,boxVr:ug,boxVR:dg,bprime:lg,breve:fg,Breve:pg,brvbar:hg,bscr:mg,Bscr:gg,bsemi:bg,bsim:vg,bsime:yg,bsolb:wg,bsol:kg,bsolhsub:xg,bull:Sg,bullet:_g,bump:Cg,bumpE:Eg,bumpe:Ag,Bumpeq:Tg,bumpeq:Pg,Cacute:Ig,cacute:Rg,capand:Dg,capbrcup:Lg,capcap:Og,cap:Mg,Cap:jg,capcup:Bg,capdot:qg,CapitalDifferentialD:zg,caps:Ng,caret:$g,caron:Hg,Cayleys:Fg,ccaps:Ug,Ccaron:Vg,ccaron:Gg,Ccedil:Wg,ccedil:Yg,Ccirc:Qg,ccirc:Zg,Cconint:Xg,ccups:Kg,ccupssm:Jg,Cdot:eb,cdot:tb,cedil:nb,Cedilla:rb,cemptyv:sb,cent:ob,centerdot:ab,CenterDot:ib,cfr:cb,Cfr:ub,CHcy:db,chcy:lb,check:fb,checkmark:pb,Chi:hb,chi:mb,circ:gb,circeq:bb,circlearrowleft:vb,circlearrowright:yb,circledast:wb,circledcirc:kb,circleddash:xb,CircleDot:Sb,circledR:_b,circledS:Cb,CircleMinus:Eb,CirclePlus:Ab,CircleTimes:Tb,cir:Pb,cirE:Ib,cire:Rb,cirfnint:Db,cirmid:Lb,cirscir:Ob,ClockwiseContourIntegral:Mb,CloseCurlyDoubleQuote:jb,CloseCurlyQuote:Bb,clubs:qb,clubsuit:zb,colon:Nb,Colon:$b,Colone:Hb,colone:Fb,coloneq:Ub,comma:Vb,commat:Gb,comp:Wb,compfn:Yb,complement:Qb,complexes:Zb,cong:Xb,congdot:Kb,Congruent:Jb,conint:ev,Conint:tv,ContourIntegral:nv,copf:rv,Copf:sv,coprod:ov,Coproduct:av,copy:iv,COPY:cv,copysr:uv,CounterClockwiseContourIntegral:dv,crarr:lv,cross:fv,Cross:pv,Cscr:hv,cscr:mv,csub:gv,csube:bv,csup:vv,csupe:yv,ctdot:wv,cudarrl:kv,cudarrr:xv,cuepr:Sv,cuesc:_v,cularr:Cv,cularrp:Ev,cupbrcap:Av,cupcap:Tv,CupCap:Pv,cup:Iv,Cup:Rv,cupcup:Dv,cupdot:Lv,cupor:Ov,cups:Mv,curarr:jv,curarrm:Bv,curlyeqprec:qv,curlyeqsucc:zv,curlyvee:Nv,curlywedge:$v,curren:Hv,curvearrowleft:Fv,curvearrowright:Uv,cuvee:Vv,cuwed:Gv,cwconint:Wv,cwint:Yv,cylcty:Qv,dagger:Zv,Dagger:Xv,daleth:Kv,darr:Jv,Darr:ey,dArr:ty,dash:ny,Dashv:ry,dashv:sy,dbkarow:oy,dblac:ay,Dcaron:iy,dcaron:cy,Dcy:uy,dcy:dy,ddagger:ly,ddarr:fy,DD:py,dd:hy,DDotrahd:my,ddotseq:gy,deg:by,Del:vy,Delta:yy,delta:wy,demptyv:ky,dfisht:xy,Dfr:Sy,dfr:_y,dHar:Cy,dharl:Ey,dharr:Ay,DiacriticalAcute:Ty,DiacriticalDot:Py,DiacriticalDoubleAcute:Iy,DiacriticalGrave:Ry,DiacriticalTilde:Dy,diam:Ly,diamond:Oy,Diamond:My,diamondsuit:jy,diams:By,die:qy,DifferentialD:zy,digamma:Ny,disin:$y,div:Hy,divide:Fy,divideontimes:Uy,divonx:Vy,DJcy:Gy,djcy:Wy,dlcorn:Yy,dlcrop:Qy,dollar:Zy,Dopf:Xy,dopf:Ky,Dot:Jy,dot:ew,DotDot:tw,doteq:nw,doteqdot:rw,DotEqual:sw,dotminus:ow,dotplus:aw,dotsquare:iw,doublebarwedge:cw,DoubleContourIntegral:uw,DoubleDot:dw,DoubleDownArrow:lw,DoubleLeftArrow:fw,DoubleLeftRightArrow:pw,DoubleLeftTee:hw,DoubleLongLeftArrow:mw,DoubleLongLeftRightArrow:gw,DoubleLongRightArrow:bw,DoubleRightArrow:vw,DoubleRightTee:yw,DoubleUpArrow:ww,DoubleUpDownArrow:kw,DoubleVerticalBar:xw,DownArrowBar:Sw,downarrow:_w,DownArrow:Cw,Downarrow:Ew,DownArrowUpArrow:Aw,DownBreve:Tw,downdownarrows:Pw,downharpoonleft:Iw,downharpoonright:Rw,DownLeftRightVector:Dw,DownLeftTeeVector:Lw,DownLeftVectorBar:Ow,DownLeftVector:Mw,DownRightTeeVector:jw,DownRightVectorBar:Bw,DownRightVector:qw,DownTeeArrow:zw,DownTee:Nw,drbkarow:$w,drcorn:Hw,drcrop:Fw,Dscr:Uw,dscr:Vw,DScy:Gw,dscy:Ww,dsol:Yw,Dstrok:Qw,dstrok:Zw,dtdot:Xw,dtri:Kw,dtrif:Jw,duarr:e0,duhar:t0,dwangle:n0,DZcy:r0,dzcy:s0,dzigrarr:o0,Eacute:a0,eacute:i0,easter:c0,Ecaron:u0,ecaron:d0,Ecirc:l0,ecirc:f0,ecir:p0,ecolon:h0,Ecy:m0,ecy:g0,eDDot:b0,Edot:v0,edot:y0,eDot:w0,ee:k0,efDot:x0,Efr:S0,efr:_0,eg:C0,Egrave:E0,egrave:A0,egs:T0,egsdot:P0,el:I0,Element:R0,elinters:D0,ell:L0,els:O0,elsdot:M0,Emacr:j0,emacr:B0,empty:q0,emptyset:z0,EmptySmallSquare:N0,emptyv:$0,EmptyVerySmallSquare:H0,emsp13:F0,emsp14:U0,emsp:V0,ENG:G0,eng:W0,ensp:Y0,Eogon:Q0,eogon:Z0,Eopf:X0,eopf:K0,epar:J0,eparsl:e1,eplus:t1,epsi:n1,Epsilon:r1,epsilon:s1,epsiv:o1,eqcirc:a1,eqcolon:i1,eqsim:c1,eqslantgtr:u1,eqslantless:d1,Equal:l1,equals:f1,EqualTilde:p1,equest:h1,Equilibrium:m1,equiv:g1,equivDD:b1,eqvparsl:v1,erarr:y1,erDot:w1,escr:k1,Escr:x1,esdot:S1,Esim:_1,esim:C1,Eta:E1,eta:A1,ETH:T1,eth:P1,Euml:I1,euml:R1,euro:D1,excl:L1,exist:O1,Exists:M1,expectation:j1,exponentiale:B1,ExponentialE:q1,fallingdotseq:z1,Fcy:N1,fcy:$1,female:H1,ffilig:F1,fflig:U1,ffllig:V1,Ffr:G1,ffr:W1,filig:Y1,FilledSmallSquare:Q1,FilledVerySmallSquare:Z1,fjlig:X1,flat:K1,fllig:J1,fltns:ek,fnof:tk,Fopf:nk,fopf:rk,forall:sk,ForAll:ok,fork:ak,forkv:ik,Fouriertrf:ck,fpartint:uk,frac12:dk,frac13:lk,frac14:fk,frac15:pk,frac16:hk,frac18:mk,frac23:gk,frac25:bk,frac34:vk,frac35:yk,frac38:wk,frac45:kk,frac56:xk,frac58:Sk,frac78:_k,frasl:Ck,frown:Ek,fscr:Ak,Fscr:Tk,gacute:Pk,Gamma:Ik,gamma:Rk,Gammad:Dk,gammad:Lk,gap:Ok,Gbreve:Mk,gbreve:jk,Gcedil:Bk,Gcirc:qk,gcirc:zk,Gcy:Nk,gcy:$k,Gdot:Hk,gdot:Fk,ge:Uk,gE:Vk,gEl:Gk,gel:Wk,geq:Yk,geqq:Qk,geqslant:Zk,gescc:Xk,ges:Kk,gesdot:Jk,gesdoto:e3,gesdotol:t3,gesl:n3,gesles:r3,Gfr:s3,gfr:o3,gg:a3,Gg:i3,ggg:c3,gimel:u3,GJcy:d3,gjcy:l3,gla:f3,gl:p3,glE:h3,glj:m3,gnap:g3,gnapprox:b3,gne:v3,gnE:y3,gneq:w3,gneqq:k3,gnsim:x3,Gopf:S3,gopf:_3,grave:C3,GreaterEqual:E3,GreaterEqualLess:A3,GreaterFullEqual:T3,GreaterGreater:P3,GreaterLess:I3,GreaterSlantEqual:R3,GreaterTilde:D3,Gscr:L3,gscr:O3,gsim:M3,gsime:j3,gsiml:B3,gtcc:q3,gtcir:z3,gt:N3,GT:$3,Gt:H3,gtdot:F3,gtlPar:U3,gtquest:V3,gtrapprox:G3,gtrarr:W3,gtrdot:Y3,gtreqless:Q3,gtreqqless:Z3,gtrless:X3,gtrsim:K3,gvertneqq:J3,gvnE:e8,Hacek:t8,hairsp:n8,half:r8,hamilt:s8,HARDcy:o8,hardcy:a8,harrcir:i8,harr:c8,hArr:u8,harrw:d8,Hat:l8,hbar:f8,Hcirc:p8,hcirc:h8,hearts:m8,heartsuit:g8,hellip:b8,hercon:v8,hfr:y8,Hfr:w8,HilbertSpace:k8,hksearow:x8,hkswarow:S8,hoarr:_8,homtht:C8,hookleftarrow:E8,hookrightarrow:A8,hopf:T8,Hopf:P8,horbar:I8,HorizontalLine:R8,hscr:D8,Hscr:L8,hslash:O8,Hstrok:M8,hstrok:j8,HumpDownHump:B8,HumpEqual:q8,hybull:z8,hyphen:N8,Iacute:$8,iacute:H8,ic:F8,Icirc:U8,icirc:V8,Icy:G8,icy:W8,Idot:Y8,IEcy:Q8,iecy:Z8,iexcl:X8,iff:K8,ifr:J8,Ifr:ex,Igrave:tx,igrave:nx,ii:rx,iiiint:sx,iiint:ox,iinfin:ax,iiota:ix,IJlig:cx,ijlig:ux,Imacr:dx,imacr:lx,image:fx,ImaginaryI:px,imagline:hx,imagpart:mx,imath:gx,Im:bx,imof:vx,imped:yx,Implies:wx,incare:kx,in:"∈",infin:xx,infintie:Sx,inodot:_x,intcal:Cx,int:Ex,Int:Ax,integers:Tx,Integral:Px,intercal:Ix,Intersection:Rx,intlarhk:Dx,intprod:Lx,InvisibleComma:Ox,InvisibleTimes:Mx,IOcy:jx,iocy:Bx,Iogon:qx,iogon:zx,Iopf:Nx,iopf:$x,Iota:Hx,iota:Fx,iprod:Ux,iquest:Vx,iscr:Gx,Iscr:Wx,isin:Yx,isindot:Qx,isinE:Zx,isins:Xx,isinsv:Kx,isinv:Jx,it:eS,Itilde:tS,itilde:nS,Iukcy:rS,iukcy:sS,Iuml:oS,iuml:aS,Jcirc:iS,jcirc:cS,Jcy:uS,jcy:dS,Jfr:lS,jfr:fS,jmath:pS,Jopf:hS,jopf:mS,Jscr:gS,jscr:bS,Jsercy:vS,jsercy:yS,Jukcy:wS,jukcy:kS,Kappa:xS,kappa:SS,kappav:_S,Kcedil:CS,kcedil:ES,Kcy:AS,kcy:TS,Kfr:PS,kfr:IS,kgreen:RS,KHcy:DS,khcy:LS,KJcy:OS,kjcy:MS,Kopf:jS,kopf:BS,Kscr:qS,kscr:zS,lAarr:NS,Lacute:$S,lacute:HS,laemptyv:FS,lagran:US,Lambda:VS,lambda:GS,lang:WS,Lang:YS,langd:QS,langle:ZS,lap:XS,Laplacetrf:KS,laquo:JS,larrb:e_,larrbfs:t_,larr:n_,Larr:r_,lArr:s_,larrfs:o_,larrhk:a_,larrlp:i_,larrpl:c_,larrsim:u_,larrtl:d_,latail:l_,lAtail:f_,lat:p_,late:h_,lates:m_,lbarr:g_,lBarr:b_,lbbrk:v_,lbrace:y_,lbrack:w_,lbrke:k_,lbrksld:x_,lbrkslu:S_,Lcaron:__,lcaron:C_,Lcedil:E_,lcedil:A_,lceil:T_,lcub:P_,Lcy:I_,lcy:R_,ldca:D_,ldquo:L_,ldquor:O_,ldrdhar:M_,ldrushar:j_,ldsh:B_,le:q_,lE:z_,LeftAngleBracket:N_,LeftArrowBar:$_,leftarrow:H_,LeftArrow:F_,Leftarrow:U_,LeftArrowRightArrow:V_,leftarrowtail:G_,LeftCeiling:W_,LeftDoubleBracket:Y_,LeftDownTeeVector:Q_,LeftDownVectorBar:Z_,LeftDownVector:X_,LeftFloor:K_,leftharpoondown:J_,leftharpoonup:eC,leftleftarrows:tC,leftrightarrow:nC,LeftRightArrow:rC,Leftrightarrow:sC,leftrightarrows:oC,leftrightharpoons:aC,leftrightsquigarrow:iC,LeftRightVector:cC,LeftTeeArrow:uC,LeftTee:dC,LeftTeeVector:lC,leftthreetimes:fC,LeftTriangleBar:pC,LeftTriangle:hC,LeftTriangleEqual:mC,LeftUpDownVector:gC,LeftUpTeeVector:bC,LeftUpVectorBar:vC,LeftUpVector:yC,LeftVectorBar:wC,LeftVector:kC,lEg:xC,leg:SC,leq:_C,leqq:CC,leqslant:EC,lescc:AC,les:TC,lesdot:PC,lesdoto:IC,lesdotor:RC,lesg:DC,lesges:LC,lessapprox:OC,lessdot:MC,lesseqgtr:jC,lesseqqgtr:BC,LessEqualGreater:qC,LessFullEqual:zC,LessGreater:NC,lessgtr:$C,LessLess:HC,lesssim:FC,LessSlantEqual:UC,LessTilde:VC,lfisht:GC,lfloor:WC,Lfr:YC,lfr:QC,lg:ZC,lgE:XC,lHar:KC,lhard:JC,lharu:e2,lharul:t2,lhblk:n2,LJcy:r2,ljcy:s2,llarr:o2,ll:a2,Ll:i2,llcorner:c2,Lleftarrow:u2,llhard:d2,lltri:l2,Lmidot:f2,lmidot:p2,lmoustache:h2,lmoust:m2,lnap:g2,lnapprox:b2,lne:v2,lnE:y2,lneq:w2,lneqq:k2,lnsim:x2,loang:S2,loarr:_2,lobrk:C2,longleftarrow:E2,LongLeftArrow:A2,Longleftarrow:T2,longleftrightarrow:P2,LongLeftRightArrow:I2,Longleftrightarrow:R2,longmapsto:D2,longrightarrow:L2,LongRightArrow:O2,Longrightarrow:M2,looparrowleft:j2,looparrowright:B2,lopar:q2,Lopf:z2,lopf:N2,loplus:$2,lotimes:H2,lowast:F2,lowbar:U2,LowerLeftArrow:V2,LowerRightArrow:G2,loz:W2,lozenge:Y2,lozf:Q2,lpar:Z2,lparlt:X2,lrarr:K2,lrcorner:J2,lrhar:eE,lrhard:tE,lrm:nE,lrtri:rE,lsaquo:sE,lscr:oE,Lscr:aE,lsh:iE,Lsh:cE,lsim:uE,lsime:dE,lsimg:lE,lsqb:fE,lsquo:pE,lsquor:hE,Lstrok:mE,lstrok:gE,ltcc:bE,ltcir:vE,lt:yE,LT:wE,Lt:kE,ltdot:xE,lthree:SE,ltimes:_E,ltlarr:CE,ltquest:EE,ltri:AE,ltrie:TE,ltrif:PE,ltrPar:IE,lurdshar:RE,luruhar:DE,lvertneqq:LE,lvnE:OE,macr:ME,male:jE,malt:BE,maltese:qE,Map:"⤅",map:zE,mapsto:NE,mapstodown:$E,mapstoleft:HE,mapstoup:FE,marker:UE,mcomma:VE,Mcy:GE,mcy:WE,mdash:YE,mDDot:QE,measuredangle:ZE,MediumSpace:XE,Mellintrf:KE,Mfr:JE,mfr:eA,mho:tA,micro:nA,midast:rA,midcir:sA,mid:oA,middot:aA,minusb:iA,minus:cA,minusd:uA,minusdu:dA,MinusPlus:lA,mlcp:fA,mldr:pA,mnplus:hA,models:mA,Mopf:gA,mopf:bA,mp:vA,mscr:yA,Mscr:wA,mstpos:kA,Mu:xA,mu:SA,multimap:_A,mumap:CA,nabla:EA,Nacute:AA,nacute:TA,nang:PA,nap:IA,napE:RA,napid:DA,napos:LA,napprox:OA,natural:MA,naturals:jA,natur:BA,nbsp:qA,nbump:zA,nbumpe:NA,ncap:$A,Ncaron:HA,ncaron:FA,Ncedil:UA,ncedil:VA,ncong:GA,ncongdot:WA,ncup:YA,Ncy:QA,ncy:ZA,ndash:XA,nearhk:KA,nearr:JA,neArr:eT,nearrow:tT,ne:nT,nedot:rT,NegativeMediumSpace:sT,NegativeThickSpace:oT,NegativeThinSpace:aT,NegativeVeryThinSpace:iT,nequiv:cT,nesear:uT,nesim:dT,NestedGreaterGreater:lT,NestedLessLess:fT,NewLine:pT,nexist:hT,nexists:mT,Nfr:gT,nfr:bT,ngE:vT,nge:yT,ngeq:wT,ngeqq:kT,ngeqslant:xT,nges:ST,nGg:_T,ngsim:CT,nGt:ET,ngt:AT,ngtr:TT,nGtv:PT,nharr:IT,nhArr:RT,nhpar:DT,ni:LT,nis:OT,nisd:MT,niv:jT,NJcy:BT,njcy:qT,nlarr:zT,nlArr:NT,nldr:$T,nlE:HT,nle:FT,nleftarrow:UT,nLeftarrow:VT,nleftrightarrow:GT,nLeftrightarrow:WT,nleq:YT,nleqq:QT,nleqslant:ZT,nles:XT,nless:KT,nLl:JT,nlsim:eP,nLt:tP,nlt:nP,nltri:rP,nltrie:sP,nLtv:oP,nmid:aP,NoBreak:iP,NonBreakingSpace:cP,nopf:uP,Nopf:dP,Not:lP,not:fP,NotCongruent:pP,NotCupCap:hP,NotDoubleVerticalBar:mP,NotElement:gP,NotEqual:bP,NotEqualTilde:vP,NotExists:yP,NotGreater:wP,NotGreaterEqual:kP,NotGreaterFullEqual:xP,NotGreaterGreater:SP,NotGreaterLess:_P,NotGreaterSlantEqual:CP,NotGreaterTilde:EP,NotHumpDownHump:AP,NotHumpEqual:TP,notin:PP,notindot:IP,notinE:RP,notinva:DP,notinvb:LP,notinvc:OP,NotLeftTriangleBar:MP,NotLeftTriangle:jP,NotLeftTriangleEqual:BP,NotLess:qP,NotLessEqual:zP,NotLessGreater:NP,NotLessLess:$P,NotLessSlantEqual:HP,NotLessTilde:FP,NotNestedGreaterGreater:UP,NotNestedLessLess:VP,notni:GP,notniva:WP,notnivb:YP,notnivc:QP,NotPrecedes:ZP,NotPrecedesEqual:XP,NotPrecedesSlantEqual:KP,NotReverseElement:JP,NotRightTriangleBar:eI,NotRightTriangle:tI,NotRightTriangleEqual:nI,NotSquareSubset:rI,NotSquareSubsetEqual:sI,NotSquareSuperset:oI,NotSquareSupersetEqual:aI,NotSubset:iI,NotSubsetEqual:cI,NotSucceeds:uI,NotSucceedsEqual:dI,NotSucceedsSlantEqual:lI,NotSucceedsTilde:fI,NotSuperset:pI,NotSupersetEqual:hI,NotTilde:mI,NotTildeEqual:gI,NotTildeFullEqual:bI,NotTildeTilde:vI,NotVerticalBar:yI,nparallel:wI,npar:kI,nparsl:xI,npart:SI,npolint:_I,npr:CI,nprcue:EI,nprec:AI,npreceq:TI,npre:PI,nrarrc:II,nrarr:RI,nrArr:DI,nrarrw:LI,nrightarrow:OI,nRightarrow:MI,nrtri:jI,nrtrie:BI,nsc:qI,nsccue:zI,nsce:NI,Nscr:$I,nscr:HI,nshortmid:FI,nshortparallel:UI,nsim:VI,nsime:GI,nsimeq:WI,nsmid:YI,nspar:QI,nsqsube:ZI,nsqsupe:XI,nsub:KI,nsubE:JI,nsube:e4,nsubset:t4,nsubseteq:n4,nsubseteqq:r4,nsucc:s4,nsucceq:o4,nsup:a4,nsupE:i4,nsupe:c4,nsupset:u4,nsupseteq:d4,nsupseteqq:l4,ntgl:f4,Ntilde:p4,ntilde:h4,ntlg:m4,ntriangleleft:g4,ntrianglelefteq:b4,ntriangleright:v4,ntrianglerighteq:y4,Nu:w4,nu:k4,num:x4,numero:S4,numsp:_4,nvap:C4,nvdash:E4,nvDash:A4,nVdash:T4,nVDash:P4,nvge:I4,nvgt:R4,nvHarr:D4,nvinfin:L4,nvlArr:O4,nvle:M4,nvlt:j4,nvltrie:B4,nvrArr:q4,nvrtrie:z4,nvsim:N4,nwarhk:$4,nwarr:H4,nwArr:F4,nwarrow:U4,nwnear:V4,Oacute:G4,oacute:W4,oast:Y4,Ocirc:Q4,ocirc:Z4,ocir:X4,Ocy:K4,ocy:J4,odash:e6,Odblac:t6,odblac:n6,odiv:r6,odot:s6,odsold:o6,OElig:a6,oelig:i6,ofcir:c6,Ofr:u6,ofr:d6,ogon:l6,Ograve:f6,ograve:p6,ogt:h6,ohbar:m6,ohm:g6,oint:b6,olarr:v6,olcir:y6,olcross:w6,oline:k6,olt:x6,Omacr:S6,omacr:_6,Omega:C6,omega:E6,Omicron:A6,omicron:T6,omid:P6,ominus:I6,Oopf:R6,oopf:D6,opar:L6,OpenCurlyDoubleQuote:O6,OpenCurlyQuote:M6,operp:j6,oplus:B6,orarr:q6,Or:z6,or:N6,ord:$6,order:H6,orderof:F6,ordf:U6,ordm:V6,origof:G6,oror:W6,orslope:Y6,orv:Q6,oS:Z6,Oscr:X6,oscr:K6,Oslash:J6,oslash:eR,osol:tR,Otilde:nR,otilde:rR,otimesas:sR,Otimes:oR,otimes:aR,Ouml:iR,ouml:cR,ovbar:uR,OverBar:dR,OverBrace:lR,OverBracket:fR,OverParenthesis:pR,para:hR,parallel:mR,par:gR,parsim:bR,parsl:vR,part:yR,PartialD:wR,Pcy:kR,pcy:xR,percnt:SR,period:_R,permil:CR,perp:ER,pertenk:AR,Pfr:TR,pfr:PR,Phi:IR,phi:RR,phiv:DR,phmmat:LR,phone:OR,Pi:MR,pi:jR,pitchfork:BR,piv:qR,planck:zR,planckh:NR,plankv:$R,plusacir:HR,plusb:FR,pluscir:UR,plus:VR,plusdo:GR,plusdu:WR,pluse:YR,PlusMinus:QR,plusmn:ZR,plussim:XR,plustwo:KR,pm:JR,Poincareplane:eD,pointint:tD,popf:nD,Popf:rD,pound:sD,prap:oD,Pr:aD,pr:iD,prcue:cD,precapprox:uD,prec:dD,preccurlyeq:lD,Precedes:fD,PrecedesEqual:pD,PrecedesSlantEqual:hD,PrecedesTilde:mD,preceq:gD,precnapprox:bD,precneqq:vD,precnsim:yD,pre:wD,prE:kD,precsim:xD,prime:SD,Prime:_D,primes:CD,prnap:ED,prnE:AD,prnsim:TD,prod:PD,Product:ID,profalar:RD,profline:DD,profsurf:LD,prop:OD,Proportional:MD,Proportion:jD,propto:BD,prsim:qD,prurel:zD,Pscr:ND,pscr:$D,Psi:HD,psi:FD,puncsp:UD,Qfr:VD,qfr:GD,qint:WD,qopf:YD,Qopf:QD,qprime:ZD,Qscr:XD,qscr:KD,quaternions:JD,quatint:e5,quest:t5,questeq:n5,quot:r5,QUOT:s5,rAarr:o5,race:a5,Racute:i5,racute:c5,radic:u5,raemptyv:d5,rang:l5,Rang:f5,rangd:p5,range:h5,rangle:m5,raquo:g5,rarrap:b5,rarrb:v5,rarrbfs:y5,rarrc:w5,rarr:k5,Rarr:x5,rArr:S5,rarrfs:_5,rarrhk:C5,rarrlp:E5,rarrpl:A5,rarrsim:T5,Rarrtl:P5,rarrtl:I5,rarrw:R5,ratail:D5,rAtail:L5,ratio:O5,rationals:M5,rbarr:j5,rBarr:B5,RBarr:q5,rbbrk:z5,rbrace:N5,rbrack:$5,rbrke:H5,rbrksld:F5,rbrkslu:U5,Rcaron:V5,rcaron:G5,Rcedil:W5,rcedil:Y5,rceil:Q5,rcub:Z5,Rcy:X5,rcy:K5,rdca:J5,rdldhar:eL,rdquo:tL,rdquor:nL,rdsh:rL,real:sL,realine:oL,realpart:aL,reals:iL,Re:cL,rect:uL,reg:dL,REG:lL,ReverseElement:fL,ReverseEquilibrium:pL,ReverseUpEquilibrium:hL,rfisht:mL,rfloor:gL,rfr:bL,Rfr:vL,rHar:yL,rhard:wL,rharu:kL,rharul:xL,Rho:SL,rho:_L,rhov:CL,RightAngleBracket:EL,RightArrowBar:AL,rightarrow:TL,RightArrow:PL,Rightarrow:IL,RightArrowLeftArrow:RL,rightarrowtail:DL,RightCeiling:LL,RightDoubleBracket:OL,RightDownTeeVector:ML,RightDownVectorBar:jL,RightDownVector:BL,RightFloor:qL,rightharpoondown:zL,rightharpoonup:NL,rightleftarrows:$L,rightleftharpoons:HL,rightrightarrows:FL,rightsquigarrow:UL,RightTeeArrow:VL,RightTee:GL,RightTeeVector:WL,rightthreetimes:YL,RightTriangleBar:QL,RightTriangle:ZL,RightTriangleEqual:XL,RightUpDownVector:KL,RightUpTeeVector:JL,RightUpVectorBar:eO,RightUpVector:tO,RightVectorBar:nO,RightVector:rO,ring:sO,risingdotseq:oO,rlarr:aO,rlhar:iO,rlm:cO,rmoustache:uO,rmoust:dO,rnmid:lO,roang:fO,roarr:pO,robrk:hO,ropar:mO,ropf:gO,Ropf:bO,roplus:vO,rotimes:yO,RoundImplies:wO,rpar:kO,rpargt:xO,rppolint:SO,rrarr:_O,Rrightarrow:CO,rsaquo:EO,rscr:AO,Rscr:TO,rsh:PO,Rsh:IO,rsqb:RO,rsquo:DO,rsquor:LO,rthree:OO,rtimes:MO,rtri:jO,rtrie:BO,rtrif:qO,rtriltri:zO,RuleDelayed:NO,ruluhar:$O,rx:HO,Sacute:FO,sacute:UO,sbquo:VO,scap:GO,Scaron:WO,scaron:YO,Sc:QO,sc:ZO,sccue:XO,sce:KO,scE:JO,Scedil:eM,scedil:tM,Scirc:nM,scirc:rM,scnap:sM,scnE:oM,scnsim:aM,scpolint:iM,scsim:cM,Scy:uM,scy:dM,sdotb:lM,sdot:fM,sdote:pM,searhk:hM,searr:mM,seArr:gM,searrow:bM,sect:vM,semi:yM,seswar:wM,setminus:kM,setmn:xM,sext:SM,Sfr:_M,sfr:CM,sfrown:EM,sharp:AM,SHCHcy:TM,shchcy:PM,SHcy:IM,shcy:RM,ShortDownArrow:DM,ShortLeftArrow:LM,shortmid:OM,shortparallel:MM,ShortRightArrow:jM,ShortUpArrow:BM,shy:qM,Sigma:zM,sigma:NM,sigmaf:$M,sigmav:HM,sim:FM,simdot:UM,sime:VM,simeq:GM,simg:WM,simgE:YM,siml:QM,simlE:ZM,simne:XM,simplus:KM,simrarr:JM,slarr:ej,SmallCircle:tj,smallsetminus:nj,smashp:rj,smeparsl:sj,smid:oj,smile:aj,smt:ij,smte:cj,smtes:uj,SOFTcy:dj,softcy:lj,solbar:fj,solb:pj,sol:hj,Sopf:mj,sopf:gj,spades:bj,spadesuit:vj,spar:yj,sqcap:wj,sqcaps:kj,sqcup:xj,sqcups:Sj,Sqrt:_j,sqsub:Cj,sqsube:Ej,sqsubset:Aj,sqsubseteq:Tj,sqsup:Pj,sqsupe:Ij,sqsupset:Rj,sqsupseteq:Dj,square:Lj,Square:Oj,SquareIntersection:Mj,SquareSubset:jj,SquareSubsetEqual:Bj,SquareSuperset:qj,SquareSupersetEqual:zj,SquareUnion:Nj,squarf:$j,squ:Hj,squf:Fj,srarr:Uj,Sscr:Vj,sscr:Gj,ssetmn:Wj,ssmile:Yj,sstarf:Qj,Star:Zj,star:Xj,starf:Kj,straightepsilon:Jj,straightphi:e9,strns:t9,sub:n9,Sub:r9,subdot:s9,subE:o9,sube:a9,subedot:i9,submult:c9,subnE:u9,subne:d9,subplus:l9,subrarr:f9,subset:p9,Subset:h9,subseteq:m9,subseteqq:g9,SubsetEqual:b9,subsetneq:v9,subsetneqq:y9,subsim:w9,subsub:k9,subsup:x9,succapprox:S9,succ:_9,succcurlyeq:C9,Succeeds:E9,SucceedsEqual:A9,SucceedsSlantEqual:T9,SucceedsTilde:P9,succeq:I9,succnapprox:R9,succneqq:D9,succnsim:L9,succsim:O9,SuchThat:M9,sum:j9,Sum:B9,sung:q9,sup1:z9,sup2:N9,sup3:$9,sup:H9,Sup:F9,supdot:U9,supdsub:V9,supE:G9,supe:W9,supedot:Y9,Superset:Q9,SupersetEqual:Z9,suphsol:X9,suphsub:K9,suplarr:J9,supmult:eB,supnE:tB,supne:nB,supplus:rB,supset:sB,Supset:oB,supseteq:aB,supseteqq:iB,supsetneq:cB,supsetneqq:uB,supsim:dB,supsub:lB,supsup:fB,swarhk:pB,swarr:hB,swArr:mB,swarrow:gB,swnwar:bB,szlig:vB,Tab:yB,target:wB,Tau:kB,tau:xB,tbrk:SB,Tcaron:_B,tcaron:CB,Tcedil:EB,tcedil:AB,Tcy:TB,tcy:PB,tdot:IB,telrec:RB,Tfr:DB,tfr:LB,there4:OB,therefore:MB,Therefore:jB,Theta:BB,theta:qB,thetasym:zB,thetav:NB,thickapprox:$B,thicksim:HB,ThickSpace:FB,ThinSpace:UB,thinsp:VB,thkap:GB,thksim:WB,THORN:YB,thorn:QB,tilde:ZB,Tilde:XB,TildeEqual:KB,TildeFullEqual:JB,TildeTilde:e7,timesbar:t7,timesb:n7,times:r7,timesd:s7,tint:o7,toea:a7,topbot:i7,topcir:c7,top:u7,Topf:d7,topf:l7,topfork:f7,tosa:p7,tprime:h7,trade:m7,TRADE:g7,triangle:b7,triangledown:v7,triangleleft:y7,trianglelefteq:w7,triangleq:k7,triangleright:x7,trianglerighteq:S7,tridot:_7,trie:C7,triminus:E7,TripleDot:A7,triplus:T7,trisb:P7,tritime:I7,trpezium:R7,Tscr:D7,tscr:L7,TScy:O7,tscy:M7,TSHcy:j7,tshcy:B7,Tstrok:q7,tstrok:z7,twixt:N7,twoheadleftarrow:$7,twoheadrightarrow:H7,Uacute:F7,uacute:U7,uarr:V7,Uarr:G7,uArr:W7,Uarrocir:Y7,Ubrcy:Q7,ubrcy:Z7,Ubreve:X7,ubreve:K7,Ucirc:J7,ucirc:eq,Ucy:tq,ucy:nq,udarr:rq,Udblac:sq,udblac:oq,udhar:aq,ufisht:iq,Ufr:cq,ufr:uq,Ugrave:dq,ugrave:lq,uHar:fq,uharl:pq,uharr:hq,uhblk:mq,ulcorn:gq,ulcorner:bq,ulcrop:vq,ultri:yq,Umacr:wq,umacr:kq,uml:xq,UnderBar:Sq,UnderBrace:_q,UnderBracket:Cq,UnderParenthesis:Eq,Union:Aq,UnionPlus:Tq,Uogon:Pq,uogon:Iq,Uopf:Rq,uopf:Dq,UpArrowBar:Lq,uparrow:Oq,UpArrow:Mq,Uparrow:jq,UpArrowDownArrow:Bq,updownarrow:qq,UpDownArrow:zq,Updownarrow:Nq,UpEquilibrium:$q,upharpoonleft:Hq,upharpoonright:Fq,uplus:Uq,UpperLeftArrow:Vq,UpperRightArrow:Gq,upsi:Wq,Upsi:Yq,upsih:Qq,Upsilon:Zq,upsilon:Xq,UpTeeArrow:Kq,UpTee:Jq,upuparrows:ez,urcorn:tz,urcorner:nz,urcrop:rz,Uring:sz,uring:oz,urtri:az,Uscr:iz,uscr:cz,utdot:uz,Utilde:dz,utilde:lz,utri:fz,utrif:pz,uuarr:hz,Uuml:mz,uuml:gz,uwangle:bz,vangrt:vz,varepsilon:yz,varkappa:wz,varnothing:kz,varphi:xz,varpi:Sz,varpropto:_z,varr:Cz,vArr:Ez,varrho:Az,varsigma:Tz,varsubsetneq:Pz,varsubsetneqq:Iz,varsupsetneq:Rz,varsupsetneqq:Dz,vartheta:Lz,vartriangleleft:Oz,vartriangleright:Mz,vBar:jz,Vbar:Bz,vBarv:qz,Vcy:zz,vcy:Nz,vdash:$z,vDash:Hz,Vdash:Fz,VDash:Uz,Vdashl:Vz,veebar:Gz,vee:Wz,Vee:Yz,veeeq:Qz,vellip:Zz,verbar:Xz,Verbar:Kz,vert:Jz,Vert:eN,VerticalBar:tN,VerticalLine:nN,VerticalSeparator:rN,VerticalTilde:sN,VeryThinSpace:oN,Vfr:aN,vfr:iN,vltri:cN,vnsub:uN,vnsup:dN,Vopf:lN,vopf:fN,vprop:pN,vrtri:hN,Vscr:mN,vscr:gN,vsubnE:bN,vsubne:vN,vsupnE:yN,vsupne:wN,Vvdash:kN,vzigzag:xN,Wcirc:SN,wcirc:_N,wedbar:CN,wedge:EN,Wedge:AN,wedgeq:TN,weierp:PN,Wfr:IN,wfr:RN,Wopf:DN,wopf:LN,wp:ON,wr:MN,wreath:jN,Wscr:BN,wscr:qN,xcap:zN,xcirc:NN,xcup:$N,xdtri:HN,Xfr:FN,xfr:UN,xharr:VN,xhArr:GN,Xi:WN,xi:YN,xlarr:QN,xlArr:ZN,xmap:XN,xnis:KN,xodot:JN,Xopf:e$,xopf:t$,xoplus:n$,xotime:r$,xrarr:s$,xrArr:o$,Xscr:a$,xscr:i$,xsqcup:c$,xuplus:u$,xutri:d$,xvee:l$,xwedge:f$,Yacute:p$,yacute:h$,YAcy:m$,yacy:g$,Ycirc:b$,ycirc:v$,Ycy:y$,ycy:w$,yen:k$,Yfr:x$,yfr:S$,YIcy:_$,yicy:C$,Yopf:E$,yopf:A$,Yscr:T$,yscr:P$,YUcy:I$,yucy:R$,yuml:D$,Yuml:L$,Zacute:O$,zacute:M$,Zcaron:j$,zcaron:B$,Zcy:q$,zcy:z$,Zdot:N$,zdot:$$,zeetrf:H$,ZeroWidthSpace:F$,Zeta:U$,zeta:V$,zfr:G$,Zfr:W$,ZHcy:Y$,zhcy:Q$,zigrarr:Z$,zopf:X$,Zopf:K$,Zscr:J$,zscr:eH,zwj:tH,zwnj:nH},rH="Á",sH="á",oH="Â",aH="â",iH="´",cH="Æ",uH="æ",dH="À",lH="à",fH="&",pH="&",hH="Å",mH="å",gH="Ã",bH="ã",vH="Ä",yH="ä",wH="¦",kH="Ç",xH="ç",SH="¸",_H="¢",CH="©",EH="©",AH="¤",TH="°",PH="÷",IH="É",RH="é",DH="Ê",LH="ê",OH="È",MH="è",jH="Ð",BH="ð",qH="Ë",zH="ë",NH="½",$H="¼",HH="¾",FH=">",UH=">",VH="Í",GH="í",WH="Î",YH="î",QH="¡",ZH="Ì",XH="ì",KH="¿",JH="Ï",eF="ï",tF="«",nF="<",rF="<",sF="¯",oF="µ",aF="·",iF=" ",cF="¬",uF="Ñ",dF="ñ",lF="Ó",fF="ó",pF="Ô",hF="ô",mF="Ò",gF="ò",bF="ª",vF="º",yF="Ø",wF="ø",kF="Õ",xF="õ",SF="Ö",_F="ö",CF="¶",EF="±",AF="£",TF='"',PF='"',IF="»",RF="®",DF="®",LF="§",OF="­",MF="¹",jF="²",BF="³",qF="ß",zF="Þ",NF="þ",$F="×",HF="Ú",FF="ú",UF="Û",VF="û",GF="Ù",WF="ù",YF="¨",QF="Ü",ZF="ü",XF="Ý",KF="ý",JF="¥",eU="ÿ",Ui={Aacute:rH,aacute:sH,Acirc:oH,acirc:aH,acute:iH,AElig:cH,aelig:uH,Agrave:dH,agrave:lH,amp:fH,AMP:pH,Aring:hH,aring:mH,Atilde:gH,atilde:bH,Auml:vH,auml:yH,brvbar:wH,Ccedil:kH,ccedil:xH,cedil:SH,cent:_H,copy:CH,COPY:EH,curren:AH,deg:TH,divide:PH,Eacute:IH,eacute:RH,Ecirc:DH,ecirc:LH,Egrave:OH,egrave:MH,ETH:jH,eth:BH,Euml:qH,euml:zH,frac12:NH,frac14:$H,frac34:HH,gt:FH,GT:UH,Iacute:VH,iacute:GH,Icirc:WH,icirc:YH,iexcl:QH,Igrave:ZH,igrave:XH,iquest:KH,Iuml:JH,iuml:eF,laquo:tF,lt:nF,LT:rF,macr:sF,micro:oF,middot:aF,nbsp:iF,not:cF,Ntilde:uF,ntilde:dF,Oacute:lF,oacute:fF,Ocirc:pF,ocirc:hF,Ograve:mF,ograve:gF,ordf:bF,ordm:vF,Oslash:yF,oslash:wF,Otilde:kF,otilde:xF,Ouml:SF,ouml:_F,para:CF,plusmn:EF,pound:AF,quot:TF,QUOT:PF,raquo:IF,reg:RF,REG:DF,sect:LF,shy:OF,sup1:MF,sup2:jF,sup3:BF,szlig:qF,THORN:zF,thorn:NF,times:$F,Uacute:HF,uacute:FF,Ucirc:UF,ucirc:VF,Ugrave:GF,ugrave:WF,uml:YF,Uuml:QF,uuml:ZF,Yacute:XF,yacute:KF,yen:JF,yuml:eU},tU="&",nU="'",rU=">",sU="<",oU='"',Fs={amp:tU,apos:nU,gt:rU,lt:sU,quot:oU};var yr=te&&te.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(br,"__esModule",{value:!0});var aU=yr(vr),iU=yr(Hs),Ur=yr(Ui),cU=yr(Fs);function We(n){return n===" "||n===`
`||n==="	"||n==="\f"||n==="\r"}function ya(n){return n>="a"&&n<="z"||n>="A"&&n<="Z"}function qe(n,e,t){var r=n.toLowerCase();return n===r?function(s,o){o===r?s._state=e:(s._state=t,s._index--)}:function(s,o){o===r||o===n?s._state=e:(s._state=t,s._index--)}}function at(n,e){var t=n.toLowerCase();return function(r,s){s===t||s===n?r._state=e:(r._state=3,r._index--)}}var uU=qe("C",24,16),dU=qe("D",25,16),lU=qe("A",26,16),fU=qe("T",27,16),pU=qe("A",28,16),hU=at("R",35),mU=at("I",36),gU=at("P",37),bU=at("T",38),vU=qe("R",40,1),yU=qe("I",41,1),wU=qe("P",42,1),kU=qe("T",43,1),xU=at("Y",45),SU=at("L",46),_U=at("E",47),CU=qe("Y",49,1),EU=qe("L",50,1),AU=qe("E",51,1),TU=at("I",54),PU=at("T",55),IU=at("L",56),RU=at("E",57),DU=qe("I",58,1),LU=qe("T",59,1),OU=qe("L",60,1),MU=qe("E",61,1),jU=qe("#",63,64),BU=qe("X",66,65),qU=function(){function n(e,t){var r;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=t,this.xmlMode=!!(e!=null&&e.xmlMode),this.decodeEntities=(r=e==null?void 0:e.decodeEntities)!==null&&r!==void 0?r:!0}return n.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},n.prototype.write=function(e){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=e,this.parse()},n.prototype.end=function(e){this.ended&&this.cbs.onerror(Error(".end() after done!")),e&&this.write(e),this.ended=!0,this.running&&this.finish()},n.prototype.pause=function(){this.running=!1},n.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},n.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},n.prototype.stateText=function(e){e==="<"?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):this.decodeEntities&&e==="&"&&(this.special===1||this.special===4)&&(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},n.prototype.isTagStartChar=function(e){return ya(e)||this.xmlMode&&!We(e)&&e!=="/"&&e!==">"},n.prototype.stateBeforeTagName=function(e){e==="/"?this._state=5:e==="<"?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):e===">"||this.special!==1||We(e)?this._state=1:e==="!"?(this._state=15,this.sectionStart=this._index+1):e==="?"?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(e)?(this._state=!this.xmlMode&&(e==="s"||e==="S")?32:!this.xmlMode&&(e==="t"||e==="T")?52:3,this.sectionStart=this._index):this._state=1},n.prototype.stateInTagName=function(e){(e==="/"||e===">"||We(e))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},n.prototype.stateBeforeClosingTagName=function(e){We(e)||(e===">"?this._state=1:this.special!==1?this.special!==4&&(e==="s"||e==="S")?this._state=33:this.special===4&&(e==="t"||e==="T")?this._state=53:(this._state=1,this._index--):this.isTagStartChar(e)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},n.prototype.stateInClosingTagName=function(e){(e===">"||We(e))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},n.prototype.stateAfterClosingTagName=function(e){e===">"&&(this._state=1,this.sectionStart=this._index+1)},n.prototype.stateBeforeAttributeName=function(e){e===">"?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):e==="/"?this._state=4:We(e)||(this._state=9,this.sectionStart=this._index)},n.prototype.stateInSelfClosingTag=function(e){e===">"?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):We(e)||(this._state=8,this._index--)},n.prototype.stateInAttributeName=function(e){(e==="="||e==="/"||e===">"||We(e))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},n.prototype.stateAfterAttributeName=function(e){e==="="?this._state=11:e==="/"||e===">"?(this.cbs.onattribend(void 0),this._state=8,this._index--):We(e)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},n.prototype.stateBeforeAttributeValue=function(e){e==='"'?(this._state=12,this.sectionStart=this._index+1):e==="'"?(this._state=13,this.sectionStart=this._index+1):We(e)||(this._state=14,this.sectionStart=this._index,this._index--)},n.prototype.handleInAttributeValue=function(e,t){e===t?(this.emitToken("onattribdata"),this.cbs.onattribend(t),this._state=8):this.decodeEntities&&e==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},n.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,'"')},n.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,"'")},n.prototype.stateInAttributeValueNoQuotes=function(e){We(e)||e===">"?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&e==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},n.prototype.stateBeforeDeclaration=function(e){this._state=e==="["?23:e==="-"?18:16},n.prototype.stateInDeclaration=function(e){e===">"&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},n.prototype.stateInProcessingInstruction=function(e){e===">"&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},n.prototype.stateBeforeComment=function(e){e==="-"?(this._state=19,this.sectionStart=this._index+1):this._state=16},n.prototype.stateInComment=function(e){e==="-"&&(this._state=21)},n.prototype.stateInSpecialComment=function(e){e===">"&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},n.prototype.stateAfterComment1=function(e){e==="-"?this._state=22:this._state=19},n.prototype.stateAfterComment2=function(e){e===">"?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):e!=="-"&&(this._state=19)},n.prototype.stateBeforeCdata6=function(e){e==="["?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},n.prototype.stateInCdata=function(e){e==="]"&&(this._state=30)},n.prototype.stateAfterCdata1=function(e){e==="]"?this._state=31:this._state=29},n.prototype.stateAfterCdata2=function(e){e===">"?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):e!=="]"&&(this._state=29)},n.prototype.stateBeforeSpecialS=function(e){e==="c"||e==="C"?this._state=34:e==="t"||e==="T"?this._state=44:(this._state=3,this._index--)},n.prototype.stateBeforeSpecialSEnd=function(e){this.special===2&&(e==="c"||e==="C")?this._state=39:this.special===3&&(e==="t"||e==="T")?this._state=48:this._state=1},n.prototype.stateBeforeSpecialLast=function(e,t){(e==="/"||e===">"||We(e))&&(this.special=t),this._state=3,this._index--},n.prototype.stateAfterSpecialLast=function(e,t){e===">"||We(e)?(this.special=1,this._state=6,this.sectionStart=this._index-t,this._index--):this._state=1},n.prototype.parseFixedEntity=function(e){if(e===void 0&&(e=this.xmlMode?cU.default:iU.default),this.sectionStart+1<this._index){var t=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(e,t)&&(this.emitPartial(e[t]),this.sectionStart=this._index+1)}},n.prototype.parseLegacyEntity=function(){for(var e=this.sectionStart+1,t=Math.min(this._index-e,6);t>=2;){var r=this.buffer.substr(e,t);if(Object.prototype.hasOwnProperty.call(Ur.default,r)){this.emitPartial(Ur.default[r]),this.sectionStart+=t+1;return}t--}},n.prototype.stateInNamedEntity=function(e){e===";"?(this.parseFixedEntity(),this.baseState===1&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(e<"0"||e>"9")&&!ya(e)&&(this.xmlMode||this.sectionStart+1===this._index||(this.baseState!==1?e!=="="&&this.parseFixedEntity(Ur.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},n.prototype.decodeNumericEntity=function(e,t,r){var s=this.sectionStart+e;if(s!==this._index){var o=this.buffer.substring(s,this._index),a=parseInt(o,t);this.emitPartial(aU.default(a)),this.sectionStart=r?this._index+1:this._index}this._state=this.baseState},n.prototype.stateInNumericEntity=function(e){e===";"?this.decodeNumericEntity(2,10,!0):(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},n.prototype.stateInHexEntity=function(e){e===";"?this.decodeNumericEntity(3,16,!0):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},n.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(this._state===1?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},n.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var e=this.buffer.charAt(this._index);this._state===1?this.stateText(e):this._state===12?this.stateInAttributeValueDoubleQuotes(e):this._state===9?this.stateInAttributeName(e):this._state===19?this.stateInComment(e):this._state===20?this.stateInSpecialComment(e):this._state===8?this.stateBeforeAttributeName(e):this._state===3?this.stateInTagName(e):this._state===6?this.stateInClosingTagName(e):this._state===2?this.stateBeforeTagName(e):this._state===10?this.stateAfterAttributeName(e):this._state===13?this.stateInAttributeValueSingleQuotes(e):this._state===11?this.stateBeforeAttributeValue(e):this._state===5?this.stateBeforeClosingTagName(e):this._state===7?this.stateAfterClosingTagName(e):this._state===32?this.stateBeforeSpecialS(e):this._state===21?this.stateAfterComment1(e):this._state===14?this.stateInAttributeValueNoQuotes(e):this._state===4?this.stateInSelfClosingTag(e):this._state===16?this.stateInDeclaration(e):this._state===15?this.stateBeforeDeclaration(e):this._state===22?this.stateAfterComment2(e):this._state===18?this.stateBeforeComment(e):this._state===33?this.stateBeforeSpecialSEnd(e):this._state===53?DU(this,e):this._state===39?vU(this,e):this._state===40?yU(this,e):this._state===41?wU(this,e):this._state===34?hU(this,e):this._state===35?mU(this,e):this._state===36?gU(this,e):this._state===37?bU(this,e):this._state===38?this.stateBeforeSpecialLast(e,2):this._state===42?kU(this,e):this._state===43?this.stateAfterSpecialLast(e,6):this._state===44?xU(this,e):this._state===29?this.stateInCdata(e):this._state===45?SU(this,e):this._state===46?_U(this,e):this._state===47?this.stateBeforeSpecialLast(e,3):this._state===48?CU(this,e):this._state===49?EU(this,e):this._state===50?AU(this,e):this._state===51?this.stateAfterSpecialLast(e,5):this._state===52?TU(this,e):this._state===54?PU(this,e):this._state===55?IU(this,e):this._state===56?RU(this,e):this._state===57?this.stateBeforeSpecialLast(e,4):this._state===58?LU(this,e):this._state===59?OU(this,e):this._state===60?MU(this,e):this._state===61?this.stateAfterSpecialLast(e,5):this._state===17?this.stateInProcessingInstruction(e):this._state===64?this.stateInNamedEntity(e):this._state===23?uU(this,e):this._state===62?jU(this,e):this._state===24?dU(this,e):this._state===25?lU(this,e):this._state===30?this.stateAfterCdata1(e):this._state===31?this.stateAfterCdata2(e):this._state===26?fU(this,e):this._state===27?pU(this,e):this._state===28?this.stateBeforeCdata6(e):this._state===66?this.stateInHexEntity(e):this._state===65?this.stateInNumericEntity(e):this._state===63?BU(this,e):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},n.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},n.prototype.handleTrailingData=function(){var e=this.buffer.substr(this.sectionStart);this._state===29||this._state===30||this._state===31?this.cbs.oncdata(e):this._state===19||this._state===21||this._state===22?this.cbs.oncomment(e):this._state===64&&!this.xmlMode?(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state===65&&!this.xmlMode?(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state===66&&!this.xmlMode?(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this.cbs.ontext(e)},n.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},n.prototype.emitToken=function(e){this.cbs[e](this.getSection()),this.sectionStart=-1},n.prototype.emitPartial=function(e){this.baseState!==1?this.cbs.onattribdata(e):this.cbs.ontext(e)},n}();br.default=qU;var zU=te&&te.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(An,"__esModule",{value:!0});An.Parser=void 0;var NU=zU(br),qt=new Set(["input","option","optgroup","select","button","datalist","textarea"]),be=new Set(["p"]),wa={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:be,h1:be,h2:be,h3:be,h4:be,h5:be,h6:be,select:qt,input:qt,output:qt,button:qt,datalist:qt,textarea:qt,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:be,article:be,aside:be,blockquote:be,details:be,div:be,dl:be,fieldset:be,figcaption:be,figure:be,footer:be,form:be,header:be,hr:be,main:be,nav:be,ol:be,pre:be,section:be,table:be,ul:be,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},Vr=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),ka=new Set(["math","svg"]),xa=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),$U=/\s|\//,HU=function(){function n(e,t){t===void 0&&(t={});var r,s,o,a,c;this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=t,this.cbs=e??{},this.lowerCaseTagNames=(r=t.lowerCaseTags)!==null&&r!==void 0?r:!t.xmlMode,this.lowerCaseAttributeNames=(s=t.lowerCaseAttributeNames)!==null&&s!==void 0?s:!t.xmlMode,this.tokenizer=new((o=t.Tokenizer)!==null&&o!==void 0?o:NU.default)(this.options,this),(c=(a=this.cbs).onparserinit)===null||c===void 0||c.call(a,this)}return n.prototype.updatePosition=function(e){this.endIndex===null?this.tokenizer.sectionStart<=e?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},n.prototype.ontext=function(e){var t,r;this.updatePosition(1),this.endIndex--,(r=(t=this.cbs).ontext)===null||r===void 0||r.call(t,e)},n.prototype.onopentagname=function(e){var t,r;if(this.lowerCaseTagNames&&(e=e.toLowerCase()),this.tagname=e,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(wa,e))for(var s=void 0;this.stack.length>0&&wa[e].has(s=this.stack[this.stack.length-1]);)this.onclosetag(s);(this.options.xmlMode||!Vr.has(e))&&(this.stack.push(e),ka.has(e)?this.foreignContext.push(!0):xa.has(e)&&this.foreignContext.push(!1)),(r=(t=this.cbs).onopentagname)===null||r===void 0||r.call(t,e),this.cbs.onopentag&&(this.attribs={})},n.prototype.onopentagend=function(){var e,t;this.updatePosition(1),this.attribs&&((t=(e=this.cbs).onopentag)===null||t===void 0||t.call(e,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&Vr.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},n.prototype.onclosetag=function(e){if(this.updatePosition(1),this.lowerCaseTagNames&&(e=e.toLowerCase()),(ka.has(e)||xa.has(e))&&this.foreignContext.pop(),this.stack.length&&(this.options.xmlMode||!Vr.has(e))){var t=this.stack.lastIndexOf(e);if(t!==-1)if(this.cbs.onclosetag)for(t=this.stack.length-t;t--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=t;else e==="p"&&!this.options.xmlMode&&(this.onopentagname(e),this.closeCurrentTag())}else!this.options.xmlMode&&(e==="br"||e==="p")&&(this.onopentagname(e),this.closeCurrentTag())},n.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},n.prototype.closeCurrentTag=function(){var e,t,r=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===r&&((t=(e=this.cbs).onclosetag)===null||t===void 0||t.call(e,r),this.stack.pop())},n.prototype.onattribname=function(e){this.lowerCaseAttributeNames&&(e=e.toLowerCase()),this.attribname=e},n.prototype.onattribdata=function(e){this.attribvalue+=e},n.prototype.onattribend=function(e){var t,r;(r=(t=this.cbs).onattribute)===null||r===void 0||r.call(t,this.attribname,this.attribvalue,e),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},n.prototype.getInstructionName=function(e){var t=e.search($U),r=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r},n.prototype.ondeclaration=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("!"+t,"!"+e)}},n.prototype.onprocessinginstruction=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("?"+t,"?"+e)}},n.prototype.oncomment=function(e){var t,r,s,o;this.updatePosition(4),(r=(t=this.cbs).oncomment)===null||r===void 0||r.call(t,e),(o=(s=this.cbs).oncommentend)===null||o===void 0||o.call(s)},n.prototype.oncdata=function(e){var t,r,s,o,a,c;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?((r=(t=this.cbs).oncdatastart)===null||r===void 0||r.call(t),(o=(s=this.cbs).ontext)===null||o===void 0||o.call(s,e),(c=(a=this.cbs).oncdataend)===null||c===void 0||c.call(a)):this.oncomment("[CDATA["+e+"]]")},n.prototype.onerror=function(e){var t,r;(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,e)},n.prototype.onend=function(){var e,t;if(this.cbs.onclosetag)for(var r=this.stack.length;r>0;this.cbs.onclosetag(this.stack[--r]));(t=(e=this.cbs).onend)===null||t===void 0||t.call(e)},n.prototype.reset=function(){var e,t,r,s;(t=(e=this.cbs).onreset)===null||t===void 0||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],(s=(r=this.cbs).onparserinit)===null||s===void 0||s.call(r,this)},n.prototype.parseComplete=function(e){this.reset(),this.end(e)},n.prototype.write=function(e){this.tokenizer.write(e)},n.prototype.end=function(e){this.tokenizer.end(e)},n.prototype.pause=function(){this.tokenizer.pause()},n.prototype.resume=function(){this.tokenizer.resume()},n.prototype.parseChunk=function(e){this.write(e)},n.prototype.done=function(e){this.end(e)},n}();An.Parser=HU;var Je={},Wt={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Doctype=n.CDATA=n.Tag=n.Style=n.Script=n.Comment=n.Directive=n.Text=n.Root=n.isTag=n.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=n.ElementType||(n.ElementType={}));function t(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}n.isTag=t,n.Root=e.Root,n.Text=e.Text,n.Directive=e.Directive,n.Comment=e.Comment,n.Script=e.Script,n.Style=e.Style,n.Tag=e.Tag,n.CDATA=e.CDATA,n.Doctype=e.Doctype})(Wt);var ce={},Ot=te&&te.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bn=te&&te.__assign||function(){return bn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},bn.apply(this,arguments)};Object.defineProperty(ce,"__esModule",{value:!0});ce.cloneNode=ce.hasChildren=ce.isDocument=ce.isDirective=ce.isComment=ce.isText=ce.isCDATA=ce.isTag=ce.Element=ce.Document=ce.NodeWithChildren=ce.ProcessingInstruction=ce.Comment=ce.Text=ce.DataNode=ce.Node=void 0;var Te=Wt,FU=new Map([[Te.ElementType.Tag,1],[Te.ElementType.Script,1],[Te.ElementType.Style,1],[Te.ElementType.Directive,1],[Te.ElementType.Text,3],[Te.ElementType.CDATA,4],[Te.ElementType.Comment,8],[Te.ElementType.Root,9]]),Us=function(){function n(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(n.prototype,"nodeType",{get:function(){var e;return(e=FU.get(this.type))!==null&&e!==void 0?e:1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),n.prototype.cloneNode=function(e){return e===void 0&&(e=!1),Vs(this,e)},n}();ce.Node=Us;var wr=function(n){Ot(e,n);function e(t,r){var s=n.call(this,t)||this;return s.data=r,s}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!1,configurable:!0}),e}(Us);ce.DataNode=wr;var Vi=function(n){Ot(e,n);function e(t){return n.call(this,Te.ElementType.Text,t)||this}return e}(wr);ce.Text=Vi;var Gi=function(n){Ot(e,n);function e(t){return n.call(this,Te.ElementType.Comment,t)||this}return e}(wr);ce.Comment=Gi;var Wi=function(n){Ot(e,n);function e(t,r){var s=n.call(this,Te.ElementType.Directive,r)||this;return s.name=t,s}return e}(wr);ce.ProcessingInstruction=Wi;var kr=function(n){Ot(e,n);function e(t,r){var s=n.call(this,t)||this;return s.children=r,s}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!1,configurable:!0}),e}(Us);ce.NodeWithChildren=kr;var Yi=function(n){Ot(e,n);function e(t){return n.call(this,Te.ElementType.Root,t)||this}return e}(kr);ce.Document=Yi;var Qi=function(n){Ot(e,n);function e(t,r,s,o){s===void 0&&(s=[]),o===void 0&&(o=t==="script"?Te.ElementType.Script:t==="style"?Te.ElementType.Style:Te.ElementType.Tag);var a=n.call(this,o,s)||this;return a.name=t,a.attribs=r,a}return Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var t=this;return Object.keys(this.attribs).map(function(r){var s,o;return{name:r,value:t.attribs[r],namespace:(s=t["x-attribsNamespace"])===null||s===void 0?void 0:s[r],prefix:(o=t["x-attribsPrefix"])===null||o===void 0?void 0:o[r]}})},enumerable:!1,configurable:!0}),e}(kr);ce.Element=Qi;function Zi(n){return(0,Te.isTag)(n)}ce.isTag=Zi;function Xi(n){return n.type===Te.ElementType.CDATA}ce.isCDATA=Xi;function Ki(n){return n.type===Te.ElementType.Text}ce.isText=Ki;function Ji(n){return n.type===Te.ElementType.Comment}ce.isComment=Ji;function ec(n){return n.type===Te.ElementType.Directive}ce.isDirective=ec;function tc(n){return n.type===Te.ElementType.Root}ce.isDocument=tc;function UU(n){return Object.prototype.hasOwnProperty.call(n,"children")}ce.hasChildren=UU;function Vs(n,e){e===void 0&&(e=!1);var t;if(Ki(n))t=new Vi(n.data);else if(Ji(n))t=new Gi(n.data);else if(Zi(n)){var r=e?Gr(n.children):[],s=new Qi(n.name,bn({},n.attribs),r);r.forEach(function(p){return p.parent=s}),n.namespace!=null&&(s.namespace=n.namespace),n["x-attribsNamespace"]&&(s["x-attribsNamespace"]=bn({},n["x-attribsNamespace"])),n["x-attribsPrefix"]&&(s["x-attribsPrefix"]=bn({},n["x-attribsPrefix"])),t=s}else if(Xi(n)){var r=e?Gr(n.children):[],o=new kr(Te.ElementType.CDATA,r);r.forEach(function(f){return f.parent=o}),t=o}else if(tc(n)){var r=e?Gr(n.children):[],a=new Yi(r);r.forEach(function(f){return f.parent=a}),n["x-mode"]&&(a["x-mode"]=n["x-mode"]),t=a}else if(ec(n)){var c=new Wi(n.name,n.data);n["x-name"]!=null&&(c["x-name"]=n["x-name"],c["x-publicId"]=n["x-publicId"],c["x-systemId"]=n["x-systemId"]),t=c}else throw new Error("Not implemented yet: ".concat(n.type));return t.startIndex=n.startIndex,t.endIndex=n.endIndex,n.sourceCodeLocation!=null&&(t.sourceCodeLocation=n.sourceCodeLocation),t}ce.cloneNode=Vs;function Gr(n){for(var e=n.map(function(r){return Vs(r,!0)}),t=1;t<e.length;t++)e[t].prev=e[t-1],e[t-1].next=e[t];return e}(function(n){var e=te&&te.__createBinding||(Object.create?function(p,f,d,h){h===void 0&&(h=d);var m=Object.getOwnPropertyDescriptor(f,d);(!m||("get"in m?!f.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(p,h,m)}:function(p,f,d,h){h===void 0&&(h=d),p[h]=f[d]}),t=te&&te.__exportStar||function(p,f){for(var d in p)d!=="default"&&!Object.prototype.hasOwnProperty.call(f,d)&&e(f,p,d)};Object.defineProperty(n,"__esModule",{value:!0}),n.DomHandler=void 0;var r=Wt,s=ce;t(ce,n);var o=/\s+/g,a={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},c=function(){function p(f,d,h){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof d=="function"&&(h=d,d=a),typeof f=="object"&&(d=f,f=void 0),this.callback=f??null,this.options=d??a,this.elementCB=h??null}return p.prototype.onparserinit=function(f){this.parser=f},p.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},p.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},p.prototype.onerror=function(f){this.handleCallback(f)},p.prototype.onclosetag=function(){this.lastNode=null;var f=this.tagStack.pop();this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(f)},p.prototype.onopentag=function(f,d){var h=this.options.xmlMode?r.ElementType.Tag:void 0,m=new s.Element(f,d,void 0,h);this.addNode(m),this.tagStack.push(m)},p.prototype.ontext=function(f){var d=this.options.normalizeWhitespace,h=this.lastNode;if(h&&h.type===r.ElementType.Text)d?h.data=(h.data+f).replace(o," "):h.data+=f,this.options.withEndIndices&&(h.endIndex=this.parser.endIndex);else{d&&(f=f.replace(o," "));var m=new s.Text(f);this.addNode(m),this.lastNode=m}},p.prototype.oncomment=function(f){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=f;return}var d=new s.Comment(f);this.addNode(d),this.lastNode=d},p.prototype.oncommentend=function(){this.lastNode=null},p.prototype.oncdatastart=function(){var f=new s.Text(""),d=new s.NodeWithChildren(r.ElementType.CDATA,[f]);this.addNode(d),f.parent=d,this.lastNode=f},p.prototype.oncdataend=function(){this.lastNode=null},p.prototype.onprocessinginstruction=function(f,d){var h=new s.ProcessingInstruction(f,d);this.addNode(h)},p.prototype.handleCallback=function(f){if(typeof this.callback=="function")this.callback(f,this.dom);else if(f)throw f},p.prototype.addNode=function(f){var d=this.tagStack[this.tagStack.length-1],h=d.children[d.children.length-1];this.options.withStartIndices&&(f.startIndex=this.parser.startIndex),this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),d.children.push(f),h&&(f.prev=h,h.next=f),f.parent=d,this.lastNode=null},p}();n.DomHandler=c,n.default=c})(Je);var Rt={},Gs={},Ze={},Ws={},nc={},bt={},xr=te&&te.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(bt,"__esModule",{value:!0});bt.decodeHTML=bt.decodeHTMLStrict=bt.decodeXML=void 0;var xs=xr(Hs),VU=xr(Ui),GU=xr(Fs),Sa=xr(vr),WU=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;bt.decodeXML=rc(GU.default);bt.decodeHTMLStrict=rc(xs.default);function rc(n){var e=sc(n);return function(t){return String(t).replace(WU,e)}}var _a=function(n,e){return n<e?1:-1};bt.decodeHTML=function(){for(var n=Object.keys(VU.default).sort(_a),e=Object.keys(xs.default).sort(_a),t=0,r=0;t<e.length;t++)n[r]===e[t]?(e[t]+=";?",r++):e[t]+=";";var s=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=sc(xs.default);function a(c){return c.substr(-1)!==";"&&(c+=";"),o(c)}return function(c){return String(c).replace(s,a)}}();function sc(n){return function(t){if(t.charAt(1)==="#"){var r=t.charAt(2);return r==="X"||r==="x"?Sa.default(parseInt(t.substr(3),16)):Sa.default(parseInt(t.substr(2),10))}return n[t.slice(1,-1)]||t}}var Xe={},oc=te&&te.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.escapeUTF8=Xe.escape=Xe.encodeNonAsciiHTML=Xe.encodeHTML=Xe.encodeXML=void 0;var YU=oc(Fs),ac=cc(YU.default),ic=uc(ac);Xe.encodeXML=fc(ac);var QU=oc(Hs),Ys=cc(QU.default),ZU=uc(Ys);Xe.encodeHTML=KU(Ys,ZU);Xe.encodeNonAsciiHTML=fc(Ys);function cc(n){return Object.keys(n).sort().reduce(function(e,t){return e[n[t]]="&"+t+";",e},{})}function uc(n){for(var e=[],t=[],r=0,s=Object.keys(n);r<s.length;r++){var o=s[r];o.length===1?e.push("\\"+o):t.push(o)}e.sort();for(var a=0;a<e.length-1;a++){for(var c=a;c<e.length-1&&e[c].charCodeAt(1)+1===e[c+1].charCodeAt(1);)c+=1;var p=1+c-a;p<3||e.splice(a,p,e[a]+"-"+e[c])}return t.unshift("["+e.join("")+"]"),new RegExp(t.join("|"),"g")}var dc=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,XU=String.prototype.codePointAt!=null?function(n){return n.codePointAt(0)}:function(n){return(n.charCodeAt(0)-55296)*1024+n.charCodeAt(1)-56320+65536};function Sr(n){return"&#x"+(n.length>1?XU(n):n.charCodeAt(0)).toString(16).toUpperCase()+";"}function KU(n,e){return function(t){return t.replace(e,function(r){return n[r]}).replace(dc,Sr)}}var lc=new RegExp(ic.source+"|"+dc.source,"g");function JU(n){return n.replace(lc,Sr)}Xe.escape=JU;function eV(n){return n.replace(ic,Sr)}Xe.escapeUTF8=eV;function fc(n){return function(e){return e.replace(lc,function(t){return n[t]||Sr(t)})}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.decodeXMLStrict=n.decodeHTML5Strict=n.decodeHTML4Strict=n.decodeHTML5=n.decodeHTML4=n.decodeHTMLStrict=n.decodeHTML=n.decodeXML=n.encodeHTML5=n.encodeHTML4=n.escapeUTF8=n.escape=n.encodeNonAsciiHTML=n.encodeHTML=n.encodeXML=n.encode=n.decodeStrict=n.decode=void 0;var e=bt,t=Xe;function r(p,f){return(!f||f<=0?e.decodeXML:e.decodeHTML)(p)}n.decode=r;function s(p,f){return(!f||f<=0?e.decodeXML:e.decodeHTMLStrict)(p)}n.decodeStrict=s;function o(p,f){return(!f||f<=0?t.encodeXML:t.encodeHTML)(p)}n.encode=o;var a=Xe;Object.defineProperty(n,"encodeXML",{enumerable:!0,get:function(){return a.encodeXML}}),Object.defineProperty(n,"encodeHTML",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(n,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return a.encodeNonAsciiHTML}}),Object.defineProperty(n,"escape",{enumerable:!0,get:function(){return a.escape}}),Object.defineProperty(n,"escapeUTF8",{enumerable:!0,get:function(){return a.escapeUTF8}}),Object.defineProperty(n,"encodeHTML4",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(n,"encodeHTML5",{enumerable:!0,get:function(){return a.encodeHTML}});var c=bt;Object.defineProperty(n,"decodeXML",{enumerable:!0,get:function(){return c.decodeXML}}),Object.defineProperty(n,"decodeHTML",{enumerable:!0,get:function(){return c.decodeHTML}}),Object.defineProperty(n,"decodeHTMLStrict",{enumerable:!0,get:function(){return c.decodeHTMLStrict}}),Object.defineProperty(n,"decodeHTML4",{enumerable:!0,get:function(){return c.decodeHTML}}),Object.defineProperty(n,"decodeHTML5",{enumerable:!0,get:function(){return c.decodeHTML}}),Object.defineProperty(n,"decodeHTML4Strict",{enumerable:!0,get:function(){return c.decodeHTMLStrict}}),Object.defineProperty(n,"decodeHTML5Strict",{enumerable:!0,get:function(){return c.decodeHTMLStrict}}),Object.defineProperty(n,"decodeXMLStrict",{enumerable:!0,get:function(){return c.decodeXML}})})(nc);var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.attributeNames=Ut.elementNames=void 0;Ut.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]);Ut.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]]);var Ht=te&&te.__assign||function(){return Ht=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Ht.apply(this,arguments)},tV=te&&te.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),nV=te&&te.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),rV=te&&te.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&tV(e,n,t);return nV(e,n),e};Object.defineProperty(Ws,"__esModule",{value:!0});var pt=rV(Wt),pc=nc,hc=Ut,sV=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function oV(n,e){if(n)return Object.keys(n).map(function(t){var r,s,o=(r=n[t])!==null&&r!==void 0?r:"";return e.xmlMode==="foreign"&&(t=(s=hc.attributeNames.get(t))!==null&&s!==void 0?s:t),!e.emptyAttrs&&!e.xmlMode&&o===""?t:t+'="'+(e.decodeEntities!==!1?pc.encodeXML(o):o.replace(/"/g,"&quot;"))+'"'}).join(" ")}var Ca=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Qs(n,e){e===void 0&&(e={});for(var t=("length"in n)?n:[n],r="",s=0;s<t.length;s++)r+=aV(t[s],e);return r}Ws.default=Qs;function aV(n,e){switch(n.type){case pt.Root:return Qs(n.children,e);case pt.Directive:case pt.Doctype:return dV(n);case pt.Comment:return pV(n);case pt.CDATA:return fV(n);case pt.Script:case pt.Style:case pt.Tag:return uV(n,e);case pt.Text:return lV(n,e)}}var iV=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),cV=new Set(["svg","math"]);function uV(n,e){var t;e.xmlMode==="foreign"&&(n.name=(t=hc.elementNames.get(n.name))!==null&&t!==void 0?t:n.name,n.parent&&iV.has(n.parent.name)&&(e=Ht(Ht({},e),{xmlMode:!1}))),!e.xmlMode&&cV.has(n.name)&&(e=Ht(Ht({},e),{xmlMode:"foreign"}));var r="<"+n.name,s=oV(n.attribs,e);return s&&(r+=" "+s),n.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&Ca.has(n.name))?(e.xmlMode||(r+=" "),r+="/>"):(r+=">",n.children.length>0&&(r+=Qs(n.children,e)),(e.xmlMode||!Ca.has(n.name))&&(r+="</"+n.name+">")),r}function dV(n){return"<"+n.data+">"}function lV(n,e){var t=n.data||"";return e.decodeEntities!==!1&&!(!e.xmlMode&&n.parent&&sV.has(n.parent.name))&&(t=pc.encodeXML(t)),t}function fV(n){return"<![CDATA["+n.children[0].data+"]]>"}function pV(n){return"<!--"+n.data+"-->"}var hV=te&&te.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.innerText=Ze.textContent=Ze.getText=Ze.getInnerHTML=Ze.getOuterHTML=void 0;var lt=Je,mV=hV(Ws),gV=Wt;function mc(n,e){return(0,mV.default)(n,e)}Ze.getOuterHTML=mc;function bV(n,e){return(0,lt.hasChildren)(n)?n.children.map(function(t){return mc(t,e)}).join(""):""}Ze.getInnerHTML=bV;function Zn(n){return Array.isArray(n)?n.map(Zn).join(""):(0,lt.isTag)(n)?n.name==="br"?`
`:Zn(n.children):(0,lt.isCDATA)(n)?Zn(n.children):(0,lt.isText)(n)?n.data:""}Ze.getText=Zn;function Ss(n){return Array.isArray(n)?n.map(Ss).join(""):(0,lt.hasChildren)(n)&&!(0,lt.isComment)(n)?Ss(n.children):(0,lt.isText)(n)?n.data:""}Ze.textContent=Ss;function _s(n){return Array.isArray(n)?n.map(_s).join(""):(0,lt.hasChildren)(n)&&(n.type===gV.ElementType.Tag||(0,lt.isCDATA)(n))?_s(n.children):(0,lt.isText)(n)?n.data:""}Ze.innerText=_s;var je={};Object.defineProperty(je,"__esModule",{value:!0});je.prevElementSibling=je.nextElementSibling=je.getName=je.hasAttrib=je.getAttributeValue=je.getSiblings=je.getParent=je.getChildren=void 0;var gc=Je,vV=[];function bc(n){var e;return(e=n.children)!==null&&e!==void 0?e:vV}je.getChildren=bc;function vc(n){return n.parent||null}je.getParent=vc;function yV(n){var e,t,r=vc(n);if(r!=null)return bc(r);for(var s=[n],o=n.prev,a=n.next;o!=null;)s.unshift(o),e=o,o=e.prev;for(;a!=null;)s.push(a),t=a,a=t.next;return s}je.getSiblings=yV;function wV(n,e){var t;return(t=n.attribs)===null||t===void 0?void 0:t[e]}je.getAttributeValue=wV;function kV(n,e){return n.attribs!=null&&Object.prototype.hasOwnProperty.call(n.attribs,e)&&n.attribs[e]!=null}je.hasAttrib=kV;function xV(n){return n.name}je.getName=xV;function SV(n){for(var e,t=n.next;t!==null&&!(0,gc.isTag)(t);)e=t,t=e.next;return t}je.nextElementSibling=SV;function _V(n){for(var e,t=n.prev;t!==null&&!(0,gc.isTag)(t);)e=t,t=e.prev;return t}je.prevElementSibling=_V;var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.prepend=Ve.prependChild=Ve.append=Ve.appendChild=Ve.replaceElement=Ve.removeElement=void 0;function Tn(n){if(n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),n.parent){var e=n.parent.children;e.splice(e.lastIndexOf(n),1)}}Ve.removeElement=Tn;function CV(n,e){var t=e.prev=n.prev;t&&(t.next=e);var r=e.next=n.next;r&&(r.prev=e);var s=e.parent=n.parent;if(s){var o=s.children;o[o.lastIndexOf(n)]=e}}Ve.replaceElement=CV;function EV(n,e){if(Tn(e),e.next=null,e.parent=n,n.children.push(e)>1){var t=n.children[n.children.length-2];t.next=e,e.prev=t}else e.prev=null}Ve.appendChild=EV;function AV(n,e){Tn(e);var t=n.parent,r=n.next;if(e.next=r,e.prev=n,n.next=e,e.parent=t,r){if(r.prev=e,t){var s=t.children;s.splice(s.lastIndexOf(r),0,e)}}else t&&t.children.push(e)}Ve.append=AV;function TV(n,e){if(Tn(e),e.parent=n,e.prev=null,n.children.unshift(e)!==1){var t=n.children[1];t.prev=e,e.next=t}else e.next=null}Ve.prependChild=TV;function PV(n,e){Tn(e);var t=n.parent;if(t){var r=t.children;r.splice(r.indexOf(n),0,e)}n.prev&&(n.prev.next=e),e.parent=t,e.prev=n.prev,e.next=n,n.prev=e}Ve.prepend=PV;var $e={};Object.defineProperty($e,"__esModule",{value:!0});$e.findAll=$e.existsOne=$e.findOne=$e.findOneChild=$e.find=$e.filter=void 0;var kn=Je;function IV(n,e,t,r){return t===void 0&&(t=!0),r===void 0&&(r=1/0),Array.isArray(e)||(e=[e]),Zs(n,e,t,r)}$e.filter=IV;function Zs(n,e,t,r){for(var s=[],o=0,a=e;o<a.length;o++){var c=a[o];if(n(c)&&(s.push(c),--r<=0))break;if(t&&(0,kn.hasChildren)(c)&&c.children.length>0){var p=Zs(n,c.children,t,r);if(s.push.apply(s,p),r-=p.length,r<=0)break}}return s}$e.find=Zs;function RV(n,e){return e.find(n)}$e.findOneChild=RV;function yc(n,e,t){t===void 0&&(t=!0);for(var r=null,s=0;s<e.length&&!r;s++){var o=e[s];if((0,kn.isTag)(o))n(o)?r=o:t&&o.children.length>0&&(r=yc(n,o.children));else continue}return r}$e.findOne=yc;function wc(n,e){return e.some(function(t){return(0,kn.isTag)(t)&&(n(t)||t.children.length>0&&wc(n,t.children))})}$e.existsOne=wc;function DV(n,e){for(var t,r=[],s=e.filter(kn.isTag),o;o=s.shift();){var a=(t=o.children)===null||t===void 0?void 0:t.filter(kn.isTag);a&&a.length>0&&s.unshift.apply(s,a),n(o)&&r.push(o)}return r}$e.findAll=DV;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.getElementsByTagType=Ke.getElementsByTagName=Ke.getElementById=Ke.getElements=Ke.testElement=void 0;var Pt=Je,_r=$e,lr={tag_name:function(n){return typeof n=="function"?function(e){return(0,Pt.isTag)(e)&&n(e.name)}:n==="*"?Pt.isTag:function(e){return(0,Pt.isTag)(e)&&e.name===n}},tag_type:function(n){return typeof n=="function"?function(e){return n(e.type)}:function(e){return e.type===n}},tag_contains:function(n){return typeof n=="function"?function(e){return(0,Pt.isText)(e)&&n(e.data)}:function(e){return(0,Pt.isText)(e)&&e.data===n}}};function kc(n,e){return typeof e=="function"?function(t){return(0,Pt.isTag)(t)&&e(t.attribs[n])}:function(t){return(0,Pt.isTag)(t)&&t.attribs[n]===e}}function LV(n,e){return function(t){return n(t)||e(t)}}function xc(n){var e=Object.keys(n).map(function(t){var r=n[t];return Object.prototype.hasOwnProperty.call(lr,t)?lr[t](r):kc(t,r)});return e.length===0?null:e.reduce(LV)}function OV(n,e){var t=xc(n);return t?t(e):!0}Ke.testElement=OV;function MV(n,e,t,r){r===void 0&&(r=1/0);var s=xc(n);return s?(0,_r.filter)(s,e,t,r):[]}Ke.getElements=MV;function jV(n,e,t){return t===void 0&&(t=!0),Array.isArray(e)||(e=[e]),(0,_r.findOne)(kc("id",n),e,t)}Ke.getElementById=jV;function BV(n,e,t,r){return t===void 0&&(t=!0),r===void 0&&(r=1/0),(0,_r.filter)(lr.tag_name(n),e,t,r)}Ke.getElementsByTagName=BV;function qV(n,e,t,r){return t===void 0&&(t=!0),r===void 0&&(r=1/0),(0,_r.filter)(lr.tag_type(n),e,t,r)}Ke.getElementsByTagType=qV;var yt={};Object.defineProperty(yt,"__esModule",{value:!0});yt.uniqueSort=yt.compareDocumentPosition=yt.removeSubsets=void 0;var Ea=Je;function zV(n){for(var e=n.length;--e>=0;){var t=n[e];if(e>0&&n.lastIndexOf(t,e-1)>=0){n.splice(e,1);continue}for(var r=t.parent;r;r=r.parent)if(n.includes(r)){n.splice(e,1);break}}return n}yt.removeSubsets=zV;function Sc(n,e){var t=[],r=[];if(n===e)return 0;for(var s=(0,Ea.hasChildren)(n)?n:n.parent;s;)t.unshift(s),s=s.parent;for(s=(0,Ea.hasChildren)(e)?e:e.parent;s;)r.unshift(s),s=s.parent;for(var o=Math.min(t.length,r.length),a=0;a<o&&t[a]===r[a];)a++;if(a===0)return 1;var c=t[a-1],p=c.children,f=t[a],d=r[a];return p.indexOf(f)>p.indexOf(d)?c===e?20:4:c===n?10:2}yt.compareDocumentPosition=Sc;function NV(n){return n=n.filter(function(e,t,r){return!r.includes(e,t+1)}),n.sort(function(e,t){var r=Sc(e,t);return r&2?-1:r&4?1:0}),n}yt.uniqueSort=NV;var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.getFeed=void 0;var $V=Ze,Pn=Ke;function HV(n){var e=fr(WV,n);return e?e.name==="feed"?FV(e):UV(e):null}Cr.getFeed=HV;function FV(n){var e,t=n.children,r={type:"atom",items:(0,Pn.getElementsByTagName)("entry",t).map(function(a){var c,p=a.children,f={media:_c(p)};Ue(f,"id","id",p),Ue(f,"title","title",p);var d=(c=fr("link",p))===null||c===void 0?void 0:c.attribs.href;d&&(f.link=d);var h=It("summary",p)||It("content",p);h&&(f.description=h);var m=It("updated",p);return m&&(f.pubDate=new Date(m)),f})};Ue(r,"id","id",t),Ue(r,"title","title",t);var s=(e=fr("link",t))===null||e===void 0?void 0:e.attribs.href;s&&(r.link=s),Ue(r,"description","subtitle",t);var o=It("updated",t);return o&&(r.updated=new Date(o)),Ue(r,"author","email",t,!0),r}function UV(n){var e,t,r=(t=(e=fr("channel",n.children))===null||e===void 0?void 0:e.children)!==null&&t!==void 0?t:[],s={type:n.name.substr(0,3),id:"",items:(0,Pn.getElementsByTagName)("item",n.children).map(function(a){var c=a.children,p={media:_c(c)};Ue(p,"id","guid",c),Ue(p,"title","title",c),Ue(p,"link","link",c),Ue(p,"description","description",c);var f=It("pubDate",c);return f&&(p.pubDate=new Date(f)),p})};Ue(s,"title","title",r),Ue(s,"link","link",r),Ue(s,"description","description",r);var o=It("lastBuildDate",r);return o&&(s.updated=new Date(o)),Ue(s,"author","managingEditor",r,!0),s}var VV=["url","type","lang"],GV=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function _c(n){return(0,Pn.getElementsByTagName)("media:content",n).map(function(e){for(var t=e.attribs,r={medium:t.medium,isDefault:!!t.isDefault},s=0,o=VV;s<o.length;s++){var a=o[s];t[a]&&(r[a]=t[a])}for(var c=0,p=GV;c<p.length;c++){var a=p[c];t[a]&&(r[a]=parseInt(t[a],10))}return t.expression&&(r.expression=t.expression),r})}function fr(n,e){return(0,Pn.getElementsByTagName)(n,e,!0,1)[0]}function It(n,e,t){return t===void 0&&(t=!1),(0,$V.textContent)((0,Pn.getElementsByTagName)(n,e,t,1)).trim()}function Ue(n,e,t,r,s){s===void 0&&(s=!1);var o=It(t,r,s);o&&(n[e]=o)}function WV(n){return n==="rss"||n==="feed"||n==="rdf:RDF"}(function(n){var e=te&&te.__createBinding||(Object.create?function(s,o,a,c){c===void 0&&(c=a),Object.defineProperty(s,c,{enumerable:!0,get:function(){return o[a]}})}:function(s,o,a,c){c===void 0&&(c=a),s[c]=o[a]}),t=te&&te.__exportStar||function(s,o){for(var a in s)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,s,a)};Object.defineProperty(n,"__esModule",{value:!0}),n.hasChildren=n.isDocument=n.isComment=n.isText=n.isCDATA=n.isTag=void 0,t(Ze,n),t(je,n),t(Ve,n),t($e,n),t(Ke,n),t(yt,n),t(Cr,n);var r=Je;Object.defineProperty(n,"isTag",{enumerable:!0,get:function(){return r.isTag}}),Object.defineProperty(n,"isCDATA",{enumerable:!0,get:function(){return r.isCDATA}}),Object.defineProperty(n,"isText",{enumerable:!0,get:function(){return r.isText}}),Object.defineProperty(n,"isComment",{enumerable:!0,get:function(){return r.isComment}}),Object.defineProperty(n,"isDocument",{enumerable:!0,get:function(){return r.isDocument}}),Object.defineProperty(n,"hasChildren",{enumerable:!0,get:function(){return r.hasChildren}})})(Gs);var YV=te&&te.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QV=te&&te.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),ZV=te&&te.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),XV=te&&te.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&QV(e,n,t);return ZV(e,n),e},KV=te&&te.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.parseFeed=Rt.FeedHandler=void 0;var JV=KV(Je),pr=XV(Gs),eG=An,Aa;(function(n){n[n.image=0]="image",n[n.audio=1]="audio",n[n.video=2]="video",n[n.document=3]="document",n[n.executable=4]="executable"})(Aa||(Aa={}));var Ta;(function(n){n[n.sample=0]="sample",n[n.full=1]="full",n[n.nonstop=2]="nonstop"})(Ta||(Ta={}));var Cc=function(n){YV(e,n);function e(t,r){var s=this;return typeof t=="object"&&(t=void 0,r=t),s=n.call(this,t,r)||this,s}return e.prototype.onend=function(){var t,r,s=Gn(tG,this.dom);if(!s){this.handleCallback(new Error("couldn't find root of feed"));return}var o={};if(s.name==="feed"){var a=s.children;o.type="atom",Fe(o,"id","id",a),Fe(o,"title","title",a);var c=Ia("href",Gn("link",a));c&&(o.link=c),Fe(o,"description","subtitle",a);var p=At("updated",a);p&&(o.updated=new Date(p)),Fe(o,"author","email",a,!0),o.items=Cs("entry",a).map(function(f){var d={},h=f.children;Fe(d,"id","id",h),Fe(d,"title","title",h);var m=Ia("href",Gn("link",h));m&&(d.link=m);var y=At("summary",h)||At("content",h);y&&(d.description=y);var v=At("updated",h);return v&&(d.pubDate=new Date(v)),d.media=Pa(h),d})}else{var a=(r=(t=Gn("channel",s.children))===null||t===void 0?void 0:t.children)!==null&&r!==void 0?r:[];o.type=s.name.substr(0,3),o.id="",Fe(o,"title","title",a),Fe(o,"link","link",a),Fe(o,"description","description",a);var p=At("lastBuildDate",a);p&&(o.updated=new Date(p)),Fe(o,"author","managingEditor",a,!0),o.items=Cs("item",s.children).map(function(h){var m={},y=h.children;Fe(m,"id","guid",y),Fe(m,"title","title",y),Fe(m,"link","link",y),Fe(m,"description","description",y);var v=At("pubDate",y);return v&&(m.pubDate=new Date(v)),m.media=Pa(y),m})}this.feed=o,this.handleCallback(null)},e}(JV.default);Rt.FeedHandler=Cc;function Pa(n){return Cs("media:content",n).map(function(e){var t={medium:e.attribs.medium,isDefault:!!e.attribs.isDefault};return e.attribs.url&&(t.url=e.attribs.url),e.attribs.fileSize&&(t.fileSize=parseInt(e.attribs.fileSize,10)),e.attribs.type&&(t.type=e.attribs.type),e.attribs.expression&&(t.expression=e.attribs.expression),e.attribs.bitrate&&(t.bitrate=parseInt(e.attribs.bitrate,10)),e.attribs.framerate&&(t.framerate=parseInt(e.attribs.framerate,10)),e.attribs.samplingrate&&(t.samplingrate=parseInt(e.attribs.samplingrate,10)),e.attribs.channels&&(t.channels=parseInt(e.attribs.channels,10)),e.attribs.duration&&(t.duration=parseInt(e.attribs.duration,10)),e.attribs.height&&(t.height=parseInt(e.attribs.height,10)),e.attribs.width&&(t.width=parseInt(e.attribs.width,10)),e.attribs.lang&&(t.lang=e.attribs.lang),t})}function Cs(n,e){return pr.getElementsByTagName(n,e,!0)}function Gn(n,e){return pr.getElementsByTagName(n,e,!0,1)[0]}function At(n,e,t){return t===void 0&&(t=!1),pr.getText(pr.getElementsByTagName(n,e,t,1)).trim()}function Ia(n,e){if(!e)return null;var t=e.attribs;return t[n]}function Fe(n,e,t,r,s){s===void 0&&(s=!1);var o=At(t,r,s);o&&(n[e]=o)}function tG(n){return n==="rss"||n==="feed"||n==="rdf:RDF"}function nG(n,e){e===void 0&&(e={xmlMode:!0});var t=new Cc(e);return new eG.Parser(t,e).end(n),t.feed}Rt.parseFeed=nG;(function(n){var e=te&&te.__createBinding||(Object.create?function(v,S,P,O){O===void 0&&(O=P),Object.defineProperty(v,O,{enumerable:!0,get:function(){return S[P]}})}:function(v,S,P,O){O===void 0&&(O=P),v[O]=S[P]}),t=te&&te.__setModuleDefault||(Object.create?function(v,S){Object.defineProperty(v,"default",{enumerable:!0,value:S})}:function(v,S){v.default=S}),r=te&&te.__importStar||function(v){if(v&&v.__esModule)return v;var S={};if(v!=null)for(var P in v)P!=="default"&&Object.prototype.hasOwnProperty.call(v,P)&&e(S,v,P);return t(S,v),S},s=te&&te.__exportStar||function(v,S){for(var P in v)P!=="default"&&!Object.prototype.hasOwnProperty.call(S,P)&&e(S,v,P)},o=te&&te.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(n,"__esModule",{value:!0}),n.RssHandler=n.DefaultHandler=n.DomUtils=n.ElementType=n.Tokenizer=n.createDomStream=n.parseDOM=n.parseDocument=n.DomHandler=n.Parser=void 0;var a=An;Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return a.Parser}});var c=Je;Object.defineProperty(n,"DomHandler",{enumerable:!0,get:function(){return c.DomHandler}}),Object.defineProperty(n,"DefaultHandler",{enumerable:!0,get:function(){return c.DomHandler}});function p(v,S){var P=new c.DomHandler(void 0,S);return new a.Parser(P,S).end(v),P.root}n.parseDocument=p;function f(v,S){return p(v,S).children}n.parseDOM=f;function d(v,S,P){var O=new c.DomHandler(v,S,P);return new a.Parser(O,S)}n.createDomStream=d;var h=br;Object.defineProperty(n,"Tokenizer",{enumerable:!0,get:function(){return o(h).default}});var m=r(Wt);n.ElementType=m,s(Rt,n),n.DomUtils=r(Gs);var y=Rt;Object.defineProperty(n,"RssHandler",{enumerable:!0,get:function(){return y.FeedHandler}})})(Fi);function hr(){return hr=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hr.apply(this,arguments)}function rG(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function sG(n,e){if(n){if(typeof n=="string")return Ra(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ra(n,e)}}function Ra(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function oG(n,e){var t;if(typeof Symbol>"u"||n[Symbol.iterator]==null){if(Array.isArray(n)||(t=sG(n))||e){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return t=n[Symbol.iterator](),t.next.bind(t)}function aG(n){var e=n.dangerouslySetInnerHTML,t=n.flavor,r=n.markdown,s=n.markup,o=n.options,a=n.extensions,c=n.components,p=n.sanitizeHtml,f=rG(n,["dangerouslySetInnerHTML","flavor","markdown","markup","options","extensions","components","sanitizeHtml"]),d=_.useMemo(function(){return function T(A,i){if(A.type==="tag"&&A instanceof Je.Element){var u=(c==null?void 0:c[A.name])||A.name,l=hr({key:i},A.attribs);if(l.class&&!l.className&&(l.className=l.class,delete l.class),typeof l.style=="string"){var g={};l.style.split(";").forEach(function(E){if(E.indexOf(":")!==-1){var L=E.split(":"),D=L[0],R=L[1];D=D.trim().replace(/-([a-z])/g,function(j){return j[1].toUpperCase()}),R=R.trim(),g[D]=R}}),l.style=g}var k=iG.includes(A.name)?null:cG.includes(A.name)?A.children.filter(uG).map(T):A.children.map(T);return _.createElement(u,l,k)}else{if(A.type==="text"&&A instanceof Je.DataNode)return A.data;if(A.type==="comment")return null;if(A.type==="style"&&A instanceof Je.Element){var w=hr({key:i},A.attribs),b=A.children.map(T);return _.createElement("style",w,b)}else return console.warn('Warning: Could not map element with type "'+A.type+'".',A),null}}},[c]);e&&c&&console.warn("MarkdownView could not render custom components when dangerouslySetInnerHTML is enabled.");var h=new Mf.Converter;if(t&&h.setFlavor(t),o)for(var m in o){if(m==="extensions"&&o.extensions)for(var y=oG(o.extensions),v;!(v=y()).done;){var S=v.value;typeof S=="string"?h.useExtension(S):h.addExtension(S)}h.setOption(m,o[m])}a&&h.addExtension(a);var P=h.makeHtml(r??s);if(p&&(P=p(P)),e)return _.createElement("div",{dangerouslySetInnerHTML:{__html:P}});var O=Fi.parseDOM(P,{lowerCaseTags:!1,lowerCaseAttributeNames:!1,decodeEntities:!0,recognizeSelfClosing:!0});return _.createElement("div",f,O.map(d))}var iG=["area","br","col","embed","hr","img","input","keygen","param","source","track","wbr"],cG=["table","thead","tbody","tr"];function uG(n){return n.type==="text"&&n instanceof Je.DataNode?n.data.trim().length>0:!0}function dG(n){var i,u;const e=n.advancedOptions||{},t=e.conversationOptions||{layout:"bubbles"},[r,s]=_.useState([]),{adapter:o,threadId:a,messageId:c}=yl({...n,files:r}),{controls:p}=n,[f,d]=_.useState(new Map),h=(l,g)=>{d(k=>new Map(k.set(l,g)))},m=l=>{const{prompt:g,uid:k}=l,w=f.get(k);return I.jsxs("div",{className:"rounded-lg shadow-sm",children:[I.jsx("span",{className:"block",children:g}),I.jsx("div",{className:"mt-2",children:w&&I.jsx(Cf,{files:w})})]})},y=l=>{const[g,k]=_.useState(),[w,b]=_.useState(),E=async L=>{var R;let D;if(l.dataTransferMode==="stream"){if(!a||!c){b("streaming message doesnt have thread and messageIds");return}D={thread_id:a,message_id:c,score:L}}else{let j=(R=l.serverResponse)==null?void 0:R[0];if(j)D={thread_id:j.threadId,message_id:j.messageId,score:L};else{b("message doesnt have thread and messageIds");return}}try{const j=await Ti(n),x=n.serverUrl||Ai;if(!(await fetch(`${x}/threads/score`,{method:"POST",headers:j,body:JSON.stringify(D)})).ok)throw new Error("Failed to record score");k(L)}catch(j){b(j.toString()),console.error("Error recording score:",j)}};return I.jsxs("div",{className:"space-y-2",children:[l.status==="complete"&&I.jsx(aG,{markdown:l.content.join(""),options:{tables:!0,emoji:!0}}),l.status!=="complete"&&I.jsx("div",{className:"p-2 bg-gray-100 rounded-lg shadow-md",ref:l.containerRef}),I.jsxs("div",{className:"flex items-center justify-start space-x-1",children:[I.jsxs("button",{className:"p-2 hover:bg-gray-200 rounded focus:outline-none",onClick:()=>E(1),children:[g==null&&I.jsx(If,{className:"h-4 w-4 text-gray-600"}),g===1&&I.jsx(Of,{className:"h-4 w-4 text-gray-600 animate-fadeIn"})]}),I.jsxs("button",{className:"p-2 hover:bg-gray-200 rounded focus:outline-none",onClick:()=>E(-1),children:[g==null&&I.jsx(Tf,{className:"h-4 w-4 text-gray-600"}),g===-1&&I.jsx(Df,{className:"h-4 w-4 text-gray-600  animate-fadeIn"})]})]}),w&&I.jsx("div",{className:"text-red text-xs animate-fadeIn p-2 rounded-md",children:w})]})},v=Object.assign({},{colorScheme:"light",themeId:"langdb"},e.displayOptions),S=e.composerOptions||{placeholder:"How can i help you today ?"},P=Object.assign({},{assistant:Object.assign({},{name:"LangDB",tagline:`
              Easily build and deploy AI agents with SQL.
              Customize with our React widget on`,avatar:I.jsx(_f,{})},(i=n.personaOptions)==null?void 0:i.assistant),user:Object.assign({},{name:"User",avatar:I.jsx(cl,{})})},(u=n.personaOptions)==null?void 0:u.user),O=_.useCallback(l=>{r&&(h(l.uid,[...r]),s([]))},[h]),T=_.useCallback(()=>{},[]),A=n.className||"";return I.jsxs("div",{className:"flex flex-col w-[100%] h-full",children:[(p==null?void 0:p.enableFiles)&&I.jsx(Ef,{files:r,setFiles:s}),I.jsx("div",{className:"flex-1 w-full relative",children:I.jsx("main",{className:`items-center justify-between  ${A} h-full absolute`,style:n.style||{},children:I.jsx(wi,{adapter:o,initialConversation:n.messages,events:{messageSent:O,messageStreamStarted:T},messageOptions:{promptRenderer:m,responseRenderer:y},personaOptions:P,conversationOptions:t,displayOptions:v,composerOptions:S,...e})})})]})}function Wr(...n){return n.filter(Boolean).join(" ")}const lG=n=>{const{onMinimize:e,onMaximize:t,btnClassName:r,theme:s,children:o,title:a,maximizedPanelClassName:c,maximizedPanelStyle:p,showFullScreen:f,controls:d}=n,[h,m]=_.useState(!1),[y,v]=_.useState(f||!1),S=_.useCallback(()=>{m(P=>!P)},[]);return I.jsxs("div",{className:Wr(s||"dark"),children:[h&&I.jsxs("div",{style:y?p:{},className:Wr("light:text-slate-900 dark:text-white flex flex-1 bg-white dark:bg-black flex-col absolute p-[10px] pt-[0px]",y?c||"h-full w-full bottom-0 right-0":"rounded border shadow-md h-[60vh] w-[40vw] min-h-[500px] bottom-16 right-16"),children:[I.jsxs("div",{className:"border-b py-[5px] flex justify-center items-center",style:{zIndex:"99999"},children:[I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{onClick:()=>{m(!1),e&&e()},children:I.jsx(fG,{})}),!(d!=null&&d.hideMaximise)&&I.jsx("button",{onClick:()=>{v(P=>!P),t&&t()},children:y?I.jsx(hG,{}):I.jsx(pG,{})})]}),I.jsx("div",{className:"flex flex-1 justify-center",children:a})]}),I.jsx("div",{className:"flex flex-1 overflow-scroll ",children:o})]}),!h&&I.jsx("button",{className:Wr(r||"","fixed text-white bg-primary hover:bg-primary-800 bottom-5 right-5 flex w-[50px] hover:scale-110 scale-100 h-[50px] justify-center items-center p-[10px] rounded-full cursor-pointer shadow-none hover:shadow-xl transition ease-in-out"),onClick:S,children:I.jsx(Ec,{})})]})},Ec=()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:I.jsx("path",{strokeLinecap:"round","stroke-linejoin":"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})}),fG=()=>I.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:I.jsx("path",{d:"M19 13H5v-2h14v2z"})}),pG=()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8.25V18a2.25 2.25 0 0 0 2.25 2.25h13.5A2.25 2.25 0 0 0 21 18V8.25m-18 0V6a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 6v2.25m-18 0h18M5.25 6h.008v.008H5.25V6ZM7.5 6h.008v.008H7.5V6Zm2.25 0h.008v.008H9.75V6Z"})}),hG=()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"})});exports.AiChat=wi;exports.AiChatUI=ps;exports.ChatIcon=Ec;exports.FloatingChatWidget=lG;exports.ImageDetail=Ci;exports.Markdown=Gd;exports.MessageContentType=Si;exports.MessageType=_i;exports.Widget=dG;exports.createAiContext=Kd;exports.createInnerMessage=Ei;exports.useAiChatApi=Vd;exports.useAiContext=Zd;exports.useAiTask=Xd;exports.useAsBatchAdapter=Wd;exports.useAsRscAdapter=Qd;exports.useAsStreamAdapter=Yd;exports.useDeepCompareEffect=Jd;
//# sourceMappingURL=index.cjs.js.map
