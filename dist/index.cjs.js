"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const E=require("react");function Ic(n){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const t in n)if(t!=="default"){const r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:()=>n[t]})}}return e.default=n,Object.freeze(e)}const Pe=Ic(E);function Yi(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gr={exports:{}},Mt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gs;function Oc(){if(Gs)return Mt;Gs=1;var n=E,e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function i(o,u,l){var c,d={},p=null,m=null;l!==void 0&&(p=""+l),u.key!==void 0&&(p=""+u.key),u.ref!==void 0&&(m=u.ref);for(c in u)r.call(u,c)&&!a.hasOwnProperty(c)&&(d[c]=u[c]);if(o&&o.defaultProps)for(c in u=o.defaultProps,u)d[c]===void 0&&(d[c]=u[c]);return{$$typeof:e,type:o,key:p,ref:m,props:d,_owner:s.current}}return Mt.Fragment=t,Mt.jsx=i,Mt.jsxs=i,Mt}var Dt={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ws;function Nc(){return Ws||(Ws=1,process.env.NODE_ENV!=="production"&&function(){var n=E,e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),h=Symbol.iterator,g="@@iterator";function f(v){if(v===null||typeof v!="object")return null;var U=h&&v[h]||v[g];return typeof U=="function"?U:null}var w=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(v){{for(var U=arguments.length,Q=new Array(U>1?U-1:0),ue=1;ue<U;ue++)Q[ue-1]=arguments[ue];y("error",v,Q)}}function y(v,U,Q){{var ue=w.ReactDebugCurrentFrame,we=ue.getStackAddendum();we!==""&&(U+="%s",Q=Q.concat([we]));var Te=Q.map(function(be){return String(be)});Te.unshift("Warning: "+U),Function.prototype.apply.call(console[v],console,Te)}}var _=!1,x=!1,I=!1,F=!1,O=!1,A;A=Symbol.for("react.module.reference");function R(v){return!!(typeof v=="string"||typeof v=="function"||v===r||v===a||O||v===s||v===l||v===c||F||v===m||_||x||I||typeof v=="object"&&v!==null&&(v.$$typeof===p||v.$$typeof===d||v.$$typeof===i||v.$$typeof===o||v.$$typeof===u||v.$$typeof===A||v.getModuleId!==void 0))}function H(v,U,Q){var ue=v.displayName;if(ue)return ue;var we=U.displayName||U.name||"";return we!==""?Q+"("+we+")":Q}function L(v){return v.displayName||"Context"}function j(v){if(v==null)return null;if(typeof v.tag=="number"&&b("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v;switch(v){case r:return"Fragment";case t:return"Portal";case a:return"Profiler";case s:return"StrictMode";case l:return"Suspense";case c:return"SuspenseList"}if(typeof v=="object")switch(v.$$typeof){case o:var U=v;return L(U)+".Consumer";case i:var Q=v;return L(Q._context)+".Provider";case u:return H(v,v.render,"ForwardRef");case d:var ue=v.displayName||null;return ue!==null?ue:j(v.type)||"Memo";case p:{var we=v,Te=we._payload,be=we._init;try{return j(be(Te))}catch{return null}}}return null}var B=Object.assign,Y=0,ce,T,P,M,S,N,q;function V(){}V.__reactDisabledLog=!0;function te(){{if(Y===0){ce=console.log,T=console.info,P=console.warn,M=console.error,S=console.group,N=console.groupCollapsed,q=console.groupEnd;var v={configurable:!0,enumerable:!0,value:V,writable:!0};Object.defineProperties(console,{info:v,log:v,warn:v,error:v,group:v,groupCollapsed:v,groupEnd:v})}Y++}}function ne(){{if(Y--,Y===0){var v={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:B({},v,{value:ce}),info:B({},v,{value:T}),warn:B({},v,{value:P}),error:B({},v,{value:M}),group:B({},v,{value:S}),groupCollapsed:B({},v,{value:N}),groupEnd:B({},v,{value:q})})}Y<0&&b("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Z=w.ReactCurrentDispatcher,J;function X(v,U,Q){{if(J===void 0)try{throw Error()}catch(we){var ue=we.stack.trim().match(/\n( *(at )?)/);J=ue&&ue[1]||""}return`
`+J+v}}var ie=!1,re;{var ge=typeof WeakMap=="function"?WeakMap:Map;re=new ge}function $(v,U){if(!v||ie)return"";{var Q=re.get(v);if(Q!==void 0)return Q}var ue;ie=!0;var we=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Te;Te=Z.current,Z.current=null,te();try{if(U){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(je){ue=je}Reflect.construct(v,[],be)}else{try{be.call()}catch(je){ue=je}v.call(be.prototype)}}else{try{throw Error()}catch(je){ue=je}v()}}catch(je){if(je&&ue&&typeof je.stack=="string"){for(var fe=je.stack.split(`
`),He=ue.stack.split(`
`),Me=fe.length-1,Le=He.length-1;Me>=1&&Le>=0&&fe[Me]!==He[Le];)Le--;for(;Me>=1&&Le>=0;Me--,Le--)if(fe[Me]!==He[Le]){if(Me!==1||Le!==1)do if(Me--,Le--,Le<0||fe[Me]!==He[Le]){var Ge=`
`+fe[Me].replace(" at new "," at ");return v.displayName&&Ge.includes("<anonymous>")&&(Ge=Ge.replace("<anonymous>",v.displayName)),typeof v=="function"&&re.set(v,Ge),Ge}while(Me>=1&&Le>=0);break}}}finally{ie=!1,Z.current=Te,ne(),Error.prepareStackTrace=we}var St=v?v.displayName||v.name:"",ht=St?X(St):"";return typeof v=="function"&&re.set(v,ht),ht}function ve(v,U,Q){return $(v,!1)}function De(v){var U=v.prototype;return!!(U&&U.isReactComponent)}function Be(v,U,Q){if(v==null)return"";if(typeof v=="function")return $(v,De(v));if(typeof v=="string")return X(v);switch(v){case l:return X("Suspense");case c:return X("SuspenseList")}if(typeof v=="object")switch(v.$$typeof){case u:return ve(v.render);case d:return Be(v.type,U,Q);case p:{var ue=v,we=ue._payload,Te=ue._init;try{return Be(Te(we),U,Q)}catch{}}}return""}var C=Object.prototype.hasOwnProperty,W={},ae=w.ReactDebugCurrentFrame;function K(v){if(v){var U=v._owner,Q=Be(v.type,v._source,U?U.type:null);ae.setExtraStackFrame(Q)}else ae.setExtraStackFrame(null)}function Ee(v,U,Q,ue,we){{var Te=Function.call.bind(C);for(var be in v)if(Te(v,be)){var fe=void 0;try{if(typeof v[be]!="function"){var He=Error((ue||"React class")+": "+Q+" type `"+be+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof v[be]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw He.name="Invariant Violation",He}fe=v[be](U,be,ue,Q,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Me){fe=Me}fe&&!(fe instanceof Error)&&(K(we),b("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ue||"React class",Q,be,typeof fe),K(null)),fe instanceof Error&&!(fe.message in W)&&(W[fe.message]=!0,K(we),b("Failed %s type: %s",Q,fe.message),K(null))}}}var le=Array.isArray;function se(v){return le(v)}function Ce(v){{var U=typeof Symbol=="function"&&Symbol.toStringTag,Q=U&&v[Symbol.toStringTag]||v.constructor.name||"Object";return Q}}function z(v){try{return ee(v),!1}catch{return!0}}function ee(v){return""+v}function me(v){if(z(v))return b("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Ce(v)),ee(v)}var D=w.ReactCurrentOwner,G={key:!0,ref:!0,__self:!0,__source:!0},oe,pe,Re;Re={};function ze(v){if(C.call(v,"ref")){var U=Object.getOwnPropertyDescriptor(v,"ref").get;if(U&&U.isReactWarning)return!1}return v.ref!==void 0}function nt(v){if(C.call(v,"key")){var U=Object.getOwnPropertyDescriptor(v,"key").get;if(U&&U.isReactWarning)return!1}return v.key!==void 0}function Qe(v,U){if(typeof v.ref=="string"&&D.current&&U&&D.current.stateNode!==U){var Q=j(D.current.type);Re[Q]||(b('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',j(D.current.type),v.ref),Re[Q]=!0)}}function dt(v,U){{var Q=function(){oe||(oe=!0,b("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",U))};Q.isReactWarning=!0,Object.defineProperty(v,"key",{get:Q,configurable:!0})}}function pt(v,U){{var Q=function(){pe||(pe=!0,b("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",U))};Q.isReactWarning=!0,Object.defineProperty(v,"ref",{get:Q,configurable:!0})}}var mt=function(v,U,Q,ue,we,Te,be){var fe={$$typeof:e,type:v,key:U,ref:Q,props:be,_owner:Te};return fe._store={},Object.defineProperty(fe._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(fe,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ue}),Object.defineProperty(fe,"_source",{configurable:!1,enumerable:!1,writable:!1,value:we}),Object.freeze&&(Object.freeze(fe.props),Object.freeze(fe)),fe};function ye(v,U,Q,ue,we){{var Te,be={},fe=null,He=null;Q!==void 0&&(me(Q),fe=""+Q),nt(U)&&(me(U.key),fe=""+U.key),ze(U)&&(He=U.ref,Qe(U,we));for(Te in U)C.call(U,Te)&&!G.hasOwnProperty(Te)&&(be[Te]=U[Te]);if(v&&v.defaultProps){var Me=v.defaultProps;for(Te in Me)be[Te]===void 0&&(be[Te]=Me[Te])}if(fe||He){var Le=typeof v=="function"?v.displayName||v.name||"Unknown":v;fe&&dt(be,Le),He&&pt(be,Le)}return mt(v,fe,He,we,ue,D.current,be)}}var Xe=w.ReactCurrentOwner,it=w.ReactDebugCurrentFrame;function ot(v){if(v){var U=v._owner,Q=Be(v.type,v._source,U?U.type:null);it.setExtraStackFrame(Q)}else it.setExtraStackFrame(null)}var qn;qn=!1;function Kn(v){return typeof v=="object"&&v!==null&&v.$$typeof===e}function Us(){{if(Xe.current){var v=j(Xe.current.type);if(v)return`

Check the render method of \``+v+"`."}return""}}function Ec(v){return""}var $s={};function wc(v){{var U=Us();if(!U){var Q=typeof v=="string"?v:v.displayName||v.name;Q&&(U=`

Check the top-level render call using <`+Q+">.")}return U}}function Hs(v,U){{if(!v._store||v._store.validated||v.key!=null)return;v._store.validated=!0;var Q=wc(U);if($s[Q])return;$s[Q]=!0;var ue="";v&&v._owner&&v._owner!==Xe.current&&(ue=" It was passed a child from "+j(v._owner.type)+"."),ot(v),b('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Q,ue),ot(null)}}function js(v,U){{if(typeof v!="object")return;if(se(v))for(var Q=0;Q<v.length;Q++){var ue=v[Q];Kn(ue)&&Hs(ue,U)}else if(Kn(v))v._store&&(v._store.validated=!0);else if(v){var we=f(v);if(typeof we=="function"&&we!==v.entries)for(var Te=we.call(v),be;!(be=Te.next()).done;)Kn(be.value)&&Hs(be.value,U)}}}function xc(v){{var U=v.type;if(U==null||typeof U=="string")return;var Q;if(typeof U=="function")Q=U.propTypes;else if(typeof U=="object"&&(U.$$typeof===u||U.$$typeof===d))Q=U.propTypes;else return;if(Q){var ue=j(U);Ee(Q,v.props,"prop",ue,v)}else if(U.PropTypes!==void 0&&!qn){qn=!0;var we=j(U);b("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",we||"Unknown")}typeof U.getDefaultProps=="function"&&!U.getDefaultProps.isReactClassApproved&&b("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function kc(v){{for(var U=Object.keys(v.props),Q=0;Q<U.length;Q++){var ue=U[Q];if(ue!=="children"&&ue!=="key"){ot(v),b("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ue),ot(null);break}}v.ref!==null&&(ot(v),b("Invalid attribute `ref` supplied to `React.Fragment`."),ot(null))}}var qs={};function Ks(v,U,Q,ue,we,Te){{var be=R(v);if(!be){var fe="";(v===void 0||typeof v=="object"&&v!==null&&Object.keys(v).length===0)&&(fe+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var He=Ec();He?fe+=He:fe+=Us();var Me;v===null?Me="null":se(v)?Me="array":v!==void 0&&v.$$typeof===e?(Me="<"+(j(v.type)||"Unknown")+" />",fe=" Did you accidentally export a JSX literal instead of a component?"):Me=typeof v,b("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Me,fe)}var Le=ye(v,U,Q,we,Te);if(Le==null)return Le;if(be){var Ge=U.children;if(Ge!==void 0)if(ue)if(se(Ge)){for(var St=0;St<Ge.length;St++)js(Ge[St],v);Object.freeze&&Object.freeze(Ge)}else b("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else js(Ge,v)}if(C.call(U,"key")){var ht=j(v),je=Object.keys(U).filter(function(Rc){return Rc!=="key"}),Gn=je.length>0?"{key: someKey, "+je.join(": ..., ")+": ...}":"{key: someKey}";if(!qs[ht+Gn]){var Ac=je.length>0?"{"+je.join(": ..., ")+": ...}":"{}";b(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Gn,ht,Ac,ht),qs[ht+Gn]=!0}}return v===r?kc(Le):xc(Le),Le}}function Sc(v,U,Q){return Ks(v,U,Q,!0)}function _c(v,U,Q){return Ks(v,U,Q,!1)}var Cc=_c,Tc=Sc;Dt.Fragment=r,Dt.jsx=Cc,Dt.jsxs=Tc}()),Dt}process.env.NODE_ENV==="production"?Gr.exports=Oc():Gr.exports=Nc();var k=Gr.exports,Mc=Object.defineProperty,sn=(n,e,t)=>((r,s,a)=>s in r?Mc(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a)(n,typeof e!="symbol"?e+"":e,t);class ct extends Error{constructor(e={}){super(e.message),sn(this,"exceptionId"),sn(this,"message"),sn(this,"source"),sn(this,"type"),this.message=e.message??"",this.source=e.source,this.type=this.constructor.name,this.exceptionId=e.exceptionId}}class gt extends ct{}let Cn=class extends ct{};const de=n=>{typeof n!="string"?n&&typeof n.toString=="function"?console.warn(`[nlux] ${n.toString()}`):console.warn("[nlux]"):console.warn(`[nlux] ${n}`)},Ys=[],Wr=n=>{Ys.includes(n)||(Ys.push(n),de(n))},Zi=class kn{static register(e){const t=e.__compId;t?kn.componentDefs.get(t)===void 0&&(e.__renderer&&e.__updater?kn.componentDefs.set(t,{id:t,model:e,render:e.__renderer,update:e.__updater}):de(`Component with id "${t}" missing renderer or updater`)):de("Component definition missing valid id")}static retrieve(e){const t=kn.componentDefs.get(e);if(t)return t;de(`Component with id "${e}" not registered`)}};Zi.componentDefs=new Map;let Qi=Zi;btoa("sectionsRegistered")+"";const tt=n=>{const e=requestAnimationFrame(()=>{n()});return()=>{cancelAnimationFrame(e)}},Yt=n=>{n.replaceChildren()},Ye=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const e=16*Math.random()|0;return(n=="x"?e:3&e|8).toString(16)});class We{constructor(e,t){this.subComponentElementIds=new Map,this.subComponents=new Map,this.__context=null,this.__destroyed=!1,this.__status="unmounted",this.actionsOnDomReady=[],this.compEventGetter=i=>{if(this.destroyed)return()=>{};const o=this.rendererEventListeners.get(i);if(!o)throw new ct({source:this.constructor.name,message:`Unable to call renderer event "${i}" because no matching event listener was found. Make sure that the event listener is registered using @CompEventListener() decorator in the component model class, and use class methods instead of arrow function attributes.`});return o};const r=Object.getPrototypeOf(this).constructor.__compId;if(!r)throw new gt({source:this.constructor.name,message:"Unable to instantiate component: missing compId in implementation. Component should be annotated using @Model() to set compId before iy can be instantiated."});if(this.def=Qi.retrieve(r)??null,!this.def)throw new gt({source:this.constructor.name,message:`Unable to instantiate component "${r}" because it's not registered. Component should be registered using CompRegistry.register(ComponentClass) before instantiating a component.`});this.__instanceId=Ye(),this.__destroyed=!1,this.__context=e,this.renderedDom=null,this.renderingRoot=null,this.props=t;const s=t?Object.entries(t):[];this.elementProps=new Map(s),this.rendererEventListeners=new Map;const a=this.constructor.__compEventListeners;a&&a.forEach((i,o)=>{i.forEach(u=>{const l=Object.getPrototypeOf(this)[u];typeof l=="function"?this.addRendererEventListener(o,l.bind(this)):de(`Unable to set event listener "${o}" because method "${u}" cannot be found on component "${this.constructor.name} at runtime!"`)})}),this.rendererProps=Object.freeze(t)}get destroyed(){return this.__destroyed}get id(){return this.__instanceId}get rendered(){return this.renderedDom!==null}get root(){return this.throwIfDestroyed(),this.renderedDom&&this.renderingRoot?this.renderingRoot:null}get status(){return this.__status}get context(){if(!this.__context)throw new gt({source:this.constructor.name,message:"Unable to get context because it's not set"});return this.__context}destroy(){this.destroyComponent()}destroyListItemComponent(){this.destroyComponent(!0)}getProp(e){return this.throwIfDestroyed(),this.elementProps.get(e)??null}render(e,t){var i;if(!this.def)return;if(this.destroyed)return void de(`Unable to render component "${(i=this.def)==null?void 0:i.id}" because it is already destroyed`);if(this.rendered||this.renderedDom)return void de(`Unable to render component "${this.def.id}" because it is already rendered`);const r=document.createDocumentFragment(),s=Object.getPrototypeOf(this).constructor.__compId,a=this.executeRenderer(r);if(!a)throw new ct({source:this.constructor.name,message:`Unable to render component "${s}" because renderer returned null`});this.renderedDom=a;for(const[,o]of this.subComponents){const u=this.getSubComponentPortal(o.id);u&&this.mountSubComponentToPortal(o.id,u)}tt(()=>{this.destroyed||(t?e.insertBefore(r,t):e.append(r),this.renderingRoot=e)})}updateSubComponent(e,t,r){this.throwIfDestroyed();const s=this.subComponents.get(e);s&&!s.destroyed&&s.setProp(t,r)}addSubComponent(e,t,r){if(this.throwIfDestroyed(),this.subComponents.has(e))throw new gt({source:this.constructor.name,message:`Unable to add sub-component "${e}" because it already exists`});if(this.subComponents.set(e,t),r&&this.subComponentElementIds.set(e,r),this.renderedDom){const s=this.getSubComponentPortal(e);s&&this.mountSubComponentToPortal(e,s)}}executeDomAction(e,...t){if(this.throwIfDestroyed(),!this.renderedDom)return void this.actionsOnDomReady.push(()=>this.executeDomAction(e,...t));if(!this.renderingRoot)throw new ct({source:this.constructor.name,message:"Unable to execute DOM action because renderingRoot is not set"});const r=this.renderedDom.actions[e];if(!r)throw new ct({source:this.constructor.name,message:`Unable to execute DOM action "${String(e)}" because it does not exist`});return tt(()=>r(...t))}executeRenderer(e){var s;const t=(s=this.def)==null?void 0:s.render;if(!t)return null;if(this.renderingRoot)throw new ct({source:this.constructor.name,message:"Unable to render component because renderingRoot is already set"});const r=t({appendToRoot:a=>{e.append(a),this.runDomActionsQueue()},compEvent:this.compEventGetter,props:this.rendererProps,context:this.context});return r&&(this.renderingRoot=e),r}removeSubComponent(e){this.throwIfDestroyed(),tt(()=>{const t=this.subComponents.get(e);t&&(t.renderingRoot=null,t.destroy(),this.subComponents.delete(e))})}runDomActionsQueue(){if(this.actionsOnDomReady.length>0&&this.rendered){const e=this.actionsOnDomReady;this.actionsOnDomReady=[];for(const t of e)tt(()=>t())}}setProp(e,t){this.destroyed?de(`Unable to set prop "${String(e)}" because component "${this.constructor.name}" is destroyed`):this.elementProps.has(e)?(this.schedulePropUpdate(e,this.elementProps.get(e),t),this.props=Object.freeze(Object.fromEntries(this.elementProps)),this.elementProps.set(e,t)):de(`Unable to set prop "${String(e)}" because it does not exist in the component props`)}throwIfDestroyed(){if(this.__destroyed)throw new gt({source:this.constructor.name,message:"Unable to call method on destroyed component"})}addRendererEventListener(e,t){if(this.throwIfDestroyed(),this.rendererEventListeners.has(e))throw new gt({source:this.constructor.name,message:`Unable to add event listener to rendererEvents "${e}" because it already exists`});this.rendererEventListeners.set(e,t)}destroyComponent(e=!1){if(this.throwIfDestroyed(),this.subComponents.forEach(t=>{t.destroy()}),this.renderedDom){this.renderedDom.elements&&(this.renderedDom.elements=void 0),this.renderedDom.actions&&(this.renderedDom.actions=void 0),this.renderedDom.onDestroy&&this.renderedDom.onDestroy();const t=this.renderingRoot;tt(()=>{var r;if(t)if(t instanceof DocumentFragment)for(;t.firstChild;)t.removeChild(t.firstChild);else e?(r=t.parentElement)==null||r.removeChild(t):Yt(t)}),this.renderedDom=null,this.renderingRoot=null}this.__destroyed=!0,this.__context=null,this.props=void 0,this.elementProps.clear(),this.rendererEventListeners.clear(),this.subComponents.clear()}getSubComponentPortal(e){var a;const t=this.subComponents.get(e),r=this.subComponentElementIds.get(e);if(!t||!r)return null;const s=((a=this.renderedDom)==null?void 0:a.elements)[r];return s instanceof HTMLElement?s:null}mountSubComponentToPortal(e,t){const r=this.subComponents.get(e);r==null||r.render(t)}schedulePropUpdate(e,t,r){var o;if(!this.renderedDom||!((o=this.def)!=null&&o.update))return;const s=this.renderedDom,a=this.renderingRoot,i=this.def.update;a&&tt(()=>{i({propName:e,currentValue:t,newValue:r,dom:{root:a,elements:s.elements,actions:s.actions},updateSubComponent:this.updateSubComponent})})}}We.__compEventListeners=null,We.__compId=null,We.__renderer=null,We.__updater=null;const ut=(n,e,t)=>r=>{r.__compId=n,r.__renderer=e,r.__updater=t},Ze=n=>(e,t)=>{const r=e;if(typeof r.constructor!="function")throw new gt({source:"CallbackFor",message:"@CallbackFor can only be used on methods of a class!"});r.constructor.hasOwnProperty("__compEventListeners")&&r.constructor.__compEventListeners!==null||(r.constructor.__compEventListeners=new Map);const s=r.constructor.__compEventListeners,a=s.get(n);a?a.push(t):s.set(n,[t])};function Dc(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let wt={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function Zs(n){wt=n}var Lc=Object.defineProperty,Xi=(n,e,t)=>((r,s,a)=>s in r?Lc(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a)(n,typeof e!="symbol"?e+"":e,t);let $t=class{constructor(e){Xi(this,"options"),this.options=e||wt}postprocess(e){return e}preprocess(e){return e}processAllTokens(e){return e}};Xi($t,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));const Vi=/[&<>"']/,Pc=new RegExp(Vi.source,"g"),Ji=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Bc=new RegExp(Ji.source,"g"),zc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Qs=n=>zc[n];function qe(n,e){if(e){if(Vi.test(n))return n.replace(Pc,Qs)}else if(Ji.test(n))return n.replace(Bc,Qs);return n}const Fc=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Uc(n){return n.replace(Fc,(e,t)=>(t=t.toLowerCase())==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const $c=/(^|[^\[])\^/g;function Se(n,e){let t=typeof n=="string"?n:n.source;e=e||"";const r={replace:(s,a)=>{let i=typeof a=="string"?a:a.source;return i=i.replace($c,"$1"),t=t.replace(s,i),r},getRegex:()=>new RegExp(t,e)};return r}function Xs(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Ht={exec:()=>null};function Vs(n,e){const t=n.replace(/\|/g,(s,a,i)=>{let o=!1,u=a;for(;--u>=0&&i[u]==="\\";)o=!o;return o?"|":" |"}).split(/ \|/);let r=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),e)if(t.length>e)t.splice(e);else for(;t.length<e;)t.push("");for(;r<t.length;r++)t[r]=t[r].trim().replace(/\\\|/g,"|");return t}function an(n,e,t){const r=n.length;if(r===0)return"";let s=0;for(;s<r;){const a=n.charAt(r-s-1);if(a!==e||t){if(a===e||!t)break;s++}else s++}return n.slice(0,r-s)}const Jt=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,eo=/(?:[*+-]|\d{1,9}[.)])/,to=Se(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,eo).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Es=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ws=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Hc=Se(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",ws).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),jc=Se(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,eo).getRegex(),$n="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",xs=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,qc=Se("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",xs).replace("tag",$n).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Js=Se(Es).replace("hr",Jt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$n).getRegex(),ks={blockquote:Se(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Js).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:Hc,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Jt,html:qc,lheading:to,list:jc,newline:/^(?: *(?:\n|$))+/,paragraph:Js,table:Ht,text:/^[^\n]+/},ea=Se("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Jt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$n).getRegex(),Kc={...ks,table:ea,paragraph:Se(Es).replace("hr",Jt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ea).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$n).getRegex()},Gc={...ks,html:Se(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",xs).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ht,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Se(Es).replace("hr",Jt).replace("heading",` *#{1,6} *[^
]`).replace("lheading",to).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},no=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ro=/^( {2,}|\\)\n(?!\s*$)/,en="\\p{P}\\p{S}",Wc=Se(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,en).getRegex(),Yc=Se(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,en).getRegex(),Zc=Se("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,en).getRegex(),Qc=Se("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,en).getRegex(),Xc=Se(/\\([punct])/,"gu").replace(/punct/g,en).getRegex(),Vc=Se(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Jc=Se(xs).replace("(?:-->|$)","-->").getRegex(),el=Se("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Jc).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Tn=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,tl=Se(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Tn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ta=Se(/^!?\[(label)\]\[(ref)\]/).replace("label",Tn).replace("ref",ws).getRegex(),na=Se(/^!?\[(ref)\](?:\[\])?/).replace("ref",ws).getRegex(),Ss={_backpedal:Ht,anyPunctuation:Xc,autolink:Vc,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:ro,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Ht,emStrongLDelim:Yc,emStrongRDelimAst:Zc,emStrongRDelimUnd:Qc,escape:no,link:tl,nolink:na,punctuation:Wc,reflink:ta,reflinkSearch:Se("reflink|nolink(?!\\()","g").replace("reflink",ta).replace("nolink",na).getRegex(),tag:el,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Ht},nl={...Ss,link:Se(/^!?\[(label)\]\((.*?)\)/).replace("label",Tn).getRegex(),reflink:Se(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Tn).getRegex()},Yr={...Ss,escape:Se(no).replace("])","~|])").getRegex(),url:Se(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},rl={...Yr,br:Se(ro).replace("{2,}","*").getRegex(),text:Se(Yr.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},on={normal:ks,gfm:Kc,pedantic:Gc},Lt={normal:Ss,gfm:Yr,breaks:rl,pedantic:nl};var sl=Object.defineProperty,Wn=(n,e,t)=>((r,s,a)=>s in r?sl(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a)(n,typeof e!="symbol"?e+"":e,t);function ra(n,e,t,r){const s=e.href,a=e.title?qe(e.title):null,i=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){r.state.inLink=!0;const o={type:"link",raw:t,href:s,title:a,text:i,tokens:r.inlineTokens(i)};return r.state.inLink=!1,o}return{type:"image",raw:t,href:s,title:a,text:qe(i)}}let An=class{constructor(e){Wn(this,"lexer"),Wn(this,"options"),Wn(this,"rules"),this.options=e||wt}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let r,s;return t[2]==="@"?(r=qe(t[1]),s="mailto:"+r):(r=qe(t[1]),s=r),{type:"link",raw:t[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let r=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);r=an(r.replace(/^ *>[ \t]?/gm,""),`
`);const s=this.lexer.state.top;this.lexer.state.top=!0;const a=this.lexer.blockTokens(r);return this.lexer.state.top=s,{type:"blockquote",raw:t[0],tokens:a,text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:an(r,`
`)}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const s=/[^ ]/.test(r),a=/^ /.test(r)&&/ $/.test(r);return s&&a&&(r=r.substring(1,r.length-1)),r=qe(r,!0),{type:"codespan",raw:t[0],text:r}}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),s=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:s,title:a}}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}emStrong(e,t,r=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(s&&!(s[3]&&r.match(/[\p{L}\p{N}]/u))&&(!(s[1]||s[2])||!r||this.rules.inline.punctuation.exec(r))){const a=[...s[0]].length-1;let i,o,u=a,l=0;const c=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+a);(s=c.exec(t))!=null;){if(i=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!i)continue;if(o=[...i].length,s[3]||s[4]){u+=o;continue}if((s[5]||s[6])&&a%3&&!((a+o)%3)){l+=o;continue}if(u-=o,u>0)continue;o=Math.min(o,o+u+l);const d=[...s[0]][0].length,p=e.slice(0,a+s.index+d+o);if(Math.min(a,o)%2){const h=p.slice(1,-1);return{type:"em",raw:p,text:h,tokens:this.lexer.inlineTokens(h)}}const m=p.slice(2,-2);return{type:"strong",raw:p,text:m,tokens:this.lexer.inlineTokens(m)}}}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:qe(t[1])}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],s=function(a,i){const o=a.match(/^(\s+)(?:```)/);if(o===null)return i;const u=o[1];return i.split(`
`).map(l=>{const c=l.match(/^\s+/);if(c===null)return l;const[d]=c;return d.length>=u.length?l.slice(u.length):l}).join(`
`)}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const s=an(r,"#");this.options.pedantic?r=s.trim():s&&!/ $/.test(s)||(r=s.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let r;return r=this.lexer.state.inRawBlock?t[0]:qe(t[0]),{type:"text",raw:t[0],text:r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const i=an(r.slice(0,-1),"\\");if((r.length-i.length)%2==0)return}else{const i=function(o,u){if(o.indexOf(u[1])===-1)return-1;let l=0;for(let c=0;c<o.length;c++)if(o[c]==="\\")c++;else if(o[c]===u[0])l++;else if(o[c]===u[1]&&(l--,l<0))return c;return-1}(t[2],"()");if(i>-1){const o=(t[0].indexOf("!")===0?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,o).trim(),t[3]=""}}let s=t[2],a="";if(this.options.pedantic){const i=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);i&&(s=i[1],a=i[3])}else a=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(r)?s.slice(1):s.slice(1,-1)),ra(t,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim();const s=r.length>1,a={type:"list",raw:"",ordered:s,start:s?+r.slice(0,-1):"",loose:!1,items:[]};r=s?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=s?r:"[*+-]");const i=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let o="",u="",l=!1;for(;e;){let c=!1;if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;o=t[0],e=e.substring(o.length);let d=t[2].split(`
`,1)[0].replace(/^\t+/,w=>" ".repeat(3*w.length)),p=e.split(`
`,1)[0],m=0;this.options.pedantic?(m=2,u=d.trimStart()):(m=t[2].search(/[^ ]/),m=m>4?1:m,u=d.slice(m),m+=t[1].length);let h=!1;if(!d&&/^ *$/.test(p)&&(o+=p+`
`,e=e.substring(p.length+1),c=!0),!c){const w=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),b=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),y=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),_=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;e;){const x=e.split(`
`,1)[0];if(p=x,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),y.test(p)||_.test(p)||w.test(p)||b.test(e))break;if(p.search(/[^ ]/)>=m||!p.trim())u+=`
`+p.slice(m);else{if(h||d.search(/[^ ]/)>=4||y.test(d)||_.test(d)||b.test(d))break;u+=`
`+p}h||p.trim()||(h=!0),o+=x+`
`,e=e.substring(x.length+1),d=p.slice(m)}}a.loose||(l?a.loose=!0:/\n *\n *$/.test(o)&&(l=!0));let g,f=null;this.options.gfm&&(f=/^\[[ xX]\] /.exec(u),f&&(g=f[0]!=="[ ] ",u=u.replace(/^\[[ xX]\] +/,""))),a.items.push({type:"list_item",raw:o,task:!!f,checked:g,loose:!1,text:u,tokens:[]}),a.raw+=o}a.items[a.items.length-1].raw=o.trimEnd(),a.items[a.items.length-1].text=u.trimEnd(),a.raw=a.raw.trimEnd();for(let c=0;c<a.items.length;c++)if(this.lexer.state.top=!1,a.items[c].tokens=this.lexer.blockTokens(a.items[c].text,[]),!a.loose){const d=a.items[c].tokens.filter(m=>m.type==="space"),p=d.length>0&&d.some(m=>/\n.*\n/.test(m.raw));a.loose=p}if(a.loose)for(let c=0;c<a.items.length;c++)a.items[c].loose=!0;return a}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const s=t[(r[2]||r[1]).replace(/\s+/g," ").toLowerCase()];if(!s){const a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return ra(r,s,r[0],this.lexer)}}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const r=Vs(t[1]),s=t[2].replace(/^\||\| *$/g,"").split("|"),a=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===s.length){for(const o of s)/^ *-+: *$/.test(o)?i.align.push("right"):/^ *:-+: *$/.test(o)?i.align.push("center"):/^ *:-+ *$/.test(o)?i.align.push("left"):i.align.push(null);for(const o of r)i.header.push({text:o,tokens:this.lexer.inline(o)});for(const o of a)i.rows.push(Vs(o,i.header.length).map(u=>({text:u,tokens:this.lexer.inline(u)})));return i}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}url(e){var r;let t;if(t=this.rules.inline.url.exec(e)){let s,a;if(t[2]==="@")s=qe(t[0]),a="mailto:"+s;else{let i;do i=t[0],t[0]=((r=this.rules.inline._backpedal.exec(t[0]))==null?void 0:r[0])??"";while(i!==t[0]);s=qe(t[0]),a=t[1]==="www."?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:s,href:a,tokens:[{type:"text",raw:s,text:s}]}}}};var al=Object.defineProperty,Pt=(n,e,t)=>((r,s,a)=>s in r?al(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a)(n,typeof e!="symbol"?e+"":e,t);let Tt=class Zr{constructor(e){Pt(this,"options"),Pt(this,"state"),Pt(this,"tokens"),Pt(this,"inlineQueue"),Pt(this,"tokenizer"),this.tokens=[],this.tokens.links=Object.create(null),this.options=e||wt,this.options.tokenizer=this.options.tokenizer||new An,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:on.normal,inline:Lt.normal};this.options.pedantic?(t.block=on.pedantic,t.inline=Lt.pedantic):this.options.gfm&&(t.block=on.gfm,this.options.breaks?t.inline=Lt.breaks:t.inline=Lt.gfm),this.tokenizer.rules=t}static get rules(){return{block:on,inline:Lt}}static lex(e,t){return new Zr(t).lex(e)}static lexInline(e,t){return new Zr(t).inlineTokens(e)}blockTokens(e,t=[]){let r,s,a,i;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(o,u,l)=>u+"    ".repeat(l.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>!!(r=o.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0))))if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),s=t[t.length-1],!s||s.type!=="paragraph"&&s.type!=="text"?t.push(r):(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.list(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.def(e))e=e.substring(r.raw.length),s=t[t.length-1],!s||s.type!=="paragraph"&&s.type!=="text"?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(s.raw+=`
`+r.raw,s.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else{if(a=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const u=e.slice(1);let l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},u),typeof l=="number"&&l>=0&&(o=Math.min(o,l))}),o<1/0&&o>=0&&(a=e.substring(0,o+1))}if(this.state.top&&(r=this.tokenizer.paragraph(a)))s=t[t.length-1],i&&s.type==="paragraph"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(r),i=a.length!==e.length,e=e.substring(r.raw.length);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),s=t[t.length-1],s&&s.type==="text"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(r);else if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,s,a,i,o,u,l=e;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)c.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(l))!=null;)l=l.slice(0,i.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(o||(u=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>!!(r=c.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0))))if(r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e))e=e.substring(r.raw.length),s=t[t.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):t.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),s=t[t.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):t.push(r);else if(r=this.tokenizer.emStrong(e,l,u))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.autolink(e))e=e.substring(r.raw.length),t.push(r);else if(this.state.inLink||!(r=this.tokenizer.url(e))){if(a=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const d=e.slice(1);let p;this.options.extensions.startInline.forEach(m=>{p=m.call({lexer:this},d),typeof p=="number"&&p>=0&&(c=Math.min(c,p))}),c<1/0&&c>=0&&(a=e.substring(0,c+1))}if(r=this.tokenizer.inlineText(a))e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(u=r.raw.slice(-1)),o=!0,s=t[t.length-1],s&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):t.push(r);else if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}throw new Error(c)}}else e=e.substring(r.raw.length),t.push(r);return t}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}};var il=Object.defineProperty,ol=(n,e,t)=>((r,s,a)=>s in r?il(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a)(n,e+"",t);let Rn=class{constructor(e){ol(this,"options"),this.options=e||wt}blockquote(e){return`<blockquote>
${e}</blockquote>
`}br(){return"<br>"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}code(e,t,r){var a;const s=(a=(t||"").match(/^\S*/))==null?void 0:a[0];return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="language-'+qe(s)+'">'+(r?e:qe(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:qe(e,!0))+`</code></pre>
`}codespan(e){return`<code>${e}</code>`}del(e){return`<del>${e}</del>`}em(e){return`<em>${e}</em>`}heading(e,t,r){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}html(e,t){return e}image(e,t,r){const s=Xs(e);if(s===null)return r;let a=`<img src="${e=s}" alt="${r}"`;return t&&(a+=` title="${t}"`),a+=">",a}link(e,t,r){const s=Xs(e);if(s===null)return r;let a='<a href="'+(e=s)+'"';return t&&(a+=' title="'+t+'"'),a+=">"+r+"</a>",a}list(e,t,r){const s=t?"ol":"ul";return"<"+s+(t&&r!==1?' start="'+r+'"':"")+`>
`+e+"</"+s+`>
`}listitem(e,t,r){return`<li>${e}</li>
`}paragraph(e){return`<p>${e}</p>
`}strong(e){return`<strong>${e}</strong>`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}tablerow(e){return`<tr>
${e}</tr>
`}text(e){return e}},_s=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}};var cl=Object.defineProperty,Yn=(n,e,t)=>((r,s,a)=>s in r?cl(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a)(n,typeof e!="symbol"?e+"":e,t);let At=class Qr{constructor(e){Yn(this,"options"),Yn(this,"renderer"),Yn(this,"textRenderer"),this.options=e||wt,this.options.renderer=this.options.renderer||new Rn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new _s}static parse(e,t){return new Qr(t).parse(e)}static parseInline(e,t){return new Qr(t).parseInline(e)}parse(e,t=!0){let r="";for(let s=0;s<e.length;s++){const a=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const i=a,o=this.options.extensions.renderers[i.type].call({parser:this},i);if(o!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(i.type)){r+=o||"";continue}}switch(a.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":{const i=a;r+=this.renderer.heading(this.parseInline(i.tokens),i.depth,Uc(this.parseInline(i.tokens,this.textRenderer)));continue}case"code":{const i=a;r+=this.renderer.code(i.text,i.lang,!!i.escaped);continue}case"table":{const i=a;let o="",u="";for(let c=0;c<i.header.length;c++)u+=this.renderer.tablecell(this.parseInline(i.header[c].tokens),{header:!0,align:i.align[c]});o+=this.renderer.tablerow(u);let l="";for(let c=0;c<i.rows.length;c++){const d=i.rows[c];u="";for(let p=0;p<d.length;p++)u+=this.renderer.tablecell(this.parseInline(d[p].tokens),{header:!1,align:i.align[p]});l+=this.renderer.tablerow(u)}r+=this.renderer.table(o,l);continue}case"blockquote":{const i=a,o=this.parse(i.tokens);r+=this.renderer.blockquote(o);continue}case"list":{const i=a,o=i.ordered,u=i.start,l=i.loose;let c="";for(let d=0;d<i.items.length;d++){const p=i.items[d],m=p.checked,h=p.task;let g="";if(p.task){const f=this.renderer.checkbox(!!m);l?p.tokens.length>0&&p.tokens[0].type==="paragraph"?(p.tokens[0].text=f+" "+p.tokens[0].text,p.tokens[0].tokens&&p.tokens[0].tokens.length>0&&p.tokens[0].tokens[0].type==="text"&&(p.tokens[0].tokens[0].text=f+" "+p.tokens[0].tokens[0].text)):p.tokens.unshift({type:"text",text:f+" "}):g+=f+" "}g+=this.parse(p.tokens,l),c+=this.renderer.listitem(g,h,!!m)}r+=this.renderer.list(c,o,u);continue}case"html":{const i=a;r+=this.renderer.html(i.text,i.block);continue}case"paragraph":{const i=a;r+=this.renderer.paragraph(this.parseInline(i.tokens));continue}case"text":{let i=a,o=i.tokens?this.parseInline(i.tokens):i.text;for(;s+1<e.length&&e[s+1].type==="text";)i=e[++s],o+=`
`+(i.tokens?this.parseInline(i.tokens):i.text);r+=t?this.renderer.paragraph(o):o;continue}default:{const i='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return r}parseInline(e,t){t=t||this.renderer;let r="";for(let s=0;s<e.length;s++){const a=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const i=this.options.extensions.renderers[a.type].call({parser:this},a);if(i!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){r+=i||"";continue}}switch(a.type){case"escape":{const i=a;r+=t.text(i.text);break}case"html":{const i=a;r+=t.html(i.text);break}case"link":{const i=a;r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break}case"image":{const i=a;r+=t.image(i.href,i.title,i.text);break}case"strong":{const i=a;r+=t.strong(this.parseInline(i.tokens,t));break}case"em":{const i=a;r+=t.em(this.parseInline(i.tokens,t));break}case"codespan":{const i=a;r+=t.codespan(i.text);break}case"br":r+=t.br();break;case"del":{const i=a;r+=t.del(this.parseInline(i.tokens,t));break}case"text":{const i=a;r+=t.text(i.text);break}default:{const i='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return r}};var jt,sa,Xr,ll=Object.defineProperty,so=n=>{throw TypeError(n)},Ve=(n,e,t)=>((r,s,a)=>s in r?ll(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a)(n,typeof e!="symbol"?e+"":e,t),Vr=(n,e,t)=>(((r,s,a)=>{s.has(r)||so("Cannot "+a)})(n,e,"access private method"),t);jt=new WeakSet,sa=function(n,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,n){const r="<p>An error occurred:</p><pre>"+qe(t.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(t);throw t}},Xr=function(n,e){return(t,r)=>{const s={...r},a={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(a.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),a.async=!0);const i=Vr(this,jt,sa).call(this,!!a.silent,!!a.async);if(t==null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(a.hooks&&(a.hooks.options=a),a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(t):t).then(o=>n(o,a)).then(o=>a.hooks?a.hooks.processAllTokens(o):o).then(o=>a.walkTokens?Promise.all(this.walkTokens(o,a.walkTokens)).then(()=>o):o).then(o=>e(o,a)).then(o=>a.hooks?a.hooks.postprocess(o):o).catch(i);try{a.hooks&&(t=a.hooks.preprocess(t));let o=n(t,a);a.hooks&&(o=a.hooks.processAllTokens(o)),a.walkTokens&&this.walkTokens(o,a.walkTokens);let u=e(o,a);return a.hooks&&(u=a.hooks.postprocess(u)),u}catch(o){return i(o)}}};const ft=new class{constructor(...n){var e,t,r;e=this,(t=jt).has(e)?so("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ve(this,"Hooks",$t),Ve(this,"Lexer",Tt),Ve(this,"Parser",At),Ve(this,"Renderer",Rn),Ve(this,"TextRenderer",_s),Ve(this,"Tokenizer",An),Ve(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),Ve(this,"options",this.setOptions),Ve(this,"parse",Vr(this,jt,Xr).call(this,Tt.lex,At.parse)),Ve(this,"parseInline",Vr(this,jt,Xr).call(this,Tt.lexInline,At.parseInline)),this.use(...n)}lexer(n,e){return Tt.lex(n,e??this.defaults)}parser(n,e){return At.parse(n,e??this.defaults)}setOptions(n){return this.defaults={...this.defaults,...n},this}use(...n){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(t=>{const r={...t};if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const a=e.renderers[s.name];e.renderers[s.name]=a?function(...i){let o=s.renderer.apply(this,i);return o===!1&&(o=a.apply(this,i)),o}:s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=e[s.level];a?a.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),t.renderer){const s=this.defaults.renderer||new Rn(this.defaults);for(const a in t.renderer){if(!(a in s))throw new Error(`renderer '${a}' does not exist`);if(a==="options")continue;const i=a,o=t.renderer[i],u=s[i];s[i]=(...l)=>{let c=o.apply(s,l);return c===!1&&(c=u.apply(s,l)),c||""}}r.renderer=s}if(t.tokenizer){const s=this.defaults.tokenizer||new An(this.defaults);for(const a in t.tokenizer){if(!(a in s))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const i=a,o=t.tokenizer[i],u=s[i];s[i]=(...l)=>{let c=o.apply(s,l);return c===!1&&(c=u.apply(s,l)),c}}r.tokenizer=s}if(t.hooks){const s=this.defaults.hooks||new $t;for(const a in t.hooks){if(!(a in s))throw new Error(`hook '${a}' does not exist`);if(a==="options")continue;const i=a,o=t.hooks[i],u=s[i];$t.passThroughHooks.has(a)?s[i]=l=>{if(this.defaults.async)return Promise.resolve(o.call(s,l)).then(d=>u.call(s,d));const c=o.call(s,l);return u.call(s,c)}:s[i]=(...l)=>{let c=o.apply(s,l);return c===!1&&(c=u.apply(s,l)),c}}r.hooks=s}if(t.walkTokens){const s=this.defaults.walkTokens,a=t.walkTokens;r.walkTokens=function(i){let o=[];return o.push(a.call(this,i)),s&&(o=o.concat(s.call(this,i))),o}}this.defaults={...this.defaults,...r}}),this}walkTokens(n,e){var r,s;let t=[];for(const a of n)switch(t=t.concat(e.call(this,a)),a.type){case"table":{const i=a;for(const o of i.header)t=t.concat(this.walkTokens(o.tokens,e));for(const o of i.rows)for(const u of o)t=t.concat(this.walkTokens(u.tokens,e));break}case"list":{const i=a;t=t.concat(this.walkTokens(i.items,e));break}default:{const i=a;(s=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&s[i.type]?this.defaults.extensions.childTokens[i.type].forEach(o=>{const u=i[o].flat(1/0);t=t.concat(this.walkTokens(u,e))}):i.tokens&&(t=t.concat(this.walkTokens(i.tokens,e)))}}return t}};function Ie(n,e){return ft.parse(n,e)}Ie.options=Ie.setOptions=function(n){return ft.setOptions(n),Ie.defaults=ft.defaults,Zs(Ie.defaults),Ie},Ie.getDefaults=Dc,Ie.defaults=wt,Ie.use=function(...n){return ft.use(...n),Ie.defaults=ft.defaults,Zs(Ie.defaults),Ie},Ie.walkTokens=function(n,e){return ft.walkTokens(n,e)},Ie.parseInline=ft.parseInline,Ie.Parser=At,Ie.parser=At.parse,Ie.Renderer=Rn,Ie.TextRenderer=_s,Ie.Lexer=Tt,Ie.lexer=Tt.lex,Ie.Tokenizer=An,Ie.Hooks=$t,Ie.parse=Ie;const ao=(n,e)=>{const{showCodeBlockCopyButton:t,markdownLinkTarget:r,syntaxHighlighter:s,htmlSanitizer:a}=e||{},i=Ie(n,{async:!1,breaks:!0});if(typeof i!="string")throw new Error("Markdown parsing failed");const o=document.createElement("div");return o.innerHTML=a?a(i):i,o.querySelectorAll("pre").forEach(u=>{const l=document.createElement("div");l.className="code-block";const c=u.querySelector("code");if(!c){const h=u.innerHTML;return l.innerHTML=a?a(h):h,void u.replaceWith(l)}let d;for(let h=0;h<c.classList.length;h++){const g=c.classList[h];if(g.startsWith("language-")){d=g.slice(9);break}}const p=document.createElement("pre"),m="<div>"+c.innerHTML+"</div>";if(p.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(m):m,d&&(p.setAttribute("data-language",d),s)){const h="<div>"+s.createHighlighter()(c.textContent||"",d)+"</div>";p.innerHTML=a?a(h):h,p.className="highlighter-dark"}Yt(l),l.appendChild(p),u.replaceWith(l)}),t!==!1&&o.querySelectorAll(".code-block").forEach(u=>{var p;if(!u.querySelector("pre")||(p=u.previousElementSibling)!=null&&p.classList.contains("nlux-comp-copyButton"))return;const l="Copy code block to clipboard",c=document.createElement("button");c.classList.add("nlux-comp-copyButton"),c.setAttribute("aria-label",l),c.setAttribute("title",l);const d=document.createElement("span");d.classList.add("icon-copy"),c.appendChild(d),u.appendChild(c)}),r!=="self"&&o.querySelectorAll("a").forEach(u=>{u.setAttribute("target","_blank")}),o.innerHTML},aa=n=>{if(!(n instanceof HTMLButtonElement)||n.dataset.clickListenerSet==="true")return;let e=!1;const t=n.nextElementSibling;n.addEventListener("click",()=>{if(e||!t)return;const r=t.innerText;navigator.clipboard.writeText(r??""),e=!0,n.classList.add("clicked"),setTimeout(()=>{e=!1,n.classList.remove("clicked")},1e3)}),n.dataset.clickListenerSet="true"},io=n=>{const e="nlux-comp-copyButton";n instanceof HTMLButtonElement&&n.classList.contains(e)?aa(n):n.querySelectorAll(`.${e}`).forEach(aa)},ul=(n,e)=>{let t=!1;const{onComplete:r}=e||{},s=[],a=(e!=null&&e.skipStreamingAnimation?"timeout":"animationFrame")=="timeout"?d=>setTimeout(d,0):d=>requestAnimationFrame(d),i=document.createElement("div");i.classList.add("md-in-progress"),n.append(i);const o=()=>{for(;i.firstChild;){const d=i.firstChild;d instanceof HTMLElement&&io(d),i.before(d)}},u=!(e!=null&&e.skipStreamingAnimation)&&(e!=null&&e.streamingAnimationSpeed)&&e.streamingAnimationSpeed>=0?e.streamingAnimationSpeed:e!=null&&e.skipStreamingAnimation?0:8,l={timeSinceLastProcessing:new Date().getTime(),currentMarkdown:"",previousHtml:void 0};let c=setInterval(()=>{const d=new Date().getTime(),p=(e==null?void 0:e.waitTimeBeforeStreamCompletion)!=="never";if(s.length===0&&p){const h=typeof(e==null?void 0:e.waitTimeBeforeStreamCompletion)=="number"?e.waitTimeBeforeStreamCompletion:2e3;return void((t||d-l.timeSinceLastProcessing>h)&&(t=!0,c&&(clearInterval(c),c=void 0),o(),i.remove(),r==null?void 0:r()))}l.timeSinceLastProcessing=d;const m=s.shift();m!==void 0&&typeof m=="string"&&a(()=>{const h=l.currentMarkdown+m,g=ao(h,e).trim();if(typeof g!="string")return l.currentMarkdown=l.currentMarkdown.slice(0,-m.length),void de("Markdown parsing failed");if(l.previousHtml&&g.length>l.previousHtml.length&&g.startsWith(l.previousHtml)){o();const f=g.slice(l.previousHtml.length).trim();i.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(f):f,l.currentMarkdown=m,l.previousHtml=void 0}else i.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(g):g,l.currentMarkdown=h,l.previousHtml=g})},u);return{next:d=>{if(t)de("Stream is already complete. No more chunks can be added");else for(const p of d)s.push(p)},complete:()=>{s.push(`
`),t=!0},cancel:()=>{c&&(clearInterval(c),c=void 0),t=!0,i.remove()},error:()=>{t=!0}}},oo=(n,e)=>{const t=document.createElement("div");if(t.classList.add("nlux-comp-avatarContainer"),n){const r=document.createElement("div");r.classList.add("nlux-comp-avatarPicture"),r.style.backgroundImage=`url("${encodeURI(n)}")`,t.append(r)}return t},Cs="nlux-comp-avatar",Ts=n=>{const e=document.createElement("div");return e.classList.add(Cs),n.avatar||n.name?(n.name&&(e.title=n.name),n.avatar&&n.avatar instanceof HTMLElement?(e.append(n.avatar.cloneNode(!0)),e):(e.append(oo(n.avatar)),e)):e},cn={received:"nlux_msg_received",sent:"nlux_msg_sent"},co=(n,e)=>{Object.keys(cn).forEach(t=>{n.classList.remove(cn[t])}),cn[e]&&n.classList.add(cn[e])},Ut={streaming:"nlux_msg_streaming",complete:"nlux_msg_complete"},lo=(n,e)=>{Object.keys(Ut).forEach(t=>{n.classList.remove(Ut[t])}),Ut[e]&&n.classList.add(Ut[e])},uo=(n,e="text",t)=>{if(e==="markdown"){const r=document.createElement("div"),s=ao(n,t);r.innerHTML=t!=null&&t.htmlSanitizer?t.htmlSanitizer(s):s,io(r);const a=document.createDocumentFragment();for(;r.firstChild;)a.appendChild(r.firstChild);return a}return document.createTextNode(n)},po="nlux-comp-message",ln={received:"nlux-comp-chatItem--received",sent:"nlux-comp-chatItem--sent"},mo=(n,e)=>{Object.keys(ln).forEach(t=>{n.classList.remove(ln[t])}),ln[e]&&n.classList.add(ln[e])},un={bubbles:"nlux-comp-chatItem--bubblesLayout",list:"nlux-comp-chatItem--listLayout"},ho=(n,e)=>{Object.keys(un).forEach(t=>{n.classList.remove(un[t])}),un[e]&&n.classList.add(un[e])},go="nlux-comp-chatItem-participantInfo",fo="nlux-comp-chatItem-participantName",dl=n=>{const e=document.createElement("div");e.classList.add("nlux-comp-chatItem");const t={direction:n.direction,status:n.status,message:n.message,htmlSanitizer:n.htmlSanitizer};let r;if(n.avatar!==void 0){const i={name:n.name,avatar:n.avatar};r=Ts(i)}const s=document.createElement("span");s.classList.add(fo),s.textContent=n.name;{const i=document.createElement("div");i.classList.add(go),r!==void 0&&i.append(r),i.append(s),e.append(i)}mo(e,n.direction),ho(e,n.layout);const a=(i=>{const o=document.createElement("div");o.classList.add(po);const u=i.status?i.status:"complete";return lo(o,u),co(o,i.direction),o})(t);return e.append(a),e},ia=(n,e,t)=>{if(e.name!==t.name&&typeof t.avatar=="string"){const r=t.name&&t.name.length>0?t.name[0].toUpperCase():"",s=n.querySelector("* > .nlux-comp-avatarContainer > .avtr_ltr");s==null||s.replaceChildren(r)}},bo=(n,e,t)=>{e.avatar===t.avatar&&e.name===t.name||(e.avatar!==t.avatar&&((r,s,a)=>{if(s.avatar!==a.avatar)if(typeof a.avatar=="string"&&typeof s.avatar=="string"){const i=r.querySelector("* > .nlux-comp-avatarContainer > .nlux-comp-avatarPicture");i!==null&&(i.style.backgroundImage=`url("${encodeURI(a.avatar)}")`)}else if(typeof a.avatar=="string"){const i=oo(a.avatar);r.replaceChildren(i)}else a.avatar?r.replaceChildren(a.avatar.cloneNode(!0)):Yt(r)})(n,e,t),t.name?e.name!==t.name&&(n.title=t.name,ia(n,e,t)):(n.title="",ia(n,e,t)))},pl=(n,e,t)=>{if(e.message===t.message&&e.status===t.status&&e.direction===t.direction||!t||!t.hasOwnProperty("message")&&!t.hasOwnProperty("status")&&!t.hasOwnProperty("direction"))return;e.direction!==t.direction&&co(n,t.direction);const r=t.status;if(e.status!==r)return lo(n,t.status),void((s,a,i)=>{const o=i.status;if(o!=="streaming"&&o==="complete"){const u=i.message?i.message:"",l=document.createTextNode(u);s.classList.add(Ut[o]),Yt(s),s.append(l)}})(n,0,t);r==="complete"&&(e.message===t.message&&e.format===t.format||((s,a,i)=>{a.message===i.message&&a.format===i.format||(Yt(s),s.append(uo(i.message??"",i.format,{htmlSanitizer:i.htmlSanitizer})))})(n,e,t))},oa="dom/getElement";var ml=Object.defineProperty,hl=Object.getOwnPropertyDescriptor,ca=(n,e,t,r)=>{for(var s,a=r>1?void 0:r?hl(e,t):e,i=n.length-1;i>=0;i--)(s=n[i])&&(a=(r?s(e,t,a):s(a))||a);return r&&a&&ml(e,t,a),a};let Sn=class extends We{constructor(e,t){super(e,t),this.serverResponse=[],this.stringContent="",t.domProps.message!==void 0&&(this.stringContent=t.domProps.message)}addChunk(e,t){this.throwIfDestroyed(),this.executeDomAction("processStreamedChunk",e),typeof e=="string"&&(this.stringContent+=e),this.serverResponse.push(t)}commitChunks(){this.throwIfDestroyed(),this.executeDomAction("commitStreamedChunks")}getChatSegmentItem(){return this.getProp("domProps").direction==="received"?{uid:this.props.uid,participantRole:"assistant",content:this.getItemContent(),serverResponse:this.serverResponse,status:"complete",dataTransferMode:"batch",time:new Date}:{uid:this.props.uid,participantRole:"user",content:this.getItemContent(),status:"complete",time:new Date}}getItemContent(){return this.aiMessageContent??this.stringContent}updateDomProps(e){const t=this.getProp("domProps"),r={...t,...e};this.setProp("domProps",r),this.executeDomAction("updateDomProps",t,r)}updateMarkdownStreamRenderer(e,t){if(this.setProp(e,t),e==="syntaxHighlighter"){const r=t;this.executeDomAction("updateMarkdownStreamRenderer",{syntaxHighlighter:r})}if(e==="htmlSanitizer"){const r=t;this.executeDomAction("updateMarkdownStreamRenderer",{htmlSanitizer:r})}}onMarkdownStreamComplete(e){this.context.emit("messageRendered",{uid:this.props.uid})}};ca([Ze("markdown-stream-complete")],Sn.prototype,"onMarkdownStreamComplete",1),Sn=ca([ut("chatItem",({props:n,appendToRoot:e,compEvent:t})=>{const r=dl({...n.domProps,htmlSanitizer:n.htmlSanitizer,message:void 0}),s=((c,d)=>{const p=c.querySelector(d);if(!p)throw new Cn({source:oa,message:`Could not find element with query "${d}". Make sure the query provided matches an element that exists in the root element.`});if(!(p instanceof HTMLElement))throw new Cn({source:oa,message:`Element with query "${d}" is not a valid HTMLElement.`});return p})(r,".nlux-comp-message");if(!s)throw new Error("Message container not found");const a=document.createElement("div");a.classList.add("nlux-markdownStream-root");const i=document.createElement("div");if(i.classList.add("nlux-markdown-container"),i.setAttribute("nlux-message-id",n.uid),a.append(i),s.append(a),n.domProps.message){const c=uo(n.domProps.message??"","markdown",{markdownLinkTarget:n.markdownLinkTarget,syntaxHighlighter:n.syntaxHighlighter,htmlSanitizer:n.htmlSanitizer});i.append(c)}let o;e(r);let u={...n};const l=c=>((d,p)=>{const m=ul(d,{syntaxHighlighter:p==null?void 0:p.syntaxHighlighter,htmlSanitizer:p==null?void 0:p.htmlSanitizer,markdownLinkTarget:p==null?void 0:p.markdownLinkTarget,showCodeBlockCopyButton:p==null?void 0:p.showCodeBlockCopyButton,skipStreamingAnimation:p==null?void 0:p.skipStreamingAnimation,streamingAnimationSpeed:p==null?void 0:p.streamingAnimationSpeed,waitTimeBeforeStreamCompletion:p==null?void 0:p.waitTimeBeforeStreamCompletion,onComplete:p==null?void 0:p.onComplete});return{next(h){m.next(h)},complete(){m.complete()}}})(i,{syntaxHighlighter:c.syntaxHighlighter,htmlSanitizer:c.htmlSanitizer,markdownLinkTarget:c.markdownLinkTarget,showCodeBlockCopyButton:c.showCodeBlockCopyButton,skipStreamingAnimation:c.skipStreamingAnimation,streamingAnimationSpeed:c.streamingAnimationSpeed,onComplete:()=>t("markdown-stream-complete")});return{elements:{chatItemContainer:r},actions:{focus:()=>{r.focus()},processStreamedChunk:c=>{o||(o=l(u)),o.next(c)},commitStreamedChunks:()=>{o&&o.complete()},updateMarkdownStreamRenderer:c=>{u={...u,...c},l(u)},updateDomProps:(c,d)=>{((p,m,h)=>{if((m.direction!==h.direction||m.layout!==h.layout||m.status!==h.status||m.message!==h.message||m.name!==h.name||m.avatar!==h.avatar)&&h&&(h.hasOwnProperty("direction")||h.hasOwnProperty("layout")||h.hasOwnProperty("status")||h.hasOwnProperty("message")||h.hasOwnProperty("loader")||h.hasOwnProperty("name")||h.hasOwnProperty("avatar"))){if(m.direction!==h.direction&&mo(p,h.direction),m.layout!==h.layout&&ho(p,h.layout),m.direction!==h.direction||m.status!==h.status||m.message!==h.message){const g=p.querySelector(`.${po}`);g&&pl(g,{direction:m.direction,status:m.status,message:m.message,htmlSanitizer:m.htmlSanitizer},{direction:h.direction,status:h.status,message:h.message,htmlSanitizer:m.htmlSanitizer})}if(m.name!==h.name||m.avatar!==h.avatar){const g=p.querySelector(`.${Cs}`);if(!h.name&&!h.avatar)return void(g==null?void 0:g.remove());if(g)bo(g,{name:m.name,avatar:m.avatar},{name:h.name,avatar:h.avatar});else if(h.name!==void 0||h.avatar!==void 0){const f={name:h.name,avatar:h.avatar},w=Ts(f),b=p.querySelector(`.${go}`);b&&b.prepend(w)}}if(m.name!==h.name){const g=p.querySelector(`.${fo}`);g&&(g.textContent=h.name||"")}}})(r,c,d)}},onDestroy:()=>{r.remove(),o=void 0}}},({propName:n,newValue:e,dom:t})=>{var r;switch(n){case"markdownLinkTarget":case"skipStreamingAnimation":case"syntaxHighlighter":case"htmlSanitizer":case"showCodeBlockCopyButton":case"streamingAnimationSpeed":(r=t.actions)==null||r.updateMarkdownStreamRenderer({[n]:e})}})],Sn);const gl=(n,e)=>{let t,r=e,s=n,a=!0;const i=((g,f)=>{let w=!1;if(typeof g!="function")throw new ct({source:"x/throttle",message:"Callback must be a function"});return(...b)=>{w||(g.apply(void 0,b),w=!0,setTimeout(function(){w=!1},f))}})((g=>{let f,w;return b=>{const y=b.target;if(!(y instanceof HTMLElement))return;const{scrollTop:_,clientHeight:x,scrollHeight:I}=y,F=I-30,O=Math.ceil(_+x)>=F,A=f===void 0||w===void 0?void 0:_>f&&w===I?"down":_<f&&w===I?"up":void 0;w=I,f=_,g({scrolledToBottom:O,scrollDirection:A})}})(({scrolledToBottom:g,scrollDirection:f})=>{a?f==="up"&&(a=!1):f==="down"&&g&&(a=!0)}),50),o=g=>{g.addEventListener("scroll",i)},u=g=>{g==null||g.removeEventListener("scroll",i)},l=g=>{(t==null?void 0:t.uid)===g&&(c==null||c.disconnect(),d==null||d.disconnect(),t=void 0,c=void 0,d=void 0)};let c,d;const p=()=>{s==null||s.scrollTo({top:5e4,behavior:"instant"})},m=()=>{s&&r&&a&&p()},h=()=>{m()};return o(s),{updateConversationContainer:g=>{u(s),o(g),s=g},updateProps:({autoScroll:g})=>{r=g},handleNewChatSegmentAdded:(g,f)=>{t&&(c==null||c.disconnect(),d==null||d.disconnect()),t={uid:g,container:f},c=new ResizeObserver(m),c.observe(f),d=new MutationObserver(h),d.observe(f,{childList:!0,subtree:!0,characterData:!0}),r&&p()},handleChatSegmentRemoved:g=>l(g),handleChatSegmentComplete:g=>l(g),destroy:()=>{t&&(l(t.uid),t=void 0),u(s),s=void 0}}},Rt=n=>{var r;const e=typeof n=="function"?n.__compId:void 0;if(!e)throw new Error("Invalid compClass! Component should be registered before using");const t=(r=Qi.retrieve(e))==null?void 0:r.model;if(!t||typeof t!="function")throw new Error(`Component "${e}" is not registered`);return{withContext:s=>({create:()=>new t(s,{}),withProps:a=>({create:()=>new t(s,a)})})}},fl=n=>{const e=["adapter","events"],t=Object.keys(n).filter(s=>!e.includes(s)),r={};for(let s=0;s<t.length;s++){const a=t[s];r[a]=n[a]}return r},yo=()=>{const n=document.createElement("div");n.classList.add("nlux-comp-messageLoader");const e=document.createElement("span");e.classList.add("spinning-loader");const t=document.createElement("div");return t.classList.add("nlux-comp-loaderContainer"),t.appendChild(e),n.appendChild(t),n},la=n=>{const e="nlux-chatSegment";return n==="complete"?`${e} nlux-chatSegment--complete`:n==="error"?`${e} nlux-chatSegment--error`:`${e} nlux-chatSegment--active`},dn=(n,e)=>{var t,r;return n==="assistant"?((t=e==null?void 0:e.assistant)==null?void 0:t.name)??"Assistant":n==="user"?((r=e==null?void 0:e.user)==null?void 0:r.name)??"User":""},bl="bubbles";var yl=Object.defineProperty,vl=Object.getOwnPropertyDescriptor,pn=(n,e,t,r)=>{for(var s,a=r>1?void 0:r?vl(e,t):e,i=n.length-1;i>=0;i--)(s=n[i])&&(a=(r?s(e,t,a):s(a))||a);return r&&a&&yl(e,t,a),a};let Ct=class extends We{constructor(e,t){super(e,t),this.chatItemCompIdsByIndex=[],this.chatItemComponentsById=new Map}addChatItem(e){var s,a;if(this.throwIfDestroyed(),this.chatItemComponentsById.has(e.uid))throw new Error(`CompChatSegment: chat item with id "${e.uid}" already exists`);const t=((i,o,u,l)=>{const c=o??bl;if(i.participantRole==="assistant"){const p=i.status==="complete"?"complete":"streaming";return i.dataTransferMode==="stream"?{status:p,layout:c,direction:"received",name:dn("assistant",{assistant:l}),avatar:l==null?void 0:l.avatar}:i.status==="complete"?{status:p,layout:c,direction:"received",name:dn("assistant",{assistant:l}),avatar:l==null?void 0:l.avatar,message:(d=i.content,typeof d=="string"?d:typeof d=="object"?`${d}`:d==null?"":typeof d.toString=="function"?d.toString():JSON.stringify(d))}:{status:p,layout:c,direction:"received",name:dn("assistant",{assistant:l}),avatar:l==null?void 0:l.avatar}}var d;return{status:"complete",layout:c,direction:"sent",message:i.content,name:dn("user",{user:u}),avatar:u==null?void 0:u.avatar}})(e,this.getProp("conversationLayout"),this.getProp("userPersona"),this.getProp("assistantPersona"));if(!t)throw new Error(`CompChatSegment: chat item with id "${e.uid}" has invalid props`);const r=Rt(Sn).withContext(this.context).withProps({uid:e.uid,domProps:t,markdownLinkTarget:this.getProp("markdownLinkTarget"),showCodeBlockCopyButton:this.getProp("showCodeBlockCopyButton"),skipStreamingAnimation:this.getProp("skipStreamingAnimation"),syntaxHighlighter:this.getProp("syntaxHighlighter"),htmlSanitizer:this.getProp("htmlSanitizer"),streamingAnimationSpeed:this.getProp("streamingAnimationSpeed")}).create();this.chatItemComponentsById.set(e.uid,r),this.chatItemCompIdsByIndex.push(e.uid),this.rendered&&((a=(s=this.renderedDom)==null?void 0:s.elements)!=null&&a.chatSegmentContainer?r.render(this.renderedDom.elements.chatSegmentContainer,this.renderedDom.elements.loaderContainer):Wr("CompChatSegment: chatSegmentContainer is not available"))}addChunk(e,t,r){if(this.destroyed)return;const s=this.chatItemComponentsById.get(e);if(!s)throw new Error(`CompChatSegment: chat item with id "${e}" not found`);s.addChunk(t,r)}complete(){this.throwIfDestroyed(),this.chatItemComponentsById.forEach(e=>e.commitChunks()),this.setProp("status","complete")}destroy(){this.chatItemComponentsById.forEach(e=>e.destroy()),this.chatItemComponentsById.clear(),this.chatItemCompIdsByIndex=[],super.destroy()}getChatItems(){return this.chatItemCompIdsByIndex.map(e=>this.chatItemComponentsById.get(e)).filter(e=>!!e)}setAssistantPersona(e){this.setProp("assistantPersona",e);const t={name:e==null?void 0:e.name,avatar:e==null?void 0:e.avatar};this.chatItemComponentsById.forEach(r=>{r.getChatSegmentItem().participantRole==="assistant"&&r.updateDomProps(t)})}setLayout(e){this.setProp("conversationLayout",e),this.chatItemComponentsById.forEach(t=>{t.updateDomProps({layout:e})})}setUserPersona(e){this.setProp("userPersona",e);const t={name:e==null?void 0:e.name,avatar:e==null?void 0:e.avatar};this.chatItemComponentsById.forEach(r=>{r.getChatSegmentItem().participantRole==="user"&&r.updateDomProps(t)})}updateMarkdownStreamRenderer(e,t){this.setProp(e,t)}onLoaderShown(e){var t;(t=this.renderedDom)!=null&&t.elements&&(this.renderedDom.elements.loaderContainer=e)}setProp(e,t){super.setProp(e,t),e!=="markdownLinkTarget"&&e!=="syntaxHighlighter"&&e!=="htmlSanitizer"&&e!=="skipStreamingAnimation"&&e!=="streamingAnimationSpeed"||this.chatItemComponentsById.forEach(r=>{r.updateMarkdownStreamRenderer(e,t)})}onChatSegmentReady(){tt(()=>{var t,r,s,a;if(!((r=(t=this.renderedDom)==null?void 0:t.elements)!=null&&r.chatSegmentContainer))return;const e=(a=(s=this.renderedDom)==null?void 0:s.elements)==null?void 0:a.chatSegmentContainer;this.chatItemComponentsById.forEach(i=>{i.rendered||i.render(e)})})}onLoaderHidden(){var e;(e=this.renderedDom)!=null&&e.elements&&(this.renderedDom.elements.loaderContainer=void 0)}};pn([Ze("loader-shown")],Ct.prototype,"onLoaderShown",1),pn([Ze("chat-segment-ready")],Ct.prototype,"onChatSegmentReady",1),pn([Ze("loader-hidden")],Ct.prototype,"onLoaderHidden",1),Ct=pn([ut("chatSegment",({props:n,compEvent:e,appendToRoot:t})=>{let r;const s=document.createElement("div");s.className=la(n.status);const a=()=>{if(!r){r=document.createElement("div"),r.className="nlux-chatSegment-loader-container";const i=yo();r.appendChild(i),s.appendChild(r),e("loader-shown")(r)}};return n.status==="active"&&a(),t(s),e("chat-segment-ready")(),{elements:{chatSegmentContainer:s,loaderContainer:r},actions:{showLoader:a,hideLoader:()=>{r&&(r.remove(),r=void 0,e("loader-hidden")())}},onDestroy:()=>{s.remove()}}},({propName:n,newValue:e,dom:t})=>{var r,s,a;if(n==="status"){const i=(r=t.elements)==null?void 0:r.chatSegmentContainer;if(!i)return;const o=e;i.className=la(o),o==="active"?(s=t.actions)==null||s.showLoader():(a=t.actions)==null||a.hideLoader()}})],Ct);let Jr=class extends We{constructor(e,t){super(e,t),this.chatSegmentCompIdsByIndex=[],this.chatSegmentComponentsById=new Map,t.messages&&t.messages.length>0&&this.addChatSegment("complete",t.messages)}addChatItem(e,t){const r=this.chatSegmentComponentsById.get(e);if(!r)throw new Error(`CompConversation: chat segment with id "${e}" not found`);r.destroyed?Wr(`CompConversation: chat segment with id "${e}" is destroyed and cannot be used`):r.addChatItem(t)}addChatSegment(e="active",t){this.throwIfDestroyed();const r=Ye(),s=Rt(Ct).withContext(this.context).withProps({uid:r,status:e,conversationLayout:this.getProp("conversationLayout"),userPersona:this.getProp("userPersona"),assistantPersona:this.getProp("assistantPersona"),markdownLinkTarget:this.getProp("markdownLinkTarget"),showCodeBlockCopyButton:this.getProp("showCodeBlockCopyButton"),skipStreamingAnimation:this.getProp("skipStreamingAnimation"),syntaxHighlighter:this.getProp("syntaxHighlighter"),htmlSanitizer:this.getProp("htmlSanitizer"),streamingAnimationSpeed:this.getProp("streamingAnimationSpeed")}).create();if(t)for(const i of t)i.role==="assistant"?s.addChatItem({uid:Ye(),participantRole:"assistant",time:new Date,dataTransferMode:"batch",status:"complete",content:i.message,serverResponse:i.serverResponse,contentType:"text"}):i.role==="user"&&s.addChatItem({uid:Ye(),participantRole:"user",time:new Date,status:"complete",content:i.message,contentType:"text"});this.chatSegmentComponentsById.set(r,s),this.chatSegmentCompIdsByIndex.push(r);const a=s.id;return this.addSubComponent(a,s,"segmentsContainer"),this.notifyAboutSegmentCountChange(this.chatSegmentCompIdsByIndex.length),r}addChunk(e,t,r,s){const a=this.chatSegmentComponentsById.get(e);if(!a)throw new Error(`CompConversation: chat segment with id "${e}" not found`);a.addChunk(t,r,s)}completeChatSegment(e){const t=this.chatSegmentComponentsById.get(e);if(!t)throw new Error(`CompConversation: chat segment with id "${e}" not found`);t.destroyed||t.complete()}getChatSegmentContainer(e){const t=this.chatSegmentComponentsById.get(e);if((t==null?void 0:t.root)instanceof HTMLElement)return t.root}getConversationContentForAdapter(e="max"){if(typeof e=="number"&&e<0)return void Wr(`Invalid value provided for 'historyPayloadSize' : "${e}"! Value must be a positive integer or 'max'.`);if(e===0)return;const t=(r=>{const s=[];return r.forEach(a=>{a.items.forEach(i=>{if(i.status==="complete"){if(i.participantRole==="assistant")s.push({role:"assistant",message:i.content});else if(i.participantRole==="user")return s.push({role:"user",message:i.content})}})}),s})(this.chatSegmentCompIdsByIndex.map(r=>this.chatSegmentComponentsById.get(r)).filter(r=>r!==void 0).map(r=>({uid:r.id,status:"complete",items:r.getChatItems().map(s=>s.getChatSegmentItem())})));return e==="max"?t:t.slice(-e)}removeChatSegment(e){const t=this.chatSegmentComponentsById.get(e);if(!t)return;const r=t.id;this.subComponents.has(r)&&this.removeSubComponent(r),this.chatSegmentComponentsById.delete(t.id);const s=this.chatSegmentCompIdsByIndex.indexOf(e);s>=0&&this.chatSegmentCompIdsByIndex.splice(s,1),this.notifyAboutSegmentCountChange(this.chatSegmentCompIdsByIndex.length)}setAssistantPersona(e){this.setProp("assistantPersona",e),this.chatSegmentComponentsById.forEach(t=>{t.setAssistantPersona(e)})}setConversationLayout(e){this.setProp("conversationLayout",e),this.chatSegmentComponentsById.forEach(t=>{t.setLayout(e)})}setUserPersona(e){this.setProp("userPersona",e),this.chatSegmentComponentsById.forEach(t=>{t.setUserPersona(e)})}updateMarkdownStreamRenderer(e,t){this.setProp(e,t)}setProp(e,t){if(super.setProp(e,t),e==="markdownLinkTarget"||e==="syntaxHighlighter"||e==="htmlSanitizer"||e==="skipStreamingAnimation"||e==="streamingAnimationSpeed"||e==="showCodeBlockCopyButton"){const r=e,s=t;this.chatSegmentComponentsById.forEach(a=>{a.updateMarkdownStreamRenderer(r,s)})}}notifyAboutSegmentCountChange(e){const t=this.getProp("onSegmentCountChange");t&&t(e)}};Jr=((n,e,t,r)=>{for(var s,a=e,i=n.length-1;i>=0;i--)(s=n[i])&&(a=s(a)||a);return a})([ut("conversation",({appendToRoot:n})=>{const e=document.createElement("div");return e.classList.add("nlux-chatSegments-container"),n(e),{elements:{segmentsContainer:e},actions:{}}},()=>{})],Jr);const Zn={typing:"nlux-composer--typing","submitting-prompt":"nlux-composer--submitting","submitting-conversation-starter":"nlux-composer--submitting",waiting:"nlux-composer--waiting"},vo=(n,e)=>{Object.keys(Zn).forEach(t=>{n.classList.remove(Zn[t])}),n.classList.add(Zn[e])},El=n=>{const e=document.createElement("div");e.classList.add("nlux-comp-composer");const t=document.createElement("textarea");t.placeholder=n.placeholder??"",t.value=n.message??"",n.autoFocus&&(t.autofocus=!0);const r=document.createElement("button");return r.append((()=>{const s=document.createElement("div");s.classList.add("nlux-comp-sendIcon");const a=document.createElement("div");return a.classList.add("nlux-comp-sendIcon-container"),s.appendChild(a),s})()),r.append(yo()),e.append(t),e.append(r),vo(e,n.status),n.status!=="submitting-conversation-starter"&&n.status!=="submitting-prompt"||(t.disabled=!0,r.disabled=!0),n.status==="waiting"&&(r.disabled=!0),n.status==="typing"&&(r.disabled=n.disableSubmitButton??t.value===""),e},In=(n,e)=>{let t=!1;const r=e?n.querySelector(e):n,s=r instanceof HTMLElement?r:void 0;if(!s)throw new Cn({source:"dom/listenTo",message:`Could not find element with query "${e}". Make sure the query provided matches an element that exists in the root element.`});const a=new Map,i=new Map,o=()=>{s&&(a.forEach((l,c)=>{s.removeEventListener(c,l)}),a.clear(),i.clear())},u={on:(l,c)=>{if(!c||!s)return u;if(!a.has(l)){const d=p=>{var m;(m=i.get(l))==null||m.forEach(h=>h(p))};a.set(l,d),s.addEventListener(l,d)}return i.has(l)||i.set(l,new Set),i.get(l).add(c),u},get:()=>{if(t)throw new Error("listenTo().get() can only be used once!");return t=!0,[s,o]}};return u};var wl=Object.defineProperty,xl=Object.getOwnPropertyDescriptor,Bt=(n,e,t,r)=>{for(var s,a=r>1?void 0:r?xl(e,t):e,i=n.length-1;i>=0;i--)(s=n[i])&&(a=(r?s(e,t,a):s(a))||a);return r&&a&&wl(e,t,a),a};let bt=class extends We{constructor(e,{props:t,eventListeners:r}){super(e,t),this.userEventListeners=r}focusTextInput(){this.executeDomAction("focusTextInput")}handleCommandEnterKeyPressed(e){var r;((r=this.getProp("domCompProps"))==null?void 0:r.submitShortcut)==="CommandEnter"&&(this.handleSendButtonClick(),e==null||e.preventDefault())}handleEnterKeyPressed(e){var r;const t=(r=this.getProp("domCompProps"))==null?void 0:r.submitShortcut;t&&(t!=="Enter"||e!=null&&e.isComposing)||(this.handleSendButtonClick(),e==null||e.preventDefault())}handleSendButtonClick(){var s;const e=this.getProp("domCompProps");if(e!=null&&e.disableSubmitButton||!(e==null?void 0:e.message))return;const r=(s=this.userEventListeners)==null?void 0:s.onSubmit;r&&r()}handleTextChange(e){var s;const t=(s=this.userEventListeners)==null?void 0:s.onTextUpdated;t&&t(e);const r=this.getProp("domCompProps");this.setDomProps({...r,message:e})}handleTextInputUpdated(e){const t=e.target;t instanceof HTMLTextAreaElement&&this.handleTextChange(t.value)}setDomProps(e){this.setProp("domCompProps",e)}};Bt([Ze("command-enter-key-pressed")],bt.prototype,"handleCommandEnterKeyPressed",1),Bt([Ze("enter-key-pressed")],bt.prototype,"handleEnterKeyPressed",1),Bt([Ze("send-message-clicked")],bt.prototype,"handleSendButtonClick",1),Bt([Ze("text-updated")],bt.prototype,"handleTextInputUpdated",1),bt=Bt([ut("composer",({appendToRoot:n,props:e,compEvent:t})=>{const r=El(e.domCompProps);n(r);const[s,a]=In(r,":scope > textarea").on("input",t("text-updated")).on("keydown",c=>{const d=c.key==="Enter"&&!c.isComposing,p=c.altKey||c.ctrlKey||c.metaKey||c.shiftKey;if(d&&!p)return void t("enter-key-pressed")(c);const m=c.getModifierState("Meta")&&c.key==="Enter",h=c.getModifierState("Control")&&c.key==="Enter";(m||h)&&t("command-enter-key-pressed")(c)}).get(),[i,o]=In(r,":scope > button").on("click",t("send-message-clicked")).get();if(!(i instanceof HTMLButtonElement))throw new Error("Expected a button element");if(!(s instanceof HTMLTextAreaElement))throw new Cn({source:(u="composer",l="render",`#${u}/${l}`),message:"Expected a textarea element"});var u,l;return{elements:{root:r,textInput:s,sendButton:i},actions:{focusTextInput:()=>tt(()=>{s.focus(),s.setSelectionRange(s.value.length,s.value.length)})},onDestroy:()=>{a(),o()}}},({propName:n,currentValue:e,newValue:t,dom:r})=>{var s;n==="domCompProps"&&((s=r.elements)!=null&&s.root)&&((a,i,o)=>{if(i.status===o.status&&i.message===o.message&&i.placeholder===o.placeholder&&i.autoFocus===o.autoFocus&&i.disableSubmitButton===o.disableSubmitButton)return;if(i.status!==o.status)return vo(a,o.status),void((l,c,d)=>{if(c.status===d.status)return;const p=l.querySelector("* > textarea");d.status!=="typing"&&d.status!=="waiting"||!p.disabled?d.status!=="submitting-prompt"&&d.status!=="submitting-conversation-starter"||p.disabled||(p.disabled=!0):p.disabled=!1;const m=l.querySelector("* > button");if(d.status==="typing"){const h=(c.disableSubmitButton!==d.disableSubmitButton?d.disableSubmitButton:c.disableSubmitButton)??p.value==="";m.disabled!==h&&(m.disabled=h)}else d.status!=="waiting"&&d.status!=="submitting-prompt"&&d.status!=="submitting-conversation-starter"||m.disabled||(m.disabled=!0);c.placeholder!==d.placeholder&&(p.placeholder=d.placeholder??""),c.message!==d.message&&(p.value=d.message??""),c.autoFocus!==d.autoFocus&&(p.autofocus=d.autoFocus??!1)})(a,i,o);const u=a.querySelector("* > textarea");if(i.placeholder!==o.placeholder&&(u.placeholder=o.placeholder??""),i.autoFocus!==o.autoFocus&&(u.autofocus=o.autoFocus??!1),i.message!==o.message&&(u.value=o.message??""),i.status==="typing"){const l=a.querySelector("* > button"),c=(i.disableSubmitButton!==o.disableSubmitButton?o.disableSubmitButton:i.disableSubmitButton)??u.value==="";l.disabled!==c&&(l.disabled=c)}})(r.elements.root,e,t)})],bt);const es=n=>{if(typeof n!="object"||n===null)return!1;const e=n;return(typeof e.streamText=="function"||typeof e.batchText=="function")&&["stream","batch"].includes(e.dataTransferMode)&&typeof e.id=="string"&&typeof e.info=="object"&&e.info!==null&&typeof e.preProcessAiBatchedMessage=="function"&&typeof e.preProcessAiStreamedChunk=="function"},Fe=(n,e=1)=>{setTimeout(()=>{n()},e)},kl=(n,e,t,r,s,a,i,o,u)=>new Promise(l=>{const c=Ye(),d=[],p=[];let m=!1,h=!1,g=!1;const f=es(t),w={next:b=>{if(h||g)return;let y,_;if(f){const x=b,I=t.preProcessAiStreamedChunk(x,r);I!=null&&(y=I,_=x,d.push(y),p.push(_))}else y=b,d.push(y);y!=null?(m||m||(m=!0,Fe(()=>{s.forEach(x=>{x({uid:c,status:"streaming",time:new Date,participantRole:"assistant",dataTransferMode:"stream"})})})),Fe(()=>{i.forEach(x=>{x({chunk:y,messageId:c,serverResponse:_})})})):de("Adapter returned an undefined or null value from streamText. This chunk will be ignored.")},complete:()=>{h||g||(g=!0,Fe(()=>{const b={uid:c,status:"complete",content:d,contentType:"text",serverResponse:void 0,time:new Date,participantRole:"assistant",dataTransferMode:"stream"};a.forEach(y=>{y(b)}),l()}),Fe(()=>{const b={uid:n,status:"complete",items:[e,{uid:c,status:"complete",contentType:"text",content:d,serverResponse:p,time:new Date,participantRole:"assistant",dataTransferMode:"stream"}]};o.forEach(y=>{y(b)})}))},error:b=>{h||g||(h=!0,Fe(()=>{u.forEach(y=>{y("failed-to-stream-content",b)}),l()}))}};t.streamText(e.content,w,r)}),Sl=(n,e,t)=>{if(!n)return(()=>{const b=new Set,y=Ye(),_={uid:y,status:"complete",items:[]};return Fe(()=>{b.forEach(x=>{x(_)}),b.clear()}),{segment:_,observable:{on:(x,I)=>{x==="complete"&&b.add(I)},removeListener:(x,I)=>{b.delete(I)},destroy:()=>{b.clear()},get segmentId(){return y}},dataTransferMode:"batch"}})();const r=e;if(r.streamText===void 0&&r.batchText===void 0&&r.streamServerComponent===void 0)return(b=>{const y=new Set,_=Ye(),x={uid:_,status:"error",items:[]};return Fe(()=>{y.forEach(I=>I(b)),y.clear()}),{segment:x,dataTransferMode:"stream",observable:{on:(I,F)=>{I==="error"&&y.add(F)},removeListener:(I,F)=>{y.delete(F)},destroy:()=>{y.clear()},get segmentId(){return _}}}})("no-data-transfer-mode-supported");const s=Ye(),a=(b=>({uid:Ye(),time:new Date,status:"complete",participantRole:"user",content:b,contentType:"text"}))(n);let i,o,u,l,c,d,p=new Set,m=new Set,h=new Set;Fe(()=>{p!=null&&p.size&&(p.forEach(b=>{b(a)}),p.clear(),p=void 0)});const g=(b=>{const y=[],_=b,x=b;(_==null?void 0:_.streamText)===void 0&&(x==null?void 0:x.streamServerComponent)===void 0||y.push("stream"),(_==null?void 0:_.batchText)!==void 0&&y.push("batch");const I=es(b)?b:void 0,F=(I==null?void 0:I.dataTransferMode)??void 0,O=y.length===1?y[0]:"stream";return F??O})(e);(b=>"streamServerComponent"in b?"server-component":"text")(e)==="server-component"?(u=new Set,o=new Set,((b,y,_,x,I,F,O,A)=>new Promise((R,H)=>{try{const L=y.content,j=Ye(),B="assistant",Y="streaming",ce=new Date,T="stream";let P,M;const S=()=>{Fe(()=>{F.forEach(V=>{P&&M&&V({...P,content:M,status:"complete"})})},20);const q={uid:b,status:"complete",items:[y,P]};Fe(()=>{O.forEach(V=>{V(q)}),R()},20)},N=()=>{A.forEach(q=>{q("failed-to-stream-server-component",new Error("Failed to load content"))})};M=_.streamServerComponent(L,x,{onServerComponentReceived:S,onError:N}),P={uid:j,content:M,contentType:"server-component",participantRole:B,status:Y,time:ce,dataTransferMode:T},Fe(()=>{I.forEach(q=>{q(P)})},10)}catch(L){de(L);const j=L instanceof Error?L:typeof L=="string"?new Error(L):new Error("Unknown error");Fe(()=>{A.forEach(B=>B("failed-to-load-content",j))})}}))(s,a,e,t,o,u,m,h).finally(()=>{Fe(()=>w())})):g==="batch"?(i=new Set,(async(b,y,_,x,I,F,O)=>{try{const A=y.content,R=es(_)?_:void 0,H=R!==void 0,L=Ye(),j="assistant",B="complete",Y=new Date,ce="batch";let T;if(H){const S=await R.batchText(A,x),N=R.preProcessAiBatchedMessage(S,x);N!=null&&(T={uid:L,content:N,contentType:"text",serverResponse:S,participantRole:j,status:B,time:Y,dataTransferMode:ce})}else T={uid:L,content:await _.batchText(A,x),contentType:"text",serverResponse:void 0,participantRole:j,status:B,time:Y,dataTransferMode:ce};if(!T)throw new Error("Response from adapter was undefined or cannot be processed");const P=T;Fe(()=>{I.forEach(S=>{S(P)})});const M={uid:b,status:"complete",items:[y,T]};Fe(()=>{F.forEach(S=>{S(M)})})}catch(A){de(A);const R=A instanceof Error?A:typeof A=="string"?new Error(A):new Error("Unknown error");Fe(()=>{O.forEach(H=>H("failed-to-load-content",R))})}})(s,a,e,t,i,m,h).finally(()=>{Fe(()=>w())})):(l=new Set,c=new Set,d=new Set,kl(s,a,e,t,l,c,d,m,h).finally(()=>{Fe(()=>w())}));const w=()=>{p==null||p.clear(),p=void 0,i==null||i.clear(),i=void 0,o==null||o.clear(),o=void 0,u==null||u.clear(),u=void 0,l==null||l.clear(),l=void 0,c==null||c.clear(),c=void 0,d==null||d.clear(),d=void 0,m==null||m.clear(),m=void 0,h==null||h.clear(),h=void 0};return{segment:{status:"active",uid:s,items:[]},dataTransferMode:g,observable:{get segmentId(){return s},on:(b,y)=>{b==="userMessageReceived"&&p?p.add(y):b==="aiMessageReceived"&&i?i.add(y):b==="aiServerComponentStreamStarted"&&o?o.add(y):b==="aiServerComponentStreamed"&&u?u.add(y):b==="aiMessageStreamStarted"&&l?l.add(y):b==="aiMessageStreamed"&&c?c.add(y):b==="aiChunkReceived"&&d?d.add(y):b==="complete"&&m?m.add(y):b==="error"&&h&&h.add(y)},removeListener:(b,y)=>{b!=="userMessageReceived"?b!=="aiMessageReceived"?b!=="aiMessageStreamStarted"?b!=="aiMessageStreamed"?b!=="aiChunkReceived"?b!=="complete"?b!=="error"||(h==null||h.delete(y)):m==null||m.delete(y):d==null||d.delete(y):c==null||c.delete(y):l==null||l.delete(y):i==null||i.delete(y):p==null||p.delete(y)},destroy:()=>w()}}},_l={"data-transfer-mode-not-supported":"Requested data transfer mode is not supported","no-data-transfer-mode-supported":"Adapter does not support any valid data transfer modes","connection-error":"Connection error","invalid-credentials":"Invalid credentials","invalid-api-key":"Invalid API key","http-server-side-error":"HTTP server side error","http-client-side-error":"HTTP client side error","failed-to-load-content":"Failed to load content","failed-to-stream-content":"Failed to stream content","failed-to-stream-server-component":"Failed to stream server component","failed-to-render-content":"Failed to display content"},ts=(n,e)=>n!==void 0&&n.length>0||e!==void 0&&e>0?"active":"starting",ua="nlux-comp-welcomeMessage-text",Eo=(n,e)=>{const t=n.querySelector(`.${ua}`);if(e!==""&&e!==void 0)if(t)t.textContent=e;else{const r=document.createElement("div");r.classList.add(ua),r.textContent=e,n.appendChild(r)}else t==null||t.remove()},wo="nlux-comp-welcomeMessage-personaName",ns=n=>{const e=document.createElement("div");e.classList.add("nlux-comp-welcomeMessage");const t=Ts({name:n.name,avatar:n.avatar});e.append(t);const r=document.createElement("div"),s=document.createTextNode(n.name);return r.append(s),r.classList.add(wo),e.append(r),Eo(e,n.message),e},da=()=>ns({name:"",avatar:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABGdBTUEAALGPC/xhBQAACklpQ0NQc1JHQiBJRUM2MTk2Ni0yLjEAAEiJnVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/stRzjPAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAJcEhZcwAAewgAAHsIAXgkHaEAABj0SURBVHic7Z13vBxV2ce/Z29ugEQMEAICQUBAkBqqlCiRKqC0gApKE14poh8VUCmihv4SCB2CVAtFQBR9UZpCaMIL0ouAGIIEQgsJya27e/zjmb117+yUc+bM7J7v53Nys3dnzjx3dn9z2nOeR2mt8Xg89Sm5NsDjyTNeIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCKNsVdwzY4Ktqgej+v6RHwpQ8lqr2jFD3q+9UAPrGHDcwN8F6JD3hr1m0LHjgYnAWsAqwGrA8sDKwNLAOGAMsCTQPuDkMtANdAALgUXAPOBtYC4wB5gNvI5m7gBLhxjOiK8VwMAdpQOPrf1eD31PD/5dcJwa8lr+P+D4Ie8pCxtZ249/z3id1gTSoowHNgEmBWUDNGsBYy1eswy8BrwIPAs8BTyBiMeTEi+QdCwFfA6YAmwLbAaMHf7Ytsoo4NNB2XPA758GHgHuB2bBwFbGExUvkPisAOwK7ALsAKyQrR4is3FQjgR6EaH8CfgL8E+HdhUKL5BoLAHsBUwFdkczxq05sWkHdgwKiFhuBm7DtyyheIGEsyFwMHCA0nol18YYZLugnAfcAlwD3OPUopziBVKf3dEcCXzJtSGWGQ0cEJTHgV8A1wI9Dm3KFX4dZDD7A48iffVmF8dQNgdmAv8CTkCmoFseLxDhq8CTaH09Wm+J1rRwmYjWZyBC+TEy/mpZWl0gOwEPorkRzaT+BS1f0ExAcybwKvCtNDe5yLSqQNYAbkZzF5ptc/BlzHOZiGYm0vXcKukNLyqtKJD9gRdB7+v6m1ewsiXoR4CTE931gtJKAvkEcAua69Es4f77VthyKuLOsk3cD6CItIpADgReRjM1B1+wZigbo3kIOCPm51A4mn0dZDRwFVp/w7UhTcoJyETHQYizZNPRzALZXMGNwJquDWlyNgeeAw5DFhmbimYVyBHA5WjXZrQMJcRdZUvgaMe2GKUZBXIZWh/p2ogW5SjEf20v4H23ppiheQSiWBL4E5odXJvS4kxGNm7tiuxJKTTNIpBV0PwNWNu1IR4AVkKmgr8I3OnWlHTYE8iwfdqGGD6uWA/0LGS7qydf/AX4BvAb14YkxZ5AqtZqFkSAWwctR0s71OWcXwPLAhe7NiQJ1gSiKnamkHTf0qaaDDxg5SIe01yErEmd59qQuBR1DLI1WntxFItzkX7F+Y7tiEURXU0mAQ+5NsKTiBnIGlVhKFYLolgDzcPYmwLw2Ody4EPgJsd2RMKeQLThMYji42j+riQWlafY3Ai8hWaWa0MaYVEgButSgOYBJCaVpzn4G7AWmn+7NiSMYnSxNLcBG7k2w2OUEjKWXJ0cR1HJdxdLRho/Q3x7PM3HSsDdwHZ5dSzNexdrd+CnRmry5JXPA+eiOda1IfXIcxdrRTS3uzbCkwk/QMKh5u7zznMX6y7ys07TDTwJvAC8gkxTdiIxb5dGIqtvCHyWfD908sxtwIqA+SQfKcjrh3kG+RiU3wr8DvgrkrimEasAOyN74L9g0a5mpATcgWy6yg1Km16vCOg9bdlkJyq2AB4zakx8LgQuQPFaorPllu4AnIL0sT3ROREJWBeb9pPnm7bFpkCWSXimmovMbrjgLuBYFM+JKQlr0YP+fwzirOeJjP400pWNRfvJHxq3xJ43bzLdzQBnaQaO04pzLXixXKy0noUExF7VdOVNyu+QMZ1z7A2C48daWg/N9xzEeOpGxg3n2roVwDPARmieyUFMqyKUDYDvxD7PAnmZJQL4rYNrfoCkKbvb6lWkUfoQ2AIRi6cRmguBZVybYXFHYQxJK74JrG/Nlvp8BGyGUrMzvGYPmm1Av4qEQvWEcxWaqS4NyMM07yh05tsxe4FtUBmkShZHSyT3BgCLgc+h+Sf5asHzyD7AlmjtbFYzDwuF15O1C7tSnwee6/vijrK4vaQKDN9+/CqyK/JRexduGn4PrOzq4m4H6dL/38+aDfX5X+Dvfa+0li9wnC5hFJSITpUrUvfwTE6PAd81e9GmZCXgOFcXt7YOUj7l41EOewAJNJYVz1JvhV4H/7S3oUeV+lu/NA2LVqieClSrfWIZgUfJ2epxDukAxgHlsINGTVto/MIWW5C6T82BZXM0kzOePtwtdHqwtwrlavqlkJJClatSH6qRTfvlYFo172UMmh81/E5ZwGUXa3rGySm/D/o/oTe3qlFdZekShT/1R6ZNich6ysHdbXgj5qD12TlI3pn3ciKattBbaQFrAlHhZX0F2zU4xlzRvAicH3oTNX0th+pJ2IoooKIpdVZQOrh2NULRnKA0CzO7H8UsYxR8O+wYG7hqQX6eaRMNBygNkYpSqN4qqrsCpRi3XQFKUeqsyKBfqThPNQ0cl4OuTN7LSVRhxGIBFwuFy6MyXfy5AQmkHAvVXUGPLolIosxwlRSqqwK9gbDi94l/Afwcd46aRWAFYE80f8jqgi4WquL72KRrPY6JbaECtKbUUZaWoNF4pKRQZY3qLMvJye09PgdP6byXE8I/DLO4WCj8trVrDmc6Wn2Q7FQFPRXU4l70Um2hhwHQ0SstTRs1YSbhN8DZyMYrT30+i+zgfDmLi2XdguxKdmkKysApqR5XJYVa3CuD9lEj3KpSCdVZ7h+zJBdHjT+mrqH5OSqrC2U9SD86w6b4TDSdqetpK6E6yjJ1O6qEbh9QlmiDSlXeL5VM2X1dDroxeS8Ho1HDfm+BLMP+LIuE8cmCHpShHN4KEUFXBb0UlDrL/X9bSUFZB+MUI1cD+DuapxE3HE99at+lP9m+UJZjkP2wN109lIuArtS1aEQEo0qU3u/qdx3RA94f3UZ13GgRibmcKGcjTpyekTmQDARizRerctyYob/6K9lF+hiPbIZKR5uCKqiPumWMoZT8TiHiCFoXVElEMrpNumIm0HyAPCk99elA7k9f2NK26R3GL5LVIH05shPHLzEljrKm9GGXiGNUqV8c0P+zTZwbSx92oxb3BouLqaZ6ay3UL1L/Dc3NGCRJqFUsBm0Y1DLtYes6wy/M6anO14gYequoBd39r8MIFgbVRz3Sooxtly5musb5YuCHqWpofqZiORpjVi3IbhldZxaal1M9uUvB+seCbqmxLeKwSclYRXWUUYuClqTWFUvGG0gYIs/IHASMtXmBLGaxSsCO1q4zmNNSnd2mpOVY2CNf7ji+WDVGlaBLnBX12HZx8EouknOQiCue+jyI5YmfLGaxtiCbweabpIlO0iZOiiwMxnxJxDGgLrrK4q84ph10NalI7kH+Lr+yPpw7Ucr6GCSLhcLtM1o8ujDxuUoG5OqjQBxRu1VhtJVQnRXZX5J0b4kwIwcLc3krj5DBAB2yGYN8LoNraGBmorMCb93Sop7+1yZQoEsKtbgsriqlxDNbM7HmzF1I3gCmZHUx212sNsS5zDa3AgtinzVQHBUtU7YmCcYxalEP+mPt0F5Kspi4CHFiPNCscYVkIRIMvAcN8gTB6ijEdhdrPTTLZdDkxu+GBDaqjl5xFzHVcgwlqLa0qBd6ddKW5MwcdGtcl/mI+83sure5104ja3sWaxNr9ffzGoqHY59VKqG6yqjuqt24WNDfUnX0Uh07WkQTxHOIyItoHgK2tWVizqkAW1EaIA5N315b1V016eYzCIuRFTVoJtmrP0BxOTrOF1ye4qqnIhucbLUcQwkcG1VHL3rMKLEj3kPvdCTBTCuyA6iX++5XTRwaiR5TrprvHgfYTn9gP4S95ur+PlMEFBK9pKPc/zoralPJXRX0Um2oeE+9PwNzgE/aMS63HKPh/mEPFI3cv4rF7jH2u1jrWqtf+APwfuSjg8AKqm/3X5bqCCgp8e1qU0kG7afSWj5aN6G4pO6nVNVSLM/D2pzFmghMtFY/gFKXRD5WB0+anir0OBIH9LVYqrOMVu3yAVc1kZoyxVVoPR2JMtjsvIlSX6vbOdBBy5HBR2hTf2tYrBs089D67khBx6rBzawEgeEcaaOPUuBG31Vm0JRaoyJ7E9I5YxYBzUJgu4afZwbYnOZdzeq0H1wZ41gg6NpUcC8QkDvfq2UGRsWa+p2BpisH0662ygfApsC/6t63kUMwrTDSG2mwGZt3ouVQlDMjH6tA9VZkHSIkQEnmlIDuqtgWhBqKUMpoPS0HoUBtlPlonUQce6D1LTY+IpuDdJsOdg8iLgeNCWat6DYQlNo0NXtqrUh09/izgROBj1myzAWdwBYoXq/7blWH3ZvrgCVsGGWzizXeYvcqRkYqJb5Q8t/8URu091Ti3IMqmhNz0B0y+ZluS1jLUR3x3IPRLIO2EyfL5iyWrRx8H4G6OdKRqraQpNM+ClZFgpWtDiyP7HlfEom99T4wF3gJeE7si4kCKuIuodtV1FX2i9CcBKwY+3p5Q7ELWj0JBGIZ0lSMHDehDbg0+P9oG6bZzFG4jKV6f43Wjdega12r3sTi2BHYE/FG3pBaLeFdoPlI9+92xIFyfuSrlZBZthLo6AHo/gfLW04z4BDCdk6GBxU5A9mbzoCfRrEW1YTD214C1jFer2JD5EndmLIeeUpwYCyrvp9qLBK175vAZ1JaugC4EjgXrd8C+r/0mvofvAZKSJariCjNw8DW6Ux1g4afopgmr4Z/SCr8u7kcgxeJ53Jlxfi412YXy4ai/4FWjcVRaz3izZcfjdanYK7LMg44FjgamAac1fCMwIlRlXWchcz90Xp2Qhtdcp1Salq/BgaLQdXrag1m6HqQlS6WzUH6khYGchdGOjCeONZDciVegmZFCwPQpYAzkVyEjVulmrgrVSJOjb4O/Mz5IDtemQUcgtaoEYr8bSOePwHNkUN+Z+Vhb3Ml3bSiO9HcEOkDiJ6x9lDgeWq5Em0hdm2JdA2/2vD42nTvyDM3Q8vPySjauQFepVGMtMafxU/q/M7Kd9nmOohpg69hQBS9kOs2RlqWc9CZpxcuATcis2LTGx6tNTH6iLshX748Mx/YhjBH/8af3xJIt3UoVibxXeQHSYbiVGN1aW4H/WVj9cXnHMTT+fCGR0YXyb9A7wnZZV+KySsodgb1LlBfCHqkNwZxJhn6Q7jIMJWE69G8Ham70Zg7AJfiqHEYkadoo3buuZ1sExRF5U0k/NPs8MMafoAfA75vwqCo2BRIxWBd6QLC9fN7JIlPXvgycJnhOi9FotvnhbeBzYAFouOQCYfGhInfyqZ0mwJpPF6IxqPAiwbq+SWy8Jc3jgS+Y7jO75KP9An/RuISzDNUX1jrYfKB3IdNgXQaquenBuo4j3yHzbkQ2MpwnV9HwgW54lFgEtKCmGB3wteoyoauMwibAllsoI5XgDtT1nEsGfdbE3IX5j1SvwFcYLjOKPwKEfxCg3U2mnE01WMZhE2BmMhmcnLK8/chynRqPlga8d8yzfeQblwWaCTt9kGG612dxtEUew1fE7ArkPdSnv8f4Lcpzt8CO184m+yORA40zUyku/OQhbpr3IF4JUSPExCdKDNzprr0g7ApkHdSnv+DFOeuBNyf8vqusNUlehqYDByBhA8yxYPIbNzuiMu/DQ6LcExLCeQ1INqej+G0Aw8DS6W4vksmIW7strgCWBNZpLwvYR2vI+GHvoBsB7CZTHNvoqXPiL8PJwI294P8J8W5ab4g9yF91iJzGeKSYuVDR2Z8rgrK2siXfAuki7QyMh6qBUjtQB52s4EngVnIDJVN77WBRJ0Cf9fGxfMokPuRjLhJuBXx9Sk6bci44YAMrvVKUK4e8Luao6nG0uA3IqsQPfnrXBsG2OxizU54XtL1iiuQWatmYX+yCN1an56guBQHwLdiHFt/P3tKbArkNeLf4FOIGq1kMNOx2293xTWuDXBMY2fOfl6zYYBNgcwnnvv1C5DIY/cMZDGwGdmMfPmOZckUZDwUFSszaLa9eeMYnSTn3HnACQnOKxKXuzbAEXH80+Yhfl/GsS2QZyIety/xu1anUwwXkrR8EvGraiXGIdO7UXmWAnrzAjwV4ZgTib/iPSU4r1U4z7UBGXMg8XYIPm3LENsCeaLB+6cjO8TisAytl2lpBeINWIvOUTGP/4cVK7AvkDcYeXbheJI5I/6V4q6Sp+EM1wZkxKbIgmUcHrNhCGSz5XZogs1XgZ1I5mV7A9kkBs0jE4jmk1R04m4ZnoPFYBVZCOTR4OdLSKuxDnBPgnpmAF8zZVRBMbX1OK+MRhZI4zDLhiE1bLqa1LgJmc1K84eciexraHU+gQxgf+XaEEscSPzuc1K3pEhk0YK8SzpxnAz82JAtzUAzp2BLMm2fpDcSmbyH/TmQZKvrzcyqNJfPWY1JwPoxz3meZK5JkcmzQL6ERCLxDOds1wZYIEmUyz8at2IIeRXIXmTwxxeYtYCdXRthkKVJ5tpvJS/hQPIokKOA21wbUQDOcW2AQY4gfmzdN2i8EJ2avAnkMvpTannC2Qg7AR5ckKR7lSagR2TyIpDtkdQAWYWnaRaaYSyyD8mSFl1n2pB6uBbIpsje63uJP4PhkeBsm7s2IiVJImc+j3jwWieLhcKhrI3sG/8KktPCk44ZSNCFIrIt0lWMy0zThoyEC4HcgOyU85hhMtISW/NotUiSLmIVuNawHSPioot1rYNrNjs2ohnaZiOkBYnL9dgLhzQMFwK5BLNBjT0yFpns2oiYJI0gmenEhAuBaNxEHG92MuuXG2ATGgejrsdjyGxnZriaxZpOdpH5WoX1kImPIpBUzJkH6HAlkIW0brQOm1zs2oAIfBEJcxqXl7Hs2l4Pl+sgJjJHeQYzAZjm2ogGXJnwPCexz1wK5F2KOfuSd36CpH/IIyci8Xbj8hJ2I8iPiOuV9JMcX79ZudG1AXWYQPLNXseYNCQOrgWygNYI/pY1n0cy3eaJPyc8707EFckJrgUCcD7iW+MxywXILr08cDXJvSf2NWlIXPIgEJBsrB7z/J9rAxBv3UMTnns8sMigLbHJi0CeonkjdbhkZdzmSl+d5IlU55CDDMV5EQhIfg8riRhbnAOQHXtZsyTwQIrz9zNlSBryJJBukmeX8oRzOdmnpnsAmJjw3KuwGE40DnkSCEhznHS2wxPOfcCnMrxW0o1cH5CjbGF5EwjIrEW3ayOakHYkDGzSp3oUPg48AmyXoo69yJGfXh4F0kG85Cme6CyPbKxa00LdmyHbYLdKUce5pBu3GCePAgHpZnk3FDtMQBLOTDFY57HA40g2rKQ8T7LoJlbJq0BA3Asy2ZjfgowF/gb8KGU9OyHpLdJOx+qgrtyRZ4EA7Ijk6/bY4SzgIeQ+R2UMkobiXuAuYGsDduwBvGWgHuO4CNoQh3eQ/QOZ7wNoIbYB7gYeRIKxPYBkjF0MLAGMR+JWbYhET9kNSQlnip/hyFM3CkprSxMGh8SNJBnKMcBFJiv0hLIAcfFYElgWez2NWzC5IHit+e9y3rtYNS6mGLvlmoVxyL6N8dj7jjxBTlbLwyiKQEASy//OtREeI8yhIHGFiyQQgKlYzknnsc6HyFpJh2M7IlE0gYCs0j7u2ghPIjqBz5LTGat6FFEgIFOLT7o2whOLbkQcL7s2JA5FFUgZudn/79oQTySqyOdVuIXfogoEoBe56fe7NsTTkMMR95bCUWSBgLgoTAF+79YMTwhzgGtcG5GUogukxt5I+jZP/rCax9w2zSIQgKOBH7o2wjMMp0EX0tJMAgHJ/LoX3sExT6zu2oA0NJtAAP4AbIBESvG4J0mKtdzQjAIBeAXJQXGFa0M8rI6EHyokzSqQGkcgQekWuzakxVnPtQFJaXaBgAROWwfpenncsIFrA5LSCgIBeBMZvB+Gz4/oAi+QgnA18GkkYrgnOz7j2oCktJpAAOYh23gPBd5wbEursC4Sl6twtKJAalwLrI1kZPLdLrssB6zl2ogktLJAQFywT0MCqZ1FwVd9c866rg1IQqsLpMZ7SIrhNZEkmPPcmtOUFHLB0AtkMO8g2Xc/BXwbCSzQClSwvwW2kGshXiD16QAuRSKUb4+MVz5yaZAl7gC+DqwBrIbs1DwBO6kHxlio0zpFiYuVB8YjEQD3BnYBRrs1JzGPALche2heCTlucySC4lTMOBxegu1stRbiYnmBJGMlYGckZOcU7KYUSMsiZNflX5C9GS8lqGNP4CtBSRqNczIS5tQeXiC5pA3Z+jsZCWezKdJdccX7wDNILpCHkODSHxiqe1Xgm4hQ4owp7iVe/N9keIEUhvWBjZF4tusgawCfRCIWmqILeB2YDfwTCYjwNPAC2Thn7oDkP9wLWecYiReALTOxyQuk0IxDumYrBz+XRRLajEeCRI9GVptLyF77XmTjVw8SbO09pCWYB8wF3kZm3VwzDhHJVMTnanlkVuwtxKXneCQKjX0KJRCPpwnw07weTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwj/Ba/47FkhCYEqAAAAAElFTkSuQmCC"});var Cl=Object.defineProperty,Tl=Object.getOwnPropertyDescriptor,pa=(n,e,t,r)=>{for(var s,a=r>1?void 0:r?Tl(e,t):e,i=n.length-1;i>=0;i--)(s=n[i])&&(a=(r?s(e,t,a):s(a))||a);return r&&a&&Cl(e,t,a),a};let _n=class extends We{constructor(n,e){super(n,e),this.updateConversationStarters=t=>{}}conversationStarterClicked(n){this.getProp("onConversationStarterSelected")(n)}};pa([Ze("conversation-starter-selected")],_n.prototype,"conversationStarterClicked",1),_n=pa([ut("conversationStarters",({appendToRoot:n,props:e,compEvent:t})=>{const r=(a=>{const i=document.createElement("div");return i.classList.add("nlux-comp-conversationStarters"),a.forEach((o,u)=>{const l=document.createElement("button");l.classList.add("nlux-comp-conversationStarter");let c=document.createElement("div");o.icon&&(typeof o.icon=="string"?(c=document.createElement("img"),c.setAttribute("src",o.icon),c.setAttribute("width","16px")):(c.className="nlux-comp-conversationStarter-icon-container",c.appendChild(o.icon)));const d=document.createElement("span");d.classList.add("nlux-comp-conversationStarter-prompt"),d.textContent=o.label??o.prompt,l.appendChild(c),l.appendChild(d),i.appendChild(l)}),i})(e.conversationStarters);n(r);let s=[];return e.conversationStarters.forEach((a,i)=>{const[o,u]=In(r,`:scope > :nth-child(${i+1})`).on("click",()=>{t("conversation-starter-selected")(a)}).get();s.push(u)}),{elements:{},actions:{},onDestroy:()=>{s.forEach(a=>a()),s=[],r.remove()}}},({})=>{})],_n);let rs=class extends We{constructor(n,e){super(n,e),this.setConversationStarters(e.conversationStarters)}setConversationStarters(n){var e;if(n||this.conversationStartersComp){if(n&&!this.conversationStartersComp){const t=this.getProp("onConversationStarterSelected");return this.conversationStartersComp=Rt(_n).withContext(this.context).withProps({conversationStarters:n,onConversationStarterSelected:t}).create(),void this.addSubComponent(this.conversationStartersComp.id,this.conversationStartersComp,"conversationStartersContainer")}!n&&this.conversationStartersComp?(this.removeSubComponent(this.conversationStartersComp.id),this.conversationStartersComp=void 0):(e=this.conversationStartersComp)==null||e.updateConversationStarters(n)}}setShowGreeting(n){this.setProp("showGreeting",n),this.executeDomAction("resetGreeting",n)}setAssistantPersona(n){this.setProp("assistantPersona",n),this.executeDomAction("updateAssistantPersona",n)}resetConversationStarters(){const n=this.getProp("conversationStarters");this.setConversationStarters(n)}};rs=((n,e,t,r)=>{for(var s,a=e,i=n.length-1;i>=0;i--)(s=n[i])&&(a=s(a)||a);return a})([ut("launchPad",({appendToRoot:n,props:e})=>{const t={assistantPersona:e.assistantPersona,conversationStarters:e.conversationStarters,showGreeting:e.showGreeting!==!1};let r;if(t.showGreeting)if(e.assistantPersona){const i=e.assistantPersona;r=ns({name:i.name,avatar:i.avatar,message:i.tagline})}else r=da();r&&(n(r),t.greetingElement=r);const s=document.createElement("div");s.classList.add("nlux-conversationStarters-container"),n(s);const a=(i=!0)=>{t.showGreeting=i,t.greetingElement&&(t.greetingElement.remove(),t.greetingElement=void 0),i&&(t.greetingElement=t.assistantPersona?ns({name:t.assistantPersona.name,avatar:t.assistantPersona.avatar,message:t.assistantPersona.tagline}):da(),t.greetingElement&&s.insertAdjacentElement("beforebegin",t.greetingElement))};return{elements:{conversationStartersContainer:s},actions:{resetGreeting:(i=!0)=>{a(i)},updateAssistantPersona:i=>{const o=t.assistantPersona;t.assistantPersona=i,(o||i)&&t.showGreeting&&(i&&o?((u,l,c)=>{if(l.message!==c.message||l.name!==c.name||l.avatar!==c.avatar){if(l.message!==c.message&&Eo(u,c.message),l.name!==c.name){const d=u.querySelector(`.${wo}`);if(d){const p=document.createTextNode(c.name);d.replaceChildren(p)}}if(l.avatar!==c.avatar||l.name!==c.name){const d=u.querySelector(`.${Cs}`);d&&bo(d,{name:l.name,avatar:l.avatar},{name:c.name,avatar:c.avatar})}}})(t.greetingElement,{name:o==null?void 0:o.name,avatar:o==null?void 0:o.avatar,message:o==null?void 0:o.tagline},{name:i.name,avatar:i.avatar,message:i.tagline}):a())}},onDestroy:()=>{var i;(i=t.greetingElement)==null||i.remove(),s.remove()}}},({})=>{})],rs);var Al=Object.defineProperty,Rl=Object.getOwnPropertyDescriptor,Qn=(n,e,t,r)=>{for(var s,a=r>1?void 0:r?Rl(e,t):e,i=n.length-1;i>=0;i--)(s=n[i])&&(a=(r?s(e,t,a):s(a))||a);return r&&a&&Al(e,t,a),a};let mn=class extends We{constructor(n,{conversationLayout:e,autoScroll:t,streamingAnimationSpeed:r,visible:s=!0,composer:a,assistantPersona:i,userPersona:o,showGreeting:u,conversationStarters:l,initialConversationContent:c,syntaxHighlighter:d,htmlSanitizer:p,markdownLinkTarget:m,showCodeBlockCopyButton:h,skipStreamingAnimation:g}){if(super(n,{conversationLayout:e,visible:s,autoScroll:t,streamingAnimationSpeed:r,assistantPersona:i,userPersona:o,conversationStarters:l,showGreeting:u,initialConversationContent:c,composer:a,syntaxHighlighter:d,htmlSanitizer:p,markdownLinkTarget:m,showCodeBlockCopyButton:h,skipStreamingAnimation:g}),this.prompt="",this.handleConversationStarterClick=f=>{this.composer.setDomProps({status:"submitting-conversation-starter"}),this.composer.handleTextChange(f.prompt),this.composer.handleSendButtonClick()},this.handleSegmentCountChange=f=>{var b,y;if(this.segmentCount===f)return;this.segmentCount=f;const w=ts(this.getProp("initialConversationContent")||void 0,this.segmentCount);this.chatRoomStatus!==w&&(this.chatRoomStatus=w,this.executeDomAction("updateChatRoomStatus",this.chatRoomStatus),this.chatRoomStatus==="active"?(b=this.launchPad)!=null&&b.id&&(this.removeSubComponent((y=this.launchPad)==null?void 0:y.id),this.launchPad=void 0):this.addLaunchPad(this.getProp("showGreeting")??!0,this.getProp("assistantPersona"),this.getProp("conversationStarters"),this.handleConversationStarterClick))},this.segmentCount=c&&c.length>0?1:0,this.chatRoomStatus=ts(c,this.segmentCount),this.chatRoomStatus==="starting"&&this.addLaunchPad(u,i,l,this.handleConversationStarterClick),this.addConversation(i,o,c),this.addComposer(a==null?void 0:a.placeholder,a==null?void 0:a.autoFocus,a==null?void 0:a.disableSubmitButton,a==null?void 0:a.submitShortcut),!this.conversation||!this.composer)throw new Error("Chat room not initialized — An error occurred while initializing key components.")}getConversationContentForAdapter(n="max"){return this.conversation.getConversationContentForAdapter(n)}hide(){this.setProp("visible",!1)}messagesContainerClicked(){var n;(n=this.composer)==null||n.focusTextInput()}onChatRoomReady(){tt(()=>{var e,t;const n=(t=(e=this.renderedDom)==null?void 0:e.elements)==null?void 0:t.conversationContainer;if(n instanceof HTMLElement){this.autoScrollController=gl(n,this.getProp("autoScroll")??!0);let r=0;const s=20,a=()=>{n.scrollHeight>n.clientHeight&&(n.scrollTo({behavior:"smooth",top:5e4}),clearInterval(i))},i=setInterval(()=>{r>=s?clearInterval(i):(a(),r++)},10)}this.context.emit("ready",{aiChatProps:fl(this.context.aiChatProps)})})}setProps(n){var e,t,r,s,a,i,o;if(n.hasOwnProperty("autoScroll")){const u=n.autoScroll;(e=this.autoScrollController)==null||e.updateProps({autoScroll:u})}if(n.hasOwnProperty("conversationLayout")&&((t=this.conversation)==null||t.setConversationLayout(n.conversationLayout)),n.hasOwnProperty("syntaxHighlighter")&&this.setProp("syntaxHighlighter",n.syntaxHighlighter),n.hasOwnProperty("htmlSanitizer")&&this.setProp("htmlSanitizer",n.htmlSanitizer),n.hasOwnProperty("markdownLinkTarget")&&this.setProp("markdownLinkTarget",n.markdownLinkTarget),n.hasOwnProperty("skipStreamingAnimation")&&this.setProp("skipStreamingAnimation",n.skipStreamingAnimation),n.hasOwnProperty("streamingAnimationSpeed")&&this.setProp("streamingAnimationSpeed",n.streamingAnimationSpeed),n.hasOwnProperty("assistantPersona")&&((r=this.conversation)==null||r.setAssistantPersona(n.assistantPersona??void 0),(s=this.launchPad)==null||s.setAssistantPersona(n.assistantPersona??void 0)),n.hasOwnProperty("userPersona")&&((a=this.conversation)==null||a.setUserPersona(n.userPersona??void 0)),n.hasOwnProperty("showGreeting")&&((i=this.launchPad)==null||i.setShowGreeting(n.showGreeting??!0)),n.hasOwnProperty("conversationStarters")&&((o=this.launchPad)==null||o.setConversationStarters(n.conversationStarters)),n.hasOwnProperty("composer")&&this.composer){const u={...this.composer.getProp("domCompProps"),...n.composer};this.composer.setDomProps(u)}}show(){this.setProp("visible",!0)}setProp(n,e){if(super.setProp(n,e),n==="markdownLinkTarget"||n==="syntaxHighlighter"||n==="htmlSanitizer"||n==="skipStreamingAnimation"||n==="streamingAnimationSpeed"){const t=n,r=e;this.conversation.updateMarkdownStreamRenderer(t,r)}}addLaunchPad(n,e,t,r){this.launchPad=Rt(rs).withContext(this.context).withProps({showGreeting:n,assistantPersona:e,conversationStarters:t,onConversationStarterSelected:r}).create(),this.addSubComponent(this.launchPad.id,this.launchPad,"launchPadContainer")}addConversation(n,e,t){this.conversation=Rt(Jr).withContext(this.context).withProps({assistantPersona:n,userPersona:e,messages:t,conversationLayout:this.getProp("conversationLayout"),markdownLinkTarget:this.getProp("markdownLinkTarget"),showCodeBlockCopyButton:this.getProp("showCodeBlockCopyButton"),skipStreamingAnimation:this.getProp("skipStreamingAnimation"),streamingAnimationSpeed:this.getProp("streamingAnimationSpeed"),syntaxHighlighter:this.getProp("syntaxHighlighter"),htmlSanitizer:this.getProp("htmlSanitizer"),onSegmentCountChange:this.handleSegmentCountChange}).create(),this.addSubComponent(this.conversation.id,this.conversation,"conversationContainer")}addComposer(n,e,t,r){this.composer=Rt(bt).withContext(this.context).withProps({props:{domCompProps:{status:"typing",placeholder:n,autoFocus:e,disableSubmitButton:t,submitShortcut:r}},eventListeners:{onTextUpdated:s=>this.handleComposerTextChange(s),onSubmit:()=>this.handleComposerSubmit()}}).create(),this.addSubComponent(this.composer.id,this.composer,"composerContainer")}handleComposerSubmit(){const n=this.props.composer;(({context:e,composerInstance:t,conversation:r,autoScrollController:s,messageToSend:a,resetComposer:i,setComposerAsWaiting:o})=>()=>{var l,c;const u=r.addChatSegment();try{const d=t.getProp("domCompProps");t.setDomProps({...d,status:"submitting-prompt"});const p={aiChatProps:e.aiChatProps,conversationHistory:r.getConversationContentForAdapter((c=(l=e.aiChatProps)==null?void 0:l.conversationOptions)==null?void 0:c.historyPayloadSize)},m=Sl(a,e.adapter,p);m.observable.on("error",(h,g)=>{r.removeChatSegment(u),s==null||s.handleChatSegmentRemoved(u),i(!1),e.exception(h),e.emit("error",{errorId:h,message:_l[h],errorObject:g})}),m.observable.on("userMessageReceived",h=>{r.addChatItem(u,h),e.emit("messageSent",{uid:h.uid,message:h.content}),tt(()=>{if(s){const g=r.getChatSegmentContainer(u);g&&s.handleNewChatSegmentAdded(u,g)}})}),m.dataTransferMode==="batch"?m.observable.on("aiMessageReceived",h=>{const g=typeof h.content=="string",f={...h,content:g?"":h.content};r.addChatItem(u,f),g&&r.addChunk(u,f.uid,h.content,h.serverResponse),r.completeChatSegment(u),e.emit("messageReceived",{uid:h.uid,message:h.content}),i(!0)}):(m.observable.on("aiMessageStreamStarted",h=>{r.addChatItem(u,h),o(),e.emit("messageStreamStarted",{uid:h.uid})}),m.observable.on("aiChunkReceived",h=>{const{messageId:g,chunk:f,serverResponse:w}=h;r.addChunk(u,g,f,w)}),m.observable.on("aiMessageStreamed",h=>{h.status==="complete"&&e.emit("messageReceived",{uid:h.uid,message:h.content})}),m.observable.on("aiServerComponentStreamStarted",h=>{r.addChatItem(u,h),o(),e.emit("messageStreamStarted",{uid:h.uid})}),m.observable.on("aiServerComponentStreamed",h=>{h.status==="complete"&&e.emit("messageReceived",{uid:h.uid,message:h.content})}),m.observable.on("complete",()=>{r.completeChatSegment(u),i(!1)}))}catch(d){de(d),i(!1)}})({context:this.context,composerInstance:this.composer,conversation:this.conversation,messageToSend:this.prompt,autoScrollController:this.autoScrollController,resetComposer:e=>{this.destroyed||this.resetComposer(e,n==null?void 0:n.autoFocus)},setComposerAsWaiting:()=>{this.destroyed||this.composer.setDomProps({status:"waiting"})}})()}handleComposerTextChange(n){this.prompt=n}resetComposer(n=!1,e=!1){if(!this.composer)return;const t={...this.composer.getProp("domCompProps"),status:"typing"};n&&(t.message=""),this.composer.setDomProps(t),e&&this.composer.focusTextInput()}};Qn([Ze("conversation-container-clicked")],mn.prototype,"messagesContainerClicked",1),Qn([Ze("chat-room-ready")],mn.prototype,"onChatRoomReady",1),mn=Qn([ut("chatRoom",({appendToRoot:n,compEvent:e,props:t})=>{const r=document.createElement("div");r.classList.add("nlux-conversation-container");const s=document.createElement("div");s.classList.add("nlux-composer-container");const a=document.createElement("div");a.classList.add("nlux-launchPad-container");const i=document.createDocumentFragment();i.appendChild(a),i.appendChild(r),i.appendChild(s);const o=t.visible??!0,u=document.createElement("div"),l=p=>{u.classList.remove("nlux-chatRoom-starting"),u.classList.remove("nlux-chatRoom-active"),u.classList.add(`nlux-chatRoom-${p}`)};u.classList.add("nlux-chatRoom-container"),l(ts(t.initialConversationContent)),u.append(i),u.style.display=o?"":"none";const[c,d]=In(u,":scope > .nlux-conversation-container").on("click",e("conversation-container-clicked")).get();return n(u),e("chat-room-ready")(),{elements:{composerContainer:s,conversationContainer:r,launchPadContainer:a},actions:{updateChatRoomStatus:p=>{l(p)}},onDestroy:()=>{d()}}},({propName:n,newValue:e,dom:{elements:t}})=>{})],mn);const Il=n=>{const e=new Set;let t=!1,r=null,s=null;const a=()=>{if(t||e.size===0)return;t=!0;const o=e.values().next().value;e.delete(o),r=(({message:u})=>{const l=document.createElement("div");l.classList.add("nlux-comp-exceptionItem");const c=document.createElement("span");return c.classList.add("nlux-comp-exp_itm_msg"),c.append(document.createTextNode(u)),l.append(c),l})(o),n.append(r),s=setTimeout(i,3e3)},i=()=>{r==null||r.classList.add("nlux-comp-exceptionItem--hiding"),s=setTimeout(()=>{t=!1,r==null||r.remove(),r=null,a()},500)};return{displayException:o=>{e.add({message:o}),t||a()},destroy:()=>{e.clear(),r==null||r.remove(),s&&clearTimeout(s)}}};let ma=class extends We{constructor(n,e){super(n,e)}destroy(){super.destroy()}showAlert(n,e){this.executeDomAction("displayException",e)}};ma=((n,e,t,r)=>{for(var s,a=e,i=n.length-1;i>=0;i--)(s=n[i])&&(a=s(a)||a);return a})([ut("exceptionsBox",({props:n,appendToRoot:e})=>{const t=(()=>{const s=document.createElement("div");return s.classList.add("nlux-comp-exceptionBox"),s})();e(t);let r=Il(t);return{elements:{root:t},actions:{displayException:s=>{r==null||r.displayException(s)}},onDestroy:()=>{r==null||r.destroy(),t.remove(),r=void 0}}},()=>{})],ma);class Ol{constructor(e){this.actionToPerformWhenIdle="none",this.itemIds=new Set,this.status="idle",this.theContextId=null,this.updateQueueByItemId=new Map,this.dataAdapter=e}get contextId(){return this.theContextId}async createContext(e){if(this.status==="destroyed")return{success:!1,error:"The context has been destroyed"};const t=e??null;this.itemIds.clear(),t!==null&&Object.keys(t).forEach(r=>{this.itemIds.add(r)}),this.actionToPerformWhenIdle="none";try{const r=await this.dataAdapter.create(t??{});return r.success?(this.theContextId=r.contextId,{success:!0,contextId:r.contextId}):{success:!1,error:"Failed to set the context"}}catch(r){return{success:!1,error:`${r}`}}}async destroy(){return this.status==="destroyed"?(de("Context.DataSyncService.destroy() called on a state that has already been destroyed"),{success:!0}):(this.status!=="updating"||this.contextId||de("Context.DataSyncService.destroy() called with no contextId!"),this.contextId&&(this.status="updating",await this.dataAdapter.discard(this.contextId)),this.status="destroyed",this.theContextId=null,this.updateQueueByItemId.clear(),this.actionToPerformWhenIdle="none",{success:!0})}async flush(){if(!this.contextId)throw new Error("Context not initialized");if(this.status==="updating")return void(this.actionToPerformWhenIdle="flush");this.status="updating";const e=this.updateQueueByItemId.keys(),t=[],r=[];for(const a of e){const i=this.updateQueueByItemId.get(a);i&&(i.operation!=="delete"?["set","update"].includes(i.operation)&&t.push(a):r.push(a))}const s=t.reduce((a,i)=>{const o=this.updateQueueByItemId.get(i);return o&&(o.operation==="set"&&(a[i]={value:o.data,description:o.description}),o.operation!=="update"||o.data===void 0&&o.description===void 0||(a[i]={value:o.data,description:o.description})),a},{});if(Object.keys(s).length>0){Object.keys(s).forEach(a=>{this.updateQueueByItemId.delete(a)});try{await this.dataAdapter.updateItems(this.contextId,s)}catch(a){de(`Failed to update context data: ${a}`),Object.keys(s).forEach(i=>{const o=s[i];o&&this.updateQueueByItemId.set(i,{operation:"update",data:o.value,description:o.description})})}}if(r.length>0){r.forEach(a=>{this.itemIds.delete(a),this.updateQueueByItemId.delete(a)});try{await this.dataAdapter.removeItems(this.contextId,r)}catch(a){de(`Failed to delete context data: ${a}`),r.forEach(i=>{this.itemIds.add(i),this.updateQueueByItemId.set(i,{operation:"delete"})})}}await this.backToIdle()}hasActiveItemWithId(e){var t;return this.itemIds.has(e)&&(!this.updateQueueByItemId.has(e)||((t=this.updateQueueByItemId.get(e))==null?void 0:t.operation)!=="delete")}hasItemWithId(e){return this.itemIds.has(e)}removeItem(e){if(this.status==="destroyed")throw new Error("The context has been destroyed");if(!this.contextId)throw new Error("Context not initialized");if(!this.itemIds.has(e))throw new Error("Item not found");this.updateQueueByItemId.set(e,{operation:"delete"})}async resetContextData(e){const t=this.contextId;if(this.itemIds.clear(),this.updateQueueByItemId.clear(),this.status!=="updating"){if(!t)return de("resetContextData() called with no contextId!"),void await this.backToIdle();try{this.status="updating",await this.dataAdapter.resetItems(t,e)}catch(r){de(`Failed to reset context data: ${r}`)}this.updateQueueByItemId.clear(),e?(this.itemIds.clear(),Object.keys(e).forEach(r=>{this.itemIds.add(r)})):this.itemIds.clear(),await this.backToIdle()}else this.actionToPerformWhenIdle="reset"}setItemData(e,t,r){if(this.status==="destroyed")throw new Error("The context has been destroyed");this.updateQueueByItemId.set(e,{operation:"set",description:t,data:r}),this.itemIds.add(e)}updateItemData(e,t,r){if(this.status==="destroyed")throw new Error("The context has been destroyed");if(r===void 0&&t===void 0)return;const s=this.updateQueueByItemId.get(e);if((s==null?void 0:s.operation)==="delete")throw new Error("Item has been deleted");const a=r??(s==null?void 0:s.data)??void 0,i=t??(s==null?void 0:s.description)??void 0;this.updateQueueByItemId.set(e,{operation:"update",data:a,description:i})}async backToIdle(){this.status="idle";const e=this.actionToPerformWhenIdle;this.actionToPerformWhenIdle="none",e!=="flush"?e!=="reset"||await this.resetContextData():await this.flush()}}class Nl{constructor(e,t){this.actionToPerformWhenIdle="none",this.status="idle",this.taskCallbacks=new Map,this.tasks=new Set,this.updateQueueByTaskId=new Map,this.contextId=e,this.adapter=t}canRunTask(e){return this.taskCallbacks.has(e)}async destroy(){return this.status==="destroyed"?(de("Context.TasksService.destroy() called on a state that has already been destroyed"),{success:!0}):(this.status="updating",await this.unregisterAllTasks(),this.status="destroyed",this.updateQueueByTaskId.clear(),this.tasks.clear(),{success:!0})}async flush(){if(this.status==="updating")return void(this.actionToPerformWhenIdle="flush");const e=this.updateQueueByTaskId.keys(),t=[],r=[],s=[];for(const i of e){const o=this.updateQueueByTaskId.get(i);o&&(o.operation!=="delete"?o.operation!=="set"?o.operation==="update"&&r.push(i):t.push(i):s.push(i))}if(t.length===0&&r.length===0&&s.length===0)return;this.status="updating";const a={...this.buildUpdateObject(t),...this.buildUpdateObject(r)};if(Object.keys(a).length>0)try{const i=await this.adapter.updateTasks(this.contextId,a);if(i.success)for(const o of Object.keys(a)){const u=this.updateQueueByTaskId.get(o);u&&u.operation==="set"&&(this.taskCallbacks.set(o,u.callback),this.updateQueueByTaskId.delete(o))}else de(`Context.TasksService.flush() failed to register tasks for context ID ${this.contextId}
Error: ${i.error}`)}catch(i){de(`Context.TasksService.flush() failed to register tasks for context ID ${this.contextId}
Error: ${i}`)}if(s.length>0)try{const i=await this.adapter.removeTasks(this.contextId,s);if(i.success)for(const o of s)this.taskCallbacks.delete(o),this.updateQueueByTaskId.delete(o);else de(`Context.TasksService.flush() failed to unregister tasks for context ID ${this.contextId}
Error: ${i.error}`)}catch(i){de(`Context.TasksService.flush() failed to unregister tasks for context ID ${this.contextId}
Error: ${i}`)}await this.backToIdle()}hasTask(e){return this.tasks.has(e)}async registerTask(e,t,r,s){if(this.status==="destroyed")throw new Error("Context has been destroyed");if(this.tasks.has(e))throw new Error(`A task with ID '${e}' already exists. Task IDs must be unique.`);this.updateQueueByTaskId.set(e,{operation:"set",description:t,paramDescriptions:s||[],callback:r}),this.tasks.add(e)}async resetContextData(){const e=this.contextId;if(this.tasks.clear(),this.taskCallbacks.clear(),this.updateQueueByTaskId.clear(),this.status!=="updating"){if(!e)return de("resetContextData() called with no contextId!"),void await this.backToIdle();try{this.status="updating",await this.unregisterAllTasks()}catch(t){de(`Failed to reset context data: ${t}`)}await this.backToIdle()}else this.actionToPerformWhenIdle="reset"}async runTask(e,t){if(this.status==="destroyed")throw new Error("Context has been destroyed");if(!this.tasks.has(e))return{success:!1,error:`Task with ID ${e} not found`};const r=this.taskCallbacks.get(e);if(!r)return{success:!1,error:`The task with ID '${e}' has no callback. This is potential due to failed registration.`};try{return{success:!0,result:r(...t??[])}}catch(s){return{success:!1,error:`${s}`}}}async unregisterAllTasks(){if(this.tasks.size===0)return{success:!0};const e=await this.adapter.resetTasks(this.contextId);return e.success&&(this.tasks.clear(),this.taskCallbacks.clear(),this.updateQueueByTaskId.clear()),e}async unregisterTask(e){if(this.status==="destroyed")throw new Error("Context has been destroyed");return this.tasks.has(e)?(this.tasks.delete(e),this.taskCallbacks.delete(e),this.updateQueueByTaskId.set(e,{operation:"delete"}),{success:!0}):{success:!0}}async updateTaskCallback(e,t){if(this.status==="destroyed")throw new Error("The context has been destroyed");if(!this.tasks.has(e))throw new Error(`Task with ID ${e} not found`);this.taskCallbacks.set(e,t)}async updateTaskDescription(e,t){if(this.status==="destroyed")throw new Error("The context has been destroyed");if(!this.tasks.has(e))throw new Error(`Task with ID ${e} not found`);const r=this.updateQueueByTaskId.get(e);if(r)if(r.operation!=="update"){const s={operation:"update",description:t};this.updateQueueByTaskId.set(e,s)}else r.description=t;else this.updateQueueByTaskId.set(e,{operation:"update",description:t})}async updateTaskParamDescriptions(e,t){if(this.status==="destroyed")throw new Error("The context has been destroyed");if(!this.tasks.has(e))throw new Error(`Task with ID ${e} not found`);const r=this.updateQueueByTaskId.get(e);if(r)if(r.operation!=="update"){const s={operation:"update",paramDescriptions:t};this.updateQueueByTaskId.set(e,s)}else r.paramDescriptions=t;else this.updateQueueByTaskId.set(e,{operation:"update",paramDescriptions:t})}async backToIdle(){this.status="idle";const e=this.actionToPerformWhenIdle;this.actionToPerformWhenIdle="none",e!=="flush"?e!=="reset"||await this.unregisterAllTasks():await this.flush()}buildUpdateObject(e){return e.reduce((t,r)=>{const s=this.updateQueueByTaskId.get(r);if(!s)return t;if(s.operation==="set"&&(t[r]={description:s.description,paramDescriptions:s.paramDescriptions}),s.operation==="update"&&(s.description!==void 0||s.paramDescriptions!==void 0)){const a={};s.description!==void 0&&(a.description=s.description),s.paramDescriptions!==void 0&&(a.paramDescriptions=s.paramDescriptions),t[r]=a}return t},{})}}class Ml{constructor(){this.theDataAdapter=null,this.theDataSyncOptions=null,this.theDataSyncService=null,this.theStatus="idle",this.theTasksAdapter=null,this.theTasksService=null,this.destroy=async()=>{var e,t;return this.theStatus==="destroyed"||(this.theStatus="destroyed",await Promise.all([(e=this.theDataSyncService)==null?void 0:e.destroy(),(t=this.theTasksService)==null?void 0:t.destroy()]),this.theDataSyncService=null,this.theTasksService=null,this.theDataAdapter=null,this.theTasksAdapter=null),{success:!0}},this.flush=async()=>{var e,t;try{await((e=this.theDataSyncService)==null?void 0:e.flush())}catch{return{success:!1,error:"Failed to flush context data"}}try{await((t=this.theTasksService)==null?void 0:t.flush())}catch{return{success:!1,error:"Failed to flush context tasks"}}return{success:!0}},this.initialize=async e=>{var t;if(this.theStatus==="initializing")return de(`${this.constructor.name}.initialize() called while context is still initializing! You cannot initialize twice at the same time. Use ${this.constructor.name}.status or await ${this.constructor.name}.initialize() to make sure that the context is not initializing before calling this method.`),{success:!1,error:"Context is still initializing! Use AiContext.status to check the context status before calling this method."};if(this.theStatus==="syncing")return de(`${this.constructor.name}.initialize() called on an already initialized context! Use ${this.constructor.name}.status to check the context status before calling this method. `),{success:!1,error:"Context already initialized! Use AiContext.status to check the context status before calling this method."};if(this.theStatus==="destroyed")return de(`${this.constructor.name}.initialize() called on destroyed context! Use ${this.constructor.name}.status to check the context status before calling this method. When the context is destroyed, it cannot be used anymore and you should create a new context.`),{success:!1,error:"Context has been destroyed"};if(this.theStatus==="error")return de(`${this.constructor.name}.initialize() called on a context in error state! Use ${this.constructor.name}.status to check the context status before calling this method. When the context is in error state, it cannot be used anymore and you should create a new context.`),{success:!1,error:"Context is in error state"};if(!this.theDataAdapter)return de(`Adapter not set! You must set the adapter before initializing the context. Use ${this.constructor.name}.withAdapter() to set the adapter before calling this method.`),{success:!1,error:"Adapter not set"};this.theStatus="initializing",this.theDataSyncService=new Ol(this.theDataAdapter);try{const r=await this.theDataSyncService.createContext(e);return this.status==="destroyed"?(r.success&&await((t=this.theDataSyncService)==null?void 0:t.resetContextData()),{success:!1,error:"Context has been destroyed"}):r.success?this.contextId?(this.theStatus="syncing",this.theTasksAdapter?this.theTasksService=new Nl(this.contextId,this.theTasksAdapter):de("Initializing nlux AiContext without tasks adapter. The context will not handle registering and executing tasks by AI. If you want to use tasks triggered by AI, you should provide an adapter that implements ContextAdapter interface [type ContextAdapter = ContextDataAdapter & ContextTasksAdapter]"),{success:!0,contextId:r.contextId}):(this.theStatus="error",{success:!1,error:"Failed to obtain context ID"}):(this.theStatus="error",{success:!1,error:"Failed to initialize context"})}catch(r){return this.theStatus="error",{success:!1,error:`${r}`}}},this.observeState=(e,t,r)=>{var s;if(this.theStatus!=="idle")if(this.theStatus!=="initializing"){if(this.theStatus!=="destroyed")return(s=this.theDataSyncService)==null||s.setItemData(e,t,r??null),{setData:a=>{var i;(i=this.theDataSyncService)==null||i.updateItemData(e,void 0,a)},setDescription:a=>{var i;(i=this.theDataSyncService)==null||i.updateItemData(e,a,void 0)},discard:()=>{var a;(a=this.theDataSyncService)==null||a.removeItem(e)}};de(`${this.constructor.name}.observeState() called on destroyed context! Use ${this.constructor.name}.status to check the context status before calling this method. When the context is destroyed, it cannot be used anymore and you should create a new context.`)}else de(`${this.constructor.name}.observeState() called while context is still initializing! You cannot observe state items while the context is initializing. Use ${this.constructor.name}.status or await ${this.constructor.name}.initialize() to make sure that the context is not initializing before calling this method.`);else de(`${this.constructor.name}.observeState() called on idle context! Use ${this.constructor.name}.status to check the context status before calling this method. Use ${this.constructor.name}.initialize() to initialize the context when it is not initialized.`)},this.registerTask=(e,t,r,s)=>{if(this.theStatus==="idle")return void de(`${this.constructor.name}.registerTask() called on idle context! Use ${this.constructor.name}.status to check the context status before calling this method. Use ${this.constructor.name}.initialize() to initialize the context when it is not initialized.`);if(!this.theTasksService)return void de(`${this.constructor.name}.registerTask() called on a context that has does not have tasks service! You should use an adapter that implements ContextTasksAdapter interface in order to register tasks. Use ${this.constructor.name}.withAdapter() to set the right adapter before calling this method.`);if(this.theStatus==="destroyed")return void de(`${this.constructor.name}.registerTask() called on destroyed context! Use ${this.constructor.name}.status to check the context status before calling this method. When the context is destroyed, it cannot be used anymore and you should create a new context.`);let a="updating";if(!this.theTasksService.hasTask(e))return this.theTasksService.registerTask(e,t,r,s).then(()=>{a==="updating"&&(a="set")}).catch(()=>{de(`${this.constructor.name}.registerTask() failed to register task '${e}'!
The task will be marked as deleted and will not be updated anymore.`),a==="updating"&&(a="deleted",this.unregisterTask(e))}),{discard:()=>{a="deleted",this.unregisterTask(e)},setDescription:i=>{var o;if(a==="deleted")throw new Error("Task has been deleted");a="updating",(o=this.theTasksService)==null||o.updateTaskDescription(e,i).then(()=>{a==="updating"&&(a="set")}).catch(()=>{a==="updating"&&(a="set")})},setCallback:i=>{var o;if(a==="deleted")throw new Error("Task has been deleted");a="updating",(o=this.theTasksService)==null||o.updateTaskCallback(e,i).then(()=>{a==="updating"&&(a="set")}).catch(()=>{a==="updating"&&(a="set")})},setParamDescriptions:i=>{var o;if(a==="deleted")throw new Error("Task has been deleted");a="updating",(o=this.theTasksService)==null||o.updateTaskParamDescriptions(e,i).then(()=>{a==="updating"&&(a="set")}).catch(()=>{a==="updating"&&(a="set")})}};console.warn(`${this.constructor.name}.registerTask() called with existing taskId: ${e}! It's only possible to register a task once. Use ${this.constructor.name}.hasTask() to check if the task already exists. Use ${this.constructor.name}.registerTask() with a different taskId if you want to register a different task.`)},this.reset=async e=>{var t,r;if(!this.theDataSyncService)return de(`${this.constructor.name}.reset() called on a state that has not been initialized! Use ${this.constructor.name}.initialize() to initialize the context before attempting any reset.`),{success:!1,error:"Context has not been initialized"};try{return await((t=this.theDataSyncService)==null?void 0:t.resetContextData(e)),await((r=this.theTasksService)==null?void 0:r.resetContextData()),this.theStatus="syncing",{success:!0}}catch(s){return this.theStatus="error",{success:!1,error:`${s}`}}},this.runTask=async(e,t)=>this.theTasksService?this.theTasksService.runTask(e,t):(de(`${this.constructor.name}.runTask() called on a state that has not been initialized! Use ${this.constructor.name}.initialize() to initialize the context before attempting any task execution.`),Promise.resolve({success:!1,error:"Context has not been initialized with tasks service. An adapter that implements ContextTasksAdapter interface should be provided to the context, and the context should be initialized before running any tasks."})),this.withAdapter=e=>{if(this.theDataAdapter)throw new Error("Adapter already set");const t=typeof(e==null?void 0:e.build)=="function";this.theDataAdapter=t?e.build():e;const r=(s=>{const a=s;return!(!a||typeof a.resetTasks!="function"||typeof a.updateTasks!="function"||typeof a.removeTasks!="function")&&a})(this.theDataAdapter);return r&&(this.theTasksAdapter=r),this},this.withDataSyncOptions=e=>{if(this.theDataSyncOptions)throw new Error("Data sync options already set");return this.theDataSyncOptions={...e},this},this.unregisterTask=e=>this.theTasksService?this.theTasksService.unregisterTask(e):(de(`${this.constructor.name}.unregisterTask() called on a state that has not been initialized! Use ${this.constructor.name}.initialize() to initialize the context before attempting any task unregister.`),Promise.resolve({success:!1,error:"Context has not been initialized"}))}get contextId(){var e;return((e=this.theDataSyncService)==null?void 0:e.contextId)??null}get status(){return this.theStatus}hasItem(e){var t;return((t=this.theDataSyncService)==null?void 0:t.hasItemWithId(e))??!1}hasRunnableTask(e){var t;return((t=this.theTasksService)==null?void 0:t.canRunTask(e))??!1}hasTask(e){var t;return((t=this.theTasksService)==null?void 0:t.hasTask(e))??!1}}const ha=()=>new Ml,Dl={"1k":1e3,"10k":1e4,"100k":1e5,"1mb":1e6,"10mb":1e7};var ga=Object.prototype.hasOwnProperty;function fa(n,e){for(let t of n.keys())if(qt(t,e))return t}function qt(n,e){var t,r,s;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&qt(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if((s=r)&&typeof s=="object"&&!(s=fa(e,s))||!e.has(s))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if((s=r[0])&&typeof s=="object"&&!(s=fa(e,s))||!qt(r[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){for(t in r=0,n)if(ga.call(n,t)&&++r&&!ga.call(e,t)||!(t in e)||!qt(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!=n&&e!=e}const Ll=n=>{const e=new Set;let t=!1,r=null,s=null;const a=()=>{if(t||e.size===0)return;t=!0;const o=e.values().next().value;e.delete(o),r=(({message:u})=>{const l=document.createElement("div");l.classList.add("nlux-comp-exceptionItem");const c=document.createElement("span");return c.classList.add("nlux-comp-exp_itm_msg"),c.append(document.createTextNode(u)),l.append(c),l})(o),n.append(r),s=setTimeout(i,3e3)},i=()=>{r==null||r.classList.add("nlux-comp-exceptionItem--hiding"),s=setTimeout(()=>{t=!1,r==null||r.remove(),r=null,a()},500)};return{displayException:o=>{e.add({message:o}),t||a()},destroy:()=>{e.clear(),r==null||r.remove(),s&&clearTimeout(s)}}},rt=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const e=16*Math.random()|0;return(n=="x"?e:3&e|8).toString(16)}),$e=n=>{typeof n!="string"?n&&typeof n.toString=="function"?console.warn(`[nlux] ${n.toString()}`):console.warn("[nlux]"):console.warn(`[nlux] ${n}`)},ba=[],Zt=n=>{ba.includes(n)||(ba.push(n),$e(n))},Pl=n=>{const e="nlux-chatSegment";return n==="complete"?`${e} nlux-chatSegment--complete`:n==="error"?`${e} nlux-chatSegment--error`:`${e} nlux-chatSegment--active`},ss={received:"nlux_msg_received",sent:"nlux_msg_sent"},as={streaming:"nlux_msg_streaming",complete:"nlux_msg_complete"},ya=n=>{if(!(n instanceof HTMLButtonElement)||n.dataset.clickListenerSet==="true")return;let e=!1;const t=n.nextElementSibling;n.addEventListener("click",()=>{if(e||!t)return;const r=t.innerText;navigator.clipboard.writeText(r??""),e=!0,n.classList.add("clicked"),setTimeout(()=>{e=!1,n.classList.remove("clicked")},1e3)}),n.dataset.clickListenerSet="true"},xo=n=>{const e="nlux-comp-copyButton";n instanceof HTMLButtonElement&&n.classList.contains(e)?ya(n):n.querySelectorAll(`.${e}`).forEach(ya)};function Bl(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let xt={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function va(n){xt=n}var zl=Object.defineProperty,ko=(n,e,t)=>((r,s,a)=>s in r?zl(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a)(n,typeof e!="symbol"?e+"":e,t);class Kt{constructor(e){ko(this,"options"),this.options=e||xt}postprocess(e){return e}preprocess(e){return e}processAllTokens(e){return e}}ko(Kt,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));const So=/[&<>"']/,Fl=new RegExp(So.source,"g"),_o=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Ul=new RegExp(_o.source,"g"),$l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ea=n=>$l[n];function Ke(n,e){if(e){if(So.test(n))return n.replace(Fl,Ea)}else if(_o.test(n))return n.replace(Ul,Ea);return n}const Hl=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function jl(n){return n.replace(Hl,(e,t)=>(t=t.toLowerCase())==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const ql=/(^|[^\[])\^/g;function _e(n,e){let t=typeof n=="string"?n:n.source;e=e||"";const r={replace:(s,a)=>{let i=typeof a=="string"?a:a.source;return i=i.replace(ql,"$1"),t=t.replace(s,i),r},getRegex:()=>new RegExp(t,e)};return r}function wa(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Gt={exec:()=>null};function xa(n,e){const t=n.replace(/\|/g,(s,a,i)=>{let o=!1,u=a;for(;--u>=0&&i[u]==="\\";)o=!o;return o?"|":" |"}).split(/ \|/);let r=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),e)if(t.length>e)t.splice(e);else for(;t.length<e;)t.push("");for(;r<t.length;r++)t[r]=t[r].trim().replace(/\\\|/g,"|");return t}function hn(n,e,t){const r=n.length;if(r===0)return"";let s=0;for(;s<r;){const a=n.charAt(r-s-1);if(a!==e||t){if(a===e||!t)break;s++}else s++}return n.slice(0,r-s)}const tn=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Co=/(?:[*+-]|\d{1,9}[.)])/,To=_e(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Co).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),As=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Rs=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Kl=_e(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Rs).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Gl=_e(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Co).getRegex(),Hn="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Is=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Wl=_e("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Is).replace("tag",Hn).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ka=_e(As).replace("hr",tn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hn).getRegex(),Os={blockquote:_e(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ka).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:Kl,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:tn,html:Wl,lheading:To,list:Gl,newline:/^(?: *(?:\n|$))+/,paragraph:ka,table:Gt,text:/^[^\n]+/},Sa=_e("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",tn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hn).getRegex(),Yl={...Os,table:Sa,paragraph:_e(As).replace("hr",tn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Sa).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hn).getRegex()},Zl={...Os,html:_e(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Is).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Gt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:_e(As).replace("hr",tn).replace("heading",` *#{1,6} *[^
]`).replace("lheading",To).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ao=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ro=/^( {2,}|\\)\n(?!\s*$)/,nn="\\p{P}\\p{S}",Ql=_e(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,nn).getRegex(),Xl=_e(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,nn).getRegex(),Vl=_e("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,nn).getRegex(),Jl=_e("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,nn).getRegex(),eu=_e(/\\([punct])/,"gu").replace(/punct/g,nn).getRegex(),tu=_e(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),nu=_e(Is).replace("(?:-->|$)","-->").getRegex(),ru=_e("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",nu).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),On=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,su=_e(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",On).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),_a=_e(/^!?\[(label)\]\[(ref)\]/).replace("label",On).replace("ref",Rs).getRegex(),Ca=_e(/^!?\[(ref)\](?:\[\])?/).replace("ref",Rs).getRegex(),Ns={_backpedal:Gt,anyPunctuation:eu,autolink:tu,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:Ro,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Gt,emStrongLDelim:Xl,emStrongRDelimAst:Vl,emStrongRDelimUnd:Jl,escape:Ao,link:su,nolink:Ca,punctuation:Ql,reflink:_a,reflinkSearch:_e("reflink|nolink(?!\\()","g").replace("reflink",_a).replace("nolink",Ca).getRegex(),tag:ru,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Gt},au={...Ns,link:_e(/^!?\[(label)\]\((.*?)\)/).replace("label",On).getRegex(),reflink:_e(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",On).getRegex()},is={...Ns,escape:_e(Ao).replace("])","~|])").getRegex(),url:_e(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},iu={...is,br:_e(Ro).replace("{2,}","*").getRegex(),text:_e(is.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},gn={normal:Os,gfm:Yl,pedantic:Zl},zt={normal:Ns,gfm:is,breaks:iu,pedantic:au};var ou=Object.defineProperty,Xn=(n,e,t)=>((r,s,a)=>s in r?ou(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a)(n,typeof e!="symbol"?e+"":e,t);function Ta(n,e,t,r){const s=e.href,a=e.title?Ke(e.title):null,i=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){r.state.inLink=!0;const o={type:"link",raw:t,href:s,title:a,text:i,tokens:r.inlineTokens(i)};return r.state.inLink=!1,o}return{type:"image",raw:t,href:s,title:a,text:Ke(i)}}class Nn{constructor(e){Xn(this,"lexer"),Xn(this,"options"),Xn(this,"rules"),this.options=e||xt}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let r,s;return t[2]==="@"?(r=Ke(t[1]),s="mailto:"+r):(r=Ke(t[1]),s=r),{type:"link",raw:t[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let r=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);r=hn(r.replace(/^ *>[ \t]?/gm,""),`
`);const s=this.lexer.state.top;this.lexer.state.top=!0;const a=this.lexer.blockTokens(r);return this.lexer.state.top=s,{type:"blockquote",raw:t[0],tokens:a,text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:hn(r,`
`)}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const s=/[^ ]/.test(r),a=/^ /.test(r)&&/ $/.test(r);return s&&a&&(r=r.substring(1,r.length-1)),r=Ke(r,!0),{type:"codespan",raw:t[0],text:r}}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),s=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:s,title:a}}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}emStrong(e,t,r=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(s&&!(s[3]&&r.match(/[\p{L}\p{N}]/u))&&(!(s[1]||s[2])||!r||this.rules.inline.punctuation.exec(r))){const a=[...s[0]].length-1;let i,o,u=a,l=0;const c=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+a);(s=c.exec(t))!=null;){if(i=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!i)continue;if(o=[...i].length,s[3]||s[4]){u+=o;continue}if((s[5]||s[6])&&a%3&&!((a+o)%3)){l+=o;continue}if(u-=o,u>0)continue;o=Math.min(o,o+u+l);const d=[...s[0]][0].length,p=e.slice(0,a+s.index+d+o);if(Math.min(a,o)%2){const h=p.slice(1,-1);return{type:"em",raw:p,text:h,tokens:this.lexer.inlineTokens(h)}}const m=p.slice(2,-2);return{type:"strong",raw:p,text:m,tokens:this.lexer.inlineTokens(m)}}}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Ke(t[1])}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],s=function(a,i){const o=a.match(/^(\s+)(?:```)/);if(o===null)return i;const u=o[1];return i.split(`
`).map(l=>{const c=l.match(/^\s+/);if(c===null)return l;const[d]=c;return d.length>=u.length?l.slice(u.length):l}).join(`
`)}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const s=hn(r,"#");this.options.pedantic?r=s.trim():s&&!/ $/.test(s)||(r=s.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let r;return r=this.lexer.state.inRawBlock?t[0]:Ke(t[0]),{type:"text",raw:t[0],text:r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const i=hn(r.slice(0,-1),"\\");if((r.length-i.length)%2==0)return}else{const i=function(o,u){if(o.indexOf(u[1])===-1)return-1;let l=0;for(let c=0;c<o.length;c++)if(o[c]==="\\")c++;else if(o[c]===u[0])l++;else if(o[c]===u[1]&&(l--,l<0))return c;return-1}(t[2],"()");if(i>-1){const o=(t[0].indexOf("!")===0?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,o).trim(),t[3]=""}}let s=t[2],a="";if(this.options.pedantic){const i=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);i&&(s=i[1],a=i[3])}else a=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(r)?s.slice(1):s.slice(1,-1)),Ta(t,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim();const s=r.length>1,a={type:"list",raw:"",ordered:s,start:s?+r.slice(0,-1):"",loose:!1,items:[]};r=s?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=s?r:"[*+-]");const i=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let o="",u="",l=!1;for(;e;){let c=!1;if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;o=t[0],e=e.substring(o.length);let d=t[2].split(`
`,1)[0].replace(/^\t+/,w=>" ".repeat(3*w.length)),p=e.split(`
`,1)[0],m=0;this.options.pedantic?(m=2,u=d.trimStart()):(m=t[2].search(/[^ ]/),m=m>4?1:m,u=d.slice(m),m+=t[1].length);let h=!1;if(!d&&/^ *$/.test(p)&&(o+=p+`
`,e=e.substring(p.length+1),c=!0),!c){const w=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),b=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),y=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),_=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;e;){const x=e.split(`
`,1)[0];if(p=x,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),y.test(p)||_.test(p)||w.test(p)||b.test(e))break;if(p.search(/[^ ]/)>=m||!p.trim())u+=`
`+p.slice(m);else{if(h||d.search(/[^ ]/)>=4||y.test(d)||_.test(d)||b.test(d))break;u+=`
`+p}h||p.trim()||(h=!0),o+=x+`
`,e=e.substring(x.length+1),d=p.slice(m)}}a.loose||(l?a.loose=!0:/\n *\n *$/.test(o)&&(l=!0));let g,f=null;this.options.gfm&&(f=/^\[[ xX]\] /.exec(u),f&&(g=f[0]!=="[ ] ",u=u.replace(/^\[[ xX]\] +/,""))),a.items.push({type:"list_item",raw:o,task:!!f,checked:g,loose:!1,text:u,tokens:[]}),a.raw+=o}a.items[a.items.length-1].raw=o.trimEnd(),a.items[a.items.length-1].text=u.trimEnd(),a.raw=a.raw.trimEnd();for(let c=0;c<a.items.length;c++)if(this.lexer.state.top=!1,a.items[c].tokens=this.lexer.blockTokens(a.items[c].text,[]),!a.loose){const d=a.items[c].tokens.filter(m=>m.type==="space"),p=d.length>0&&d.some(m=>/\n.*\n/.test(m.raw));a.loose=p}if(a.loose)for(let c=0;c<a.items.length;c++)a.items[c].loose=!0;return a}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const s=t[(r[2]||r[1]).replace(/\s+/g," ").toLowerCase()];if(!s){const a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return Ta(r,s,r[0],this.lexer)}}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const r=xa(t[1]),s=t[2].replace(/^\||\| *$/g,"").split("|"),a=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===s.length){for(const o of s)/^ *-+: *$/.test(o)?i.align.push("right"):/^ *:-+: *$/.test(o)?i.align.push("center"):/^ *:-+ *$/.test(o)?i.align.push("left"):i.align.push(null);for(const o of r)i.header.push({text:o,tokens:this.lexer.inline(o)});for(const o of a)i.rows.push(xa(o,i.header.length).map(u=>({text:u,tokens:this.lexer.inline(u)})));return i}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}url(e){var r;let t;if(t=this.rules.inline.url.exec(e)){let s,a;if(t[2]==="@")s=Ke(t[0]),a="mailto:"+s;else{let i;do i=t[0],t[0]=((r=this.rules.inline._backpedal.exec(t[0]))==null?void 0:r[0])??"";while(i!==t[0]);s=Ke(t[0]),a=t[1]==="www."?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:s,href:a,tokens:[{type:"text",raw:s,text:s}]}}}}var cu=Object.defineProperty,Ft=(n,e,t)=>((r,s,a)=>s in r?cu(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a)(n,typeof e!="symbol"?e+"":e,t);class st{constructor(e){Ft(this,"options"),Ft(this,"state"),Ft(this,"tokens"),Ft(this,"inlineQueue"),Ft(this,"tokenizer"),this.tokens=[],this.tokens.links=Object.create(null),this.options=e||xt,this.options.tokenizer=this.options.tokenizer||new Nn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:gn.normal,inline:zt.normal};this.options.pedantic?(t.block=gn.pedantic,t.inline=zt.pedantic):this.options.gfm&&(t.block=gn.gfm,this.options.breaks?t.inline=zt.breaks:t.inline=zt.gfm),this.tokenizer.rules=t}static get rules(){return{block:gn,inline:zt}}static lex(e,t){return new st(t).lex(e)}static lexInline(e,t){return new st(t).inlineTokens(e)}blockTokens(e,t=[]){let r,s,a,i;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(o,u,l)=>u+"    ".repeat(l.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>!!(r=o.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0))))if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),s=t[t.length-1],!s||s.type!=="paragraph"&&s.type!=="text"?t.push(r):(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.list(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.def(e))e=e.substring(r.raw.length),s=t[t.length-1],!s||s.type!=="paragraph"&&s.type!=="text"?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(s.raw+=`
`+r.raw,s.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else{if(a=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const u=e.slice(1);let l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},u),typeof l=="number"&&l>=0&&(o=Math.min(o,l))}),o<1/0&&o>=0&&(a=e.substring(0,o+1))}if(this.state.top&&(r=this.tokenizer.paragraph(a)))s=t[t.length-1],i&&s.type==="paragraph"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(r),i=a.length!==e.length,e=e.substring(r.raw.length);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),s=t[t.length-1],s&&s.type==="text"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(r);else if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,s,a,i,o,u,l=e;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)c.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(l))!=null;)l=l.slice(0,i.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(o||(u=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>!!(r=c.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0))))if(r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e))e=e.substring(r.raw.length),s=t[t.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):t.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),s=t[t.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):t.push(r);else if(r=this.tokenizer.emStrong(e,l,u))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.autolink(e))e=e.substring(r.raw.length),t.push(r);else if(this.state.inLink||!(r=this.tokenizer.url(e))){if(a=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const d=e.slice(1);let p;this.options.extensions.startInline.forEach(m=>{p=m.call({lexer:this},d),typeof p=="number"&&p>=0&&(c=Math.min(c,p))}),c<1/0&&c>=0&&(a=e.substring(0,c+1))}if(r=this.tokenizer.inlineText(a))e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(u=r.raw.slice(-1)),o=!0,s=t[t.length-1],s&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):t.push(r);else if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}throw new Error(c)}}else e=e.substring(r.raw.length),t.push(r);return t}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}}var lu=Object.defineProperty,uu=(n,e,t)=>((r,s,a)=>s in r?lu(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a)(n,e+"",t);class Mn{constructor(e){uu(this,"options"),this.options=e||xt}blockquote(e){return`<blockquote>
${e}</blockquote>
`}br(){return"<br>"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}code(e,t,r){var a;const s=(a=(t||"").match(/^\S*/))==null?void 0:a[0];return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="language-'+Ke(s)+'">'+(r?e:Ke(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Ke(e,!0))+`</code></pre>
`}codespan(e){return`<code>${e}</code>`}del(e){return`<del>${e}</del>`}em(e){return`<em>${e}</em>`}heading(e,t,r){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}html(e,t){return e}image(e,t,r){const s=wa(e);if(s===null)return r;let a=`<img src="${e=s}" alt="${r}"`;return t&&(a+=` title="${t}"`),a+=">",a}link(e,t,r){const s=wa(e);if(s===null)return r;let a='<a href="'+(e=s)+'"';return t&&(a+=' title="'+t+'"'),a+=">"+r+"</a>",a}list(e,t,r){const s=t?"ol":"ul";return"<"+s+(t&&r!==1?' start="'+r+'"':"")+`>
`+e+"</"+s+`>
`}listitem(e,t,r){return`<li>${e}</li>
`}paragraph(e){return`<p>${e}</p>
`}strong(e){return`<strong>${e}</strong>`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}tablerow(e){return`<tr>
${e}</tr>
`}text(e){return e}}class Ms{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}var du=Object.defineProperty,Vn=(n,e,t)=>((r,s,a)=>s in r?du(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a)(n,typeof e!="symbol"?e+"":e,t);class at{constructor(e){Vn(this,"options"),Vn(this,"renderer"),Vn(this,"textRenderer"),this.options=e||xt,this.options.renderer=this.options.renderer||new Mn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ms}static parse(e,t){return new at(t).parse(e)}static parseInline(e,t){return new at(t).parseInline(e)}parse(e,t=!0){let r="";for(let s=0;s<e.length;s++){const a=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const i=a,o=this.options.extensions.renderers[i.type].call({parser:this},i);if(o!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(i.type)){r+=o||"";continue}}switch(a.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":{const i=a;r+=this.renderer.heading(this.parseInline(i.tokens),i.depth,jl(this.parseInline(i.tokens,this.textRenderer)));continue}case"code":{const i=a;r+=this.renderer.code(i.text,i.lang,!!i.escaped);continue}case"table":{const i=a;let o="",u="";for(let c=0;c<i.header.length;c++)u+=this.renderer.tablecell(this.parseInline(i.header[c].tokens),{header:!0,align:i.align[c]});o+=this.renderer.tablerow(u);let l="";for(let c=0;c<i.rows.length;c++){const d=i.rows[c];u="";for(let p=0;p<d.length;p++)u+=this.renderer.tablecell(this.parseInline(d[p].tokens),{header:!1,align:i.align[p]});l+=this.renderer.tablerow(u)}r+=this.renderer.table(o,l);continue}case"blockquote":{const i=a,o=this.parse(i.tokens);r+=this.renderer.blockquote(o);continue}case"list":{const i=a,o=i.ordered,u=i.start,l=i.loose;let c="";for(let d=0;d<i.items.length;d++){const p=i.items[d],m=p.checked,h=p.task;let g="";if(p.task){const f=this.renderer.checkbox(!!m);l?p.tokens.length>0&&p.tokens[0].type==="paragraph"?(p.tokens[0].text=f+" "+p.tokens[0].text,p.tokens[0].tokens&&p.tokens[0].tokens.length>0&&p.tokens[0].tokens[0].type==="text"&&(p.tokens[0].tokens[0].text=f+" "+p.tokens[0].tokens[0].text)):p.tokens.unshift({type:"text",text:f+" "}):g+=f+" "}g+=this.parse(p.tokens,l),c+=this.renderer.listitem(g,h,!!m)}r+=this.renderer.list(c,o,u);continue}case"html":{const i=a;r+=this.renderer.html(i.text,i.block);continue}case"paragraph":{const i=a;r+=this.renderer.paragraph(this.parseInline(i.tokens));continue}case"text":{let i=a,o=i.tokens?this.parseInline(i.tokens):i.text;for(;s+1<e.length&&e[s+1].type==="text";)i=e[++s],o+=`
`+(i.tokens?this.parseInline(i.tokens):i.text);r+=t?this.renderer.paragraph(o):o;continue}default:{const i='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return r}parseInline(e,t){t=t||this.renderer;let r="";for(let s=0;s<e.length;s++){const a=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const i=this.options.extensions.renderers[a.type].call({parser:this},a);if(i!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){r+=i||"";continue}}switch(a.type){case"escape":{const i=a;r+=t.text(i.text);break}case"html":{const i=a;r+=t.html(i.text);break}case"link":{const i=a;r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break}case"image":{const i=a;r+=t.image(i.href,i.title,i.text);break}case"strong":{const i=a;r+=t.strong(this.parseInline(i.tokens,t));break}case"em":{const i=a;r+=t.em(this.parseInline(i.tokens,t));break}case"codespan":{const i=a;r+=t.codespan(i.text);break}case"br":r+=t.br();break;case"del":{const i=a;r+=t.del(this.parseInline(i.tokens,t));break}case"text":{const i=a;r+=t.text(i.text);break}default:{const i='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return r}}var Wt,Aa,os,pu=Object.defineProperty,Io=n=>{throw TypeError(n)},Je=(n,e,t)=>((r,s,a)=>s in r?pu(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a)(n,typeof e!="symbol"?e+"":e,t),cs=(n,e,t)=>(((r,s,a)=>{s.has(r)||Io("Cannot "+a)})(n,e,"access private method"),t);Wt=new WeakSet,Aa=function(n,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,n){const r="<p>An error occurred:</p><pre>"+Ke(t.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(t);throw t}},os=function(n,e){return(t,r)=>{const s={...r},a={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(a.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),a.async=!0);const i=cs(this,Wt,Aa).call(this,!!a.silent,!!a.async);if(t==null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(a.hooks&&(a.hooks.options=a),a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(t):t).then(o=>n(o,a)).then(o=>a.hooks?a.hooks.processAllTokens(o):o).then(o=>a.walkTokens?Promise.all(this.walkTokens(o,a.walkTokens)).then(()=>o):o).then(o=>e(o,a)).then(o=>a.hooks?a.hooks.postprocess(o):o).catch(i);try{a.hooks&&(t=a.hooks.preprocess(t));let o=n(t,a);a.hooks&&(o=a.hooks.processAllTokens(o)),a.walkTokens&&this.walkTokens(o,a.walkTokens);let u=e(o,a);return a.hooks&&(u=a.hooks.postprocess(u)),u}catch(o){return i(o)}}};const yt=new class{constructor(...n){var e,t,r;e=this,(t=Wt).has(e)?Io("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Je(this,"Hooks",Kt),Je(this,"Lexer",st),Je(this,"Parser",at),Je(this,"Renderer",Mn),Je(this,"TextRenderer",Ms),Je(this,"Tokenizer",Nn),Je(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),Je(this,"options",this.setOptions),Je(this,"parse",cs(this,Wt,os).call(this,st.lex,at.parse)),Je(this,"parseInline",cs(this,Wt,os).call(this,st.lexInline,at.parseInline)),this.use(...n)}lexer(n,e){return st.lex(n,e??this.defaults)}parser(n,e){return at.parse(n,e??this.defaults)}setOptions(n){return this.defaults={...this.defaults,...n},this}use(...n){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(t=>{const r={...t};if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const a=e.renderers[s.name];e.renderers[s.name]=a?function(...i){let o=s.renderer.apply(this,i);return o===!1&&(o=a.apply(this,i)),o}:s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=e[s.level];a?a.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),t.renderer){const s=this.defaults.renderer||new Mn(this.defaults);for(const a in t.renderer){if(!(a in s))throw new Error(`renderer '${a}' does not exist`);if(a==="options")continue;const i=a,o=t.renderer[i],u=s[i];s[i]=(...l)=>{let c=o.apply(s,l);return c===!1&&(c=u.apply(s,l)),c||""}}r.renderer=s}if(t.tokenizer){const s=this.defaults.tokenizer||new Nn(this.defaults);for(const a in t.tokenizer){if(!(a in s))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const i=a,o=t.tokenizer[i],u=s[i];s[i]=(...l)=>{let c=o.apply(s,l);return c===!1&&(c=u.apply(s,l)),c}}r.tokenizer=s}if(t.hooks){const s=this.defaults.hooks||new Kt;for(const a in t.hooks){if(!(a in s))throw new Error(`hook '${a}' does not exist`);if(a==="options")continue;const i=a,o=t.hooks[i],u=s[i];Kt.passThroughHooks.has(a)?s[i]=l=>{if(this.defaults.async)return Promise.resolve(o.call(s,l)).then(d=>u.call(s,d));const c=o.call(s,l);return u.call(s,c)}:s[i]=(...l)=>{let c=o.apply(s,l);return c===!1&&(c=u.apply(s,l)),c}}r.hooks=s}if(t.walkTokens){const s=this.defaults.walkTokens,a=t.walkTokens;r.walkTokens=function(i){let o=[];return o.push(a.call(this,i)),s&&(o=o.concat(s.call(this,i))),o}}this.defaults={...this.defaults,...r}}),this}walkTokens(n,e){var r,s;let t=[];for(const a of n)switch(t=t.concat(e.call(this,a)),a.type){case"table":{const i=a;for(const o of i.header)t=t.concat(this.walkTokens(o.tokens,e));for(const o of i.rows)for(const u of o)t=t.concat(this.walkTokens(u.tokens,e));break}case"list":{const i=a;t=t.concat(this.walkTokens(i.items,e));break}default:{const i=a;(s=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&s[i.type]?this.defaults.extensions.childTokens[i.type].forEach(o=>{const u=i[o].flat(1/0);t=t.concat(this.walkTokens(u,e))}):i.tokens&&(t=t.concat(this.walkTokens(i.tokens,e)))}}return t}};function Oe(n,e){return yt.parse(n,e)}Oe.options=Oe.setOptions=function(n){return yt.setOptions(n),Oe.defaults=yt.defaults,va(Oe.defaults),Oe},Oe.getDefaults=Bl,Oe.defaults=xt,Oe.use=function(...n){return yt.use(...n),Oe.defaults=yt.defaults,va(Oe.defaults),Oe},Oe.walkTokens=function(n,e){return yt.walkTokens(n,e)},Oe.parseInline=yt.parseInline,Oe.Parser=at,Oe.parser=at.parse,Oe.Renderer=Mn,Oe.TextRenderer=Ms,Oe.Lexer=st,Oe.lexer=st.lex,Oe.Tokenizer=Nn,Oe.Hooks=Kt,Oe.parse=Oe;const Oo=(n,e)=>{const{showCodeBlockCopyButton:t,markdownLinkTarget:r,syntaxHighlighter:s,htmlSanitizer:a}=e||{},i=Oe(n,{async:!1,breaks:!0});if(typeof i!="string")throw new Error("Markdown parsing failed");const o=document.createElement("div");return o.innerHTML=a?a(i):i,o.querySelectorAll("pre").forEach(u=>{const l=document.createElement("div");l.className="code-block";const c=u.querySelector("code");if(!c){const h=u.innerHTML;return l.innerHTML=a?a(h):h,void u.replaceWith(l)}let d;for(let h=0;h<c.classList.length;h++){const g=c.classList[h];if(g.startsWith("language-")){d=g.slice(9);break}}const p=document.createElement("pre"),m="<div>"+c.innerHTML+"</div>";if(p.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(m):m,d&&(p.setAttribute("data-language",d),s)){const h="<div>"+s.createHighlighter()(c.textContent||"",d)+"</div>";p.innerHTML=a?a(h):h,p.className="highlighter-dark"}(h=>{h.replaceChildren()})(l),l.appendChild(p),u.replaceWith(l)}),t!==!1&&o.querySelectorAll(".code-block").forEach(u=>{var p;if(!u.querySelector("pre")||(p=u.previousElementSibling)!=null&&p.classList.contains("nlux-comp-copyButton"))return;const l="Copy code block to clipboard",c=document.createElement("button");c.classList.add("nlux-comp-copyButton"),c.setAttribute("aria-label",l),c.setAttribute("title",l);const d=document.createElement("span");d.classList.add("icon-copy"),c.appendChild(d),u.appendChild(c)}),r!=="self"&&o.querySelectorAll("a").forEach(u=>{u.setAttribute("target","_blank")}),o.innerHTML},No="nlux-comp-message",Ra={received:"nlux-comp-chatItem--received",sent:"nlux-comp-chatItem--sent"},mu="nlux-comp-chatItem--bubblesLayout",hu="nlux-comp-chatItem--listLayout",gu=(n,e)=>{let t=!1;const{onComplete:r}=e||{},s=[],a=(e!=null&&e.skipStreamingAnimation?"timeout":"animationFrame")=="timeout"?d=>setTimeout(d,0):d=>requestAnimationFrame(d),i=document.createElement("div");i.classList.add("md-in-progress"),n.append(i);const o=()=>{for(;i.firstChild;){const d=i.firstChild;d instanceof HTMLElement&&xo(d),i.before(d)}},u=!(e!=null&&e.skipStreamingAnimation)&&(e!=null&&e.streamingAnimationSpeed)&&e.streamingAnimationSpeed>=0?e.streamingAnimationSpeed:e!=null&&e.skipStreamingAnimation?0:8,l={timeSinceLastProcessing:new Date().getTime(),currentMarkdown:"",previousHtml:void 0};let c=setInterval(()=>{const d=new Date().getTime(),p=(e==null?void 0:e.waitTimeBeforeStreamCompletion)!=="never";if(s.length===0&&p){const h=typeof(e==null?void 0:e.waitTimeBeforeStreamCompletion)=="number"?e.waitTimeBeforeStreamCompletion:2e3;return void((t||d-l.timeSinceLastProcessing>h)&&(t=!0,c&&(clearInterval(c),c=void 0),o(),i.remove(),r==null?void 0:r()))}l.timeSinceLastProcessing=d;const m=s.shift();m!==void 0&&typeof m=="string"&&a(()=>{const h=l.currentMarkdown+m,g=Oo(h,e).trim();if(typeof g!="string")return l.currentMarkdown=l.currentMarkdown.slice(0,-m.length),void $e("Markdown parsing failed");if(l.previousHtml&&g.length>l.previousHtml.length&&g.startsWith(l.previousHtml)){o();const f=g.slice(l.previousHtml.length).trim();i.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(f):f,l.currentMarkdown=m,l.previousHtml=void 0}else i.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(g):g,l.currentMarkdown=h,l.previousHtml=g})},u);return{next:d=>{if(t)$e("Stream is already complete. No more chunks can be added");else for(const p of d)s.push(p)},complete:()=>{s.push(`
`),t=!0},cancel:()=>{c&&(clearInterval(c),c=void 0),t=!0,i.remove()},error:()=>{t=!0}}},fu=function(n,e){const{uid:t,status:r,responseRenderer:s,markdownOptions:a,initialMarkdownMessage:i,markdownContainersController:o}=n,[u,l]=E.useState([]),c=E.useRef(null),d=E.useRef(null),p=E.useRef(null),m=E.useRef(null),[h,g]=E.useState();E.useEffect(()=>{c.current!==d.current&&(d.current=c.current,g(c.current||void 0))}),E.useEffect(()=>{if(h){const w=o.getStreamingDomElement(t);h.append(w)}},[h]),E.useEffect(()=>{m.current=w=>{l(b=>[...b,w])}},[l]),E.useEffect(()=>{const w=o.getStreamingDomElement(t);return p.current=gu(w,{syntaxHighlighter:a==null?void 0:a.syntaxHighlighter,htmlSanitizer:a==null?void 0:a.htmlSanitizer,markdownLinkTarget:a==null?void 0:a.markdownLinkTarget,showCodeBlockCopyButton:a==null?void 0:a.showCodeBlockCopyButton,skipStreamingAnimation:a==null?void 0:a.skipStreamingAnimation,streamingAnimationSpeed:a==null?void 0:a.streamingAnimationSpeed,waitTimeBeforeStreamCompletion:a==null?void 0:a.waitTimeBeforeStreamCompletion,onComplete:a==null?void 0:a.onStreamComplete}),i&&p.current.next(i),()=>{o.deleteStreamingDomElement(t)}},[]),E.useEffect(()=>()=>{d.current=null,p.current=null,m.current=null,g(void 0)},[]),E.useImperativeHandle(e,()=>({streamChunk:w=>{var b,y;m.current&&((b=m.current)==null||b.call(m,w)),typeof w=="string"&&((y=p.current)==null||y.next(w))},completeStream:()=>{var w;(w=p.current)==null||w.complete()},cancelStream:()=>{var w;(w=p.current)==null||w.cancel()}}),[]);const f=s||void 0;return k.jsxs("div",{className:`${No} ${as[r]} ${ss.received}`,children:[f&&k.jsx(f,{uid:t,status:r,containerRef:c,content:u,contentType:"text",serverResponse:[],dataTransferMode:"stream"}),!f&&k.jsx("div",{className:"nlux-markdownStream-root",ref:c})]})},Mo=(n,e)=>{if(!e||e==="Enter"){const t=n.key==="Enter"&&!n.nativeEvent.isComposing,r=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey;return t&&!r}return!!(e==="CommandEnter"&&n.key==="Enter"&&(n.getModifierState("Control")||n.getModifierState("Meta")))},bu=n=>{const{markdownOptions:e}=n,t=E.useRef(null),r=E.useMemo(()=>n.content?Oo(n.content,{syntaxHighlighter:e==null?void 0:e.syntaxHighlighter,htmlSanitizer:e==null?void 0:e.htmlSanitizer,markdownLinkTarget:e==null?void 0:e.markdownLinkTarget,showCodeBlockCopyButton:e==null?void 0:e.showCodeBlockCopyButton}):"",[n.content,e==null?void 0:e.markdownLinkTarget,e==null?void 0:e.syntaxHighlighter,e==null?void 0:e.htmlSanitizer,e==null?void 0:e.showCodeBlockCopyButton]);E.useEffect(()=>{t.current&&(e==null?void 0:e.showCodeBlockCopyButton)!==!1&&xo(t.current)},[r,t.current,e==null?void 0:e.showCodeBlockCopyButton]);const s=E.useMemo(()=>e!=null&&e.htmlSanitizer?e.htmlSanitizer(r):r,[r,e==null?void 0:e.htmlSanitizer]),a=E.useCallback(l=>{if(!n.canResubmit)return;const c=l.currentTarget.textContent;return c?Mo(l,n.submitShortcutKey)?(l.preventDefault(),void(n.onResubmit&&n.onResubmit(c))):void(l.key==="Escape"&&(l.preventDefault(),l.currentTarget.textContent=n.content,l.currentTarget.blur())):void 0},[n.canResubmit,n.onResubmit,n.content]),i=E.useCallback(l=>{n.canResubmit&&(l.preventDefault(),l.currentTarget.textContent=n.content,l.currentTarget.blur())},[n.canResubmit,n.content]),o=E.useCallback(l=>{if(!n.canResubmit)return;l.preventDefault();const c=document.createRange();c.selectNodeContents(l.currentTarget);const d=window.getSelection();d==null||d.removeAllRanges(),d==null||d.addRange(c)},[n.canResubmit]),u=n.canResubmit?"editable-markdown-container":"";return k.jsx(Do,{children:k.jsx("div",{className:"nlux-markdownStream-root"+(u?` ${u}`:""),children:k.jsx("div",{className:"nlux-markdown-container",ref:t,dangerouslySetInnerHTML:{__html:s},contentEditable:n.canResubmit,onKeyDown:a,onBlur:i,onFocus:o})})})};class Do extends E.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){$e("Markdown rendering error occurred. This could be due to a malformed markdown content, or it could be because the page requires an HTML sanitizer. Please check the error message for more details and consider configuring NLUX with a compatible sanitizer."),this.props.onMarkdownRenderingError&&this.props.onMarkdownRenderingError(e)}render(){return this.state.hasError?null:this.props.children}}const ls=n=>k.jsx(Do,{children:k.jsx(bu,{...n})}),Lo=n=>{const e=typeof n.avatar=="string",t=!e&&E.isValidElement(n.avatar);return k.jsxs("div",{className:"nlux-comp-avatar",children:[t&&n.avatar,!t&&e&&k.jsx("div",{className:"nlux-comp-avatarContainer",children:n.avatar&&k.jsx("div",{className:"nlux-comp-avatarPicture",style:{backgroundImage:`url("${encodeURI(n.avatar)}")`}})})]})},yu=function(n,e){var w,b,y,_,x,I,F,O;const t=E.useRef(null);E.useImperativeHandle(e,()=>({streamChunk:A=>setTimeout(()=>{var R;return(R=t==null?void 0:t.current)==null?void 0:R.streamChunk(A)}),completeStream:()=>setTimeout(()=>{var A;return(A=t==null?void 0:t.current)==null?void 0:A.completeStream()}),cancelStream:()=>{var A;return(A=t==null?void 0:t.current)==null?void 0:A.cancelStream()}}),[]);const r=n.contentType==="server-component",s=n.direction==="received",a=n.direction==="sent",i=n.dataTransferMode==="stream",o=n.isPartOfInitialSegment,u=E.useCallback(()=>{var A;return(A=n.onMarkdownStreamRendered)==null?void 0:A.call(n,n.uid)},[n.uid]);E.useEffect(()=>{var A;i||r||o||((A=n.onMarkdownStreamRendered)==null||A.call(n,n.uid))},[]);const l=function(A){const{uid:R,status:H,dataTransferMode:L,contentType:j,fetchedContent:B,streamedContent:Y,streamedServerResponse:ce,fetchedServerResponse:T,direction:P,messageOptions:M}=A;if((M==null?void 0:M.responseRenderer)!==void 0){if(L==="stream"){const q={uid:R,status:H,dataTransferMode:L,contentType:j,content:Y??[],serverResponse:ce??[]};return()=>{const V=M.responseRenderer;return k.jsx(V,{...q})}}const S=E.isValidElement(B),N={uid:R,status:"complete",dataTransferMode:L,contentType:j,content:B?S?[]:[B]:[],serverComponent:S?B:void 0,serverResponse:T?[T]:[]};return()=>{const q=M.responseRenderer;return k.jsx(q,{...N})}}if(P==="sent"){if(typeof B=="string"){const S=B;return()=>k.jsx(k.Fragment,{children:S})}return()=>""}if(typeof B=="string"){const S=B;return()=>k.jsx(ls,{messageUid:R,content:S,markdownOptions:{syntaxHighlighter:M==null?void 0:M.syntaxHighlighter,htmlSanitizer:M==null?void 0:M.htmlSanitizer,markdownLinkTarget:M==null?void 0:M.markdownLinkTarget,showCodeBlockCopyButton:M==null?void 0:M.showCodeBlockCopyButton,skipStreamingAnimation:M==null?void 0:M.skipStreamingAnimation}})}return E.isValidElement(B)?()=>k.jsx(k.Fragment,{children:B}):()=>""}(n),c=function(A){var R;return E.useCallback(()=>{var L,j,B;if(((L=A.messageOptions)==null?void 0:L.promptRenderer)===void 0)return k.jsx(ls,{messageUid:A.uid,content:A.fetchedContent,markdownOptions:{htmlSanitizer:(j=A.messageOptions)==null?void 0:j.htmlSanitizer},canResubmit:(B=A.messageOptions)==null?void 0:B.editableUserMessages,submitShortcutKey:A.submitShortcutKey,onResubmit:Y=>{A.onPromptResubmit&&A.onPromptResubmit(Y)}});const H=A.messageOptions.promptRenderer;return k.jsx(H,{uid:A.uid,prompt:A.fetchedContent,onResubmit:Y=>{A.onPromptResubmit&&A.onPromptResubmit(Y)}})},[(R=A.messageOptions)==null?void 0:R.promptRenderer,A.fetchedContent,A.uid])}(n),d=E.useMemo(()=>E.forwardRef(fu),[]),p=function(A){const R=E.useMemo(()=>k.jsxs("div",{className:"nlux-comp-chatItem-participantInfo",children:[A.avatar!==void 0&&k.jsx(Lo,{name:A.name,avatar:A.avatar}),k.jsx("span",{className:"nlux-comp-chatItem-participantName",children:A.name})]}),[A.avatar,A.name]);return()=>k.jsx(k.Fragment,{children:R})}(n),m=`nlux-comp-chatItem ${n.direction?Ra[n.direction]:Ra.received} ${n.layout==="bubbles"?mu:hu}`,h=n.status?as[n.status]:as.rendered,g=n.direction?ss[n.direction]:ss.received,f=`${No} ${h} ${g}`;return k.jsxs("div",{className:m,children:[k.jsx(p,{}),s&&i&&!r&&k.jsx(d,{uid:n.uid,status:n.status,ref:t,direction:n.direction,responseRenderer:(w=n.messageOptions)==null?void 0:w.responseRenderer,markdownContainersController:n.markdownContainersController,markdownOptions:{syntaxHighlighter:(b=n.messageOptions)==null?void 0:b.syntaxHighlighter,htmlSanitizer:(y=n.messageOptions)==null?void 0:y.htmlSanitizer,markdownLinkTarget:(_=n.messageOptions)==null?void 0:_.markdownLinkTarget,showCodeBlockCopyButton:(x=n.messageOptions)==null?void 0:x.showCodeBlockCopyButton,skipStreamingAnimation:(I=n.messageOptions)==null?void 0:I.skipStreamingAnimation,streamingAnimationSpeed:(F=n.messageOptions)==null?void 0:F.streamingAnimationSpeed,waitTimeBeforeStreamCompletion:(O=n.messageOptions)==null?void 0:O.waitTimeBeforeStreamCompletion,onStreamComplete:u}},"do-not-change"),s&&i&&r&&k.jsx("div",{className:f,children:n.fetchedContent}),s&&!i&&k.jsx("div",{className:f,children:k.jsx(l,{})}),a&&k.jsx("div",{className:f,children:k.jsx(c,{})})]})},Ia=n=>typeof n=="string"||typeof n=="number"||typeof n=="boolean"||n==null,fn=(n,e)=>{var t,r;return n==="assistant"?((t=e==null?void 0:e.assistant)==null?void 0:t.name)??"Assistant":n==="user"?((r=e==null?void 0:e.user)==null?void 0:r.name)??"User":""},bn=(n,e)=>{var t,r;return n==="assistant"?(t=e==null?void 0:e.assistant)==null?void 0:t.avatar:n==="user"?(r=e==null?void 0:e.user)==null?void 0:r.avatar:void 0},vu=function(n,e){const{chatSegment:t,containerRef:r}=n,[s,a]=E.useState(!1),i=E.useMemo(()=>new Map,[]),o=E.useMemo(()=>new Map,[]),u=E.useRef(new Map),l=E.useRef(new Map);((m,h,g,f)=>{E.useEffect(()=>{if(m.length===0)return f.clear(),h.current.clear(),void g.current.clear();const w=new Set(f.keys()),b=new Set(m.map(y=>y.uid));w.forEach(y=>{b.has(y)||f.delete(y)}),new Set(h.current.keys()).forEach(y=>{b.has(y)||(h.current.delete(y),g.current.delete(y))})},[m])})(t.items,u,l,i),E.useImperativeHandle(e,()=>({streamChunk:(m,h)=>{const g=i.get(m);if(g!=null&&g.current){const f=g.current.streamChunk;(o.get(m)??[]).forEach(w=>{f(w)}),o.delete(m),f(h)}else{const f=o.get(m)??[];o.set(m,[...f,h])}},completeStream:m=>{const h=i.get(m);h!=null&&h.current?(h.current.completeStream(),i.delete(m)):a(!0)},cancelStreams:()=>{o.clear(),i.forEach(m=>{var h;(h=m.current)==null||h.cancelStream()})}}),[]),E.useEffect(()=>{o.size>0&&o.forEach((m,h)=>{const g=i.get(h);g!=null&&g.current&&(m.forEach(f=>{var w;(w=g==null?void 0:g.current)==null||w.streamChunk(f)}),o.delete(h),s&&(g.current.completeStream(),a(!1)))})});const c=E.useMemo(()=>t.status!=="active"?null:k.jsx("div",{className:"nlux-chatSegment-loader-container",children:n.Loader}),[t.status,n.Loader]),d=E.useMemo(()=>E.forwardRef(yu),[]),p=E.useCallback(m=>{var h;(h=n.onMarkdownStreamRendered)==null||h.call(n,t.uid,m)},[]);return t.items.length===0?null:k.jsxs("div",{ref:r,className:Pl(t.status),children:[t.items.map(m=>Eu(n,d,t,m,i,l,u,p)),c]})},Eu=function(n,e,t,r,s,a,i,o){var p;const u=n.isInitialSegment;let l=s.get(r.uid);l||(l=E.createRef(),s.set(r.uid,l));let c=r.content,d="text";if(typeof c=="function"){const m=a.current.get(r.uid),h=i.current.get(r.uid);if(m&&h)c=h,d="server-component";else{i.current.delete(r.uid),a.current.delete(r.uid);try{const g=c;if(c=k.jsx(g,{}),!c||!E.isValidElement(c))throw new Error("Invalid React element returned from the AI chat content function.");d="server-component",i.current.set(r.uid,c),a.current.set(r.uid,g)}catch{return $e(`The type of the AI chat content is an invalid function.
If you're looking to render a React Server Components, please refer to docs.nlkit.com/nlux for more information.
`),null}}}if(r.participantRole==="user")return r.status!=="complete"?(Zt(`User chat item should be always be in complete state — Current status: ${r.status} — Segment UID: ${t.uid}`),null):Ia(c)?k.jsx(e,{ref:l,uid:r.uid,status:"complete",direction:"sent",contentType:d,dataTransferMode:"batch",fetchedContent:r.content,markdownContainersController:n.markdownContainersController,layout:n.layout,messageOptions:n.messageOptions,isPartOfInitialSegment:u,name:fn(r.participantRole,n.personaOptions),avatar:bn(r.participantRole,n.personaOptions),submitShortcutKey:n.submitShortcutKey,onPromptResubmit:m=>n.onPromptResubmit(n.chatSegment.uid,r.uid,m)},r.uid):(Zt(`User chat item should have primitive content (string, number, boolean, null) — Current content: ${JSON.stringify(c)} — Segment UID: ${t.uid}`),null);if(r.status==="complete")return r.dataTransferMode==="stream"?k.jsx(e,{ref:l,uid:r.uid,status:r.status,direction:"received",contentType:d,dataTransferMode:r.dataTransferMode,markdownContainersController:n.markdownContainersController,onMarkdownStreamRendered:o,streamedContent:c,streamedServerResponse:r.serverResponse,layout:n.layout,messageOptions:n.messageOptions,isPartOfInitialSegment:u,name:fn(r.participantRole,n.personaOptions),avatar:bn(r.participantRole,n.personaOptions)},r.uid):d!=="text"||Ia(c)||(p=n.messageOptions)!=null&&p.responseRenderer?k.jsx(e,{ref:l,uid:r.uid,status:"complete",direction:"received",contentType:d,dataTransferMode:r.dataTransferMode,markdownContainersController:n.markdownContainersController,onMarkdownStreamRendered:o,fetchedContent:c,fetchedServerResponse:r.serverResponse,layout:n.layout,messageOptions:n.messageOptions,isPartOfInitialSegment:u,name:fn(r.participantRole,n.personaOptions),avatar:bn(r.participantRole,n.personaOptions)},r.uid):($e(`When the type of the AI chat content is not primitive (object or array), a custom renderer must be provided — Current content: ${JSON.stringify(c)} — Segment UID: ${t.uid}`),null);if(r.status==="streaming"){const m=d==="server-component"&&E.isValidElement(c)?c:void 0;return k.jsx(e,{ref:l,uid:r.uid,status:"streaming",direction:"received",contentType:d,dataTransferMode:r.dataTransferMode,markdownContainersController:n.markdownContainersController,onMarkdownStreamRendered:o,fetchedContent:m,layout:n.layout,messageOptions:n.messageOptions,isPartOfInitialSegment:u,name:fn(r.participantRole,n.personaOptions),avatar:bn(r.participantRole,n.personaOptions)},r.uid)}},wu=function(n,e){const{segments:t,personaOptions:r,conversationOptions:s,onLastActiveSegmentChange:a}=n,i=E.createRef();(function(c,d,p){const m=E.useMemo(()=>{const g=c.length>0?c[c.length-1]:void 0;return(g==null?void 0:g.status)==="active"?g.uid:void 0},[c]),h=E.useRef(void 0);E.useEffect(()=>{if(!p)return;const g=h.current;if(m===(g==null?void 0:g.uid)&&d.current===(g==null?void 0:g.div))return;const f=m&&d.current?{uid:m,div:d.current}:void 0;(f||h.current)&&(p(f),h.current=f)})})(t,i,a);const o=function(c){const d=E.useMemo(()=>new Map,[]);return E.useEffect(()=>{if(c.length===0)return void d.clear();const p=new Set(d.keys()),m=new Set(c.map(h=>h.uid));p.forEach(h=>{m.has(h)||d.delete(h)})},[c]),{get:p=>{var m;return(m=d.get(p))==null?void 0:m.current},getRef:p=>d.get(p),set:(p,m)=>{d.set(p,m)},remove:p=>{d.delete(p)}}}(t),u=(c=>E.useMemo(()=>{return d=c==null?void 0:c.layout,d??"bubbles";var d},[c==null?void 0:c.layout]))(s);E.useImperativeHandle(e,()=>({streamChunk:(c,d,p)=>{const m=o.get(c);m==null||m.streamChunk(d,p)},completeStream:(c,d)=>{const p=o.get(c);p==null||p.completeStream(d)},cancelSegmentStreams:c=>{const d=o.get(c);d==null||d.cancelStreams()}}),[]);const l=E.useMemo(()=>E.forwardRef(vu),[]);return k.jsx("div",{className:"nlux-chatSegments-container",children:t.map((c,d)=>{const p=d===t.length-1,m=c.uid==="initial";let h=o.getRef(c.uid);return h||(h=E.createRef(),o.set(c.uid,h)),k.jsx(l,{ref:h,containerRef:p?i:void 0,markdownContainersController:n.markdownContainersController,chatSegment:c,isInitialSegment:m,layout:u,personaOptions:r,messageOptions:n.messageOptions,Loader:n.Loader,submitShortcutKey:n.submitShortcutKey,onPromptResubmit:n.onPromptResubmit,onMarkdownStreamRendered:n.onMarkdownStreamRendered},c.uid)})})},xu={typing:"nlux-composer--typing","submitting-prompt":"nlux-composer--submitting","submitting-conversation-starter":"nlux-composer--submitting",waiting:"nlux-composer--waiting"},ku=()=>k.jsx("div",{className:"nlux-comp-cancelIcon",children:k.jsx("div",{className:"nlux-comp-cancelIcon-container"})}),Su=()=>k.jsx("div",{className:"nlux-comp-sendIcon",children:k.jsx("div",{className:"nlux-comp-sendIcon-container"})}),Jn=["submitting-prompt","submitting-edit","submitting-conversation-starter","submitting-external-message"],_u=n=>{const e=`nlux-comp-composer ${xu[n.status]||""}`,t=Jn.includes(n.status),r=!n.hasValidInput||n.status==="waiting"||Jn.includes(n.status),s=n.status==="typing"||n.status==="waiting",a=n.hideStopButton!==!0&&(Jn.includes(n.status)||n.status==="waiting"),i=E.useRef(null);E.useEffect(()=>{n.status==="typing"&&n.autoFocus&&i.current&&i.current.focus()},[n.status,n.autoFocus,i.current]);const o=E.useMemo(()=>c=>{var d;(d=n.onChange)==null||d.call(n,c.target.value)},[n.onChange]),u=E.useMemo(()=>()=>{var c;(c=n.onSubmit)==null||c.call(n)},[n.onSubmit]),l=E.useMemo(()=>c=>{Mo(c,n.submitShortcut)&&(c.preventDefault(),u())},[u,n.submitShortcut]);return k.jsxs("div",{className:e,children:[k.jsx("textarea",{tabIndex:0,ref:i,disabled:t,placeholder:n.placeholder,value:n.prompt,onChange:o,onKeyDown:l}),!a&&k.jsxs("button",{tabIndex:0,disabled:r,onClick:()=>n.onSubmit(),children:[s&&k.jsx(Su,{}),!s&&n.Loader]}),a&&k.jsx("button",{tabIndex:0,onClick:n.onCancel,children:k.jsx(ku,{})})]})},us=n=>{var r;const e={},t=Object.keys(n);for(let s=0;s<t.length;s++){const a=t[s];a!=="personaOptions"&&a!=="messageOptions"&&a!=="adapter"&&a!=="events"&&Object.assign(e,{[a]:n[a]})}return n.personaOptions&&(e.personaOptions={},n.personaOptions.assistant&&(e.personaOptions.assistant={name:n.personaOptions.assistant.name,avatar:typeof n.personaOptions.assistant.avatar=="string"?n.personaOptions.assistant.avatar:"<REACT ELEMENT />",tagline:n.personaOptions.assistant.tagline}),n.personaOptions.user&&(e.personaOptions.user={name:n.personaOptions.user.name,avatar:typeof n.personaOptions.user.avatar=="string"?n.personaOptions.user.avatar:"<REACT ELEMENT />"})),n.messageOptions&&(e.messageOptions={...n.messageOptions,responseRenderer:n.messageOptions.responseRenderer?()=>null:void 0,promptRenderer:n.messageOptions.promptRenderer?()=>null:void 0}),(r=n.conversationOptions)!=null&&r.conversationStarters&&(e.conversationOptions={...n.conversationOptions,conversationStarters:n.conversationOptions.conversationStarters.map(s=>({...s,icon:s.icon?"<REACT ELEMENT />":void 0}))}),e};var Cu=Object.defineProperty,yn=(n,e,t)=>((r,s,a)=>s in r?Cu(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a)(n,typeof e!="symbol"?e+"":e,t);class Tu extends Error{constructor(e={}){super(e.message),yn(this,"exceptionId"),yn(this,"message"),yn(this,"source"),yn(this,"type"),this.message=e.message??"",this.source=e.source,this.type=this.constructor.name,this.exceptionId=e.exceptionId}}const Au=(n,e)=>{let t,r=e,s=n,a=!0;const i=((g,f)=>{let w=!1;if(typeof g!="function")throw new Tu({source:"x/throttle",message:"Callback must be a function"});return(...b)=>{w||(g.apply(void 0,b),w=!0,setTimeout(function(){w=!1},f))}})((g=>{let f,w;return b=>{const y=b.target;if(!(y instanceof HTMLElement))return;const{scrollTop:_,clientHeight:x,scrollHeight:I}=y,F=I-30,O=Math.ceil(_+x)>=F,A=f===void 0||w===void 0?void 0:_>f&&w===I?"down":_<f&&w===I?"up":void 0;w=I,f=_,g({scrolledToBottom:O,scrollDirection:A})}})(({scrolledToBottom:g,scrollDirection:f})=>{a?f==="up"&&(a=!1):f==="down"&&g&&(a=!0)}),50),o=g=>{g.addEventListener("scroll",i)},u=g=>{g==null||g.removeEventListener("scroll",i)},l=g=>{(t==null?void 0:t.uid)===g&&(c==null||c.disconnect(),d==null||d.disconnect(),t=void 0,c=void 0,d=void 0)};let c,d;const p=()=>{s==null||s.scrollTo({top:5e4,behavior:"instant"})},m=()=>{s&&r&&a&&p()},h=()=>{m()};return o(s),{updateConversationContainer:g=>{u(s),o(g),s=g},updateProps:({autoScroll:g})=>{r=g},handleNewChatSegmentAdded:(g,f)=>{t&&(c==null||c.disconnect(),d==null||d.disconnect()),t={uid:g,container:f},c=new ResizeObserver(m),c.observe(f),d=new MutationObserver(h),d.observe(f,{childList:!0,subtree:!0,characterData:!0}),r&&p()},handleChatSegmentRemoved:g=>l(g),handleChatSegmentComplete:g=>l(g),destroy:()=>{t&&(l(t.uid),t=void 0),u(s),s=void 0}}},Oa=!0,Dn=n=>{if(typeof n!="object"||n===null)return!1;const e=n;return(typeof e.streamText=="function"||typeof e.batchText=="function")&&["stream","batch"].includes(e.dataTransferMode)&&typeof e.id=="string"&&typeof e.info=="object"&&e.info!==null&&typeof e.preProcessAiBatchedMessage=="function"&&typeof e.preProcessAiStreamedChunk=="function"},Ue=(n,e=1)=>{setTimeout(()=>{n()},e)},Ru=(n,e,t,r,s,a,i,o,u)=>new Promise(l=>{const c=rt(),d=[],p=[];let m=!1,h=!1,g=!1;const f=Dn(t),w={next:b=>{if(h||g)return;let y,_;if(f){const x=b,I=t.preProcessAiStreamedChunk(x,r);I!=null&&(y=I,_=x,d.push(y),p.push(_))}else y=b,d.push(y);y!=null?(m||m||(m=!0,Ue(()=>{s.forEach(x=>{x({uid:c,status:"streaming",time:new Date,participantRole:"assistant",dataTransferMode:"stream"})})})),Ue(()=>{i.forEach(x=>{x({chunk:y,messageId:c,serverResponse:_})})})):$e("Adapter returned an undefined or null value from streamText. This chunk will be ignored.")},complete:()=>{h||g||(g=!0,Ue(()=>{const b={uid:c,status:"complete",content:d,contentType:"text",serverResponse:void 0,time:new Date,participantRole:"assistant",dataTransferMode:"stream"};a.forEach(y=>{y(b)}),l()}),Ue(()=>{const b={uid:n,status:"complete",items:[e,{uid:c,status:"complete",contentType:"text",content:d,serverResponse:p,time:new Date,participantRole:"assistant",dataTransferMode:"stream"}]};o.forEach(y=>{y(b)})}))},error:b=>{h||g||(h=!0,Ue(()=>{u.forEach(y=>{y("failed-to-stream-content",b)}),l()}))}};t.streamText(e.content,w,r)}),Iu=(n,e,t)=>{if(!n)return(()=>{const b=new Set,y=rt(),_={uid:y,status:"complete",items:[]};return Ue(()=>{b.forEach(x=>{x(_)}),b.clear()}),{segment:_,observable:{on:(x,I)=>{x==="complete"&&b.add(I)},removeListener:(x,I)=>{b.delete(I)},destroy:()=>{b.clear()},get segmentId(){return y}},dataTransferMode:"batch"}})();const r=e;if(r.streamText===void 0&&r.batchText===void 0&&r.streamServerComponent===void 0)return(b=>{const y=new Set,_=rt(),x={uid:_,status:"error",items:[]};return Ue(()=>{y.forEach(I=>I(b)),y.clear()}),{segment:x,dataTransferMode:"stream",observable:{on:(I,F)=>{I==="error"&&y.add(F)},removeListener:(I,F)=>{y.delete(F)},destroy:()=>{y.clear()},get segmentId(){return _}}}})("no-data-transfer-mode-supported");const s=rt(),a=(b=>({uid:rt(),time:new Date,status:"complete",participantRole:"user",content:b,contentType:"text"}))(n);let i,o,u,l,c,d,p=new Set,m=new Set,h=new Set;Ue(()=>{p!=null&&p.size&&(p.forEach(b=>{b(a)}),p.clear(),p=void 0)});const g=(b=>{const y=[],_=b,x=b;(_==null?void 0:_.streamText)===void 0&&(x==null?void 0:x.streamServerComponent)===void 0||y.push("stream"),(_==null?void 0:_.batchText)!==void 0&&y.push("batch");const I=Dn(b)?b:void 0,F=(I==null?void 0:I.dataTransferMode)??void 0,O=y.length===1?y[0]:"stream";return F??O})(e);(b=>"streamServerComponent"in b?"server-component":"text")(e)==="server-component"?(u=new Set,o=new Set,((b,y,_,x,I,F,O,A)=>new Promise((R,H)=>{try{const L=y.content,j=rt(),B="assistant",Y="streaming",ce=new Date,T="stream";let P,M;const S=()=>{Ue(()=>{F.forEach(V=>{P&&M&&V({...P,content:M,status:"complete"})})},20);const q={uid:b,status:"complete",items:[y,P]};Ue(()=>{O.forEach(V=>{V(q)}),R()},20)},N=()=>{A.forEach(q=>{q("failed-to-stream-server-component",new Error("Failed to load content"))})};M=_.streamServerComponent(L,x,{onServerComponentReceived:S,onError:N}),P={uid:j,content:M,contentType:"server-component",participantRole:B,status:Y,time:ce,dataTransferMode:T},Ue(()=>{I.forEach(q=>{q(P)})},10)}catch(L){$e(L);const j=L instanceof Error?L:typeof L=="string"?new Error(L):new Error("Unknown error");Ue(()=>{A.forEach(B=>B("failed-to-load-content",j))})}}))(s,a,e,t,o,u,m,h).finally(()=>{Ue(()=>w())})):g==="batch"?(i=new Set,(async(b,y,_,x,I,F,O)=>{try{const A=y.content,R=Dn(_)?_:void 0,H=R!==void 0,L=rt(),j="assistant",B="complete",Y=new Date,ce="batch";let T;if(H){const S=await R.batchText(A,x),N=R.preProcessAiBatchedMessage(S,x);N!=null&&(T={uid:L,content:N,contentType:"text",serverResponse:S,participantRole:j,status:B,time:Y,dataTransferMode:ce})}else T={uid:L,content:await _.batchText(A,x),contentType:"text",serverResponse:void 0,participantRole:j,status:B,time:Y,dataTransferMode:ce};if(!T)throw new Error("Response from adapter was undefined or cannot be processed");const P=T;Ue(()=>{I.forEach(S=>{S(P)})});const M={uid:b,status:"complete",items:[y,T]};Ue(()=>{F.forEach(S=>{S(M)})})}catch(A){$e(A);const R=A instanceof Error?A:typeof A=="string"?new Error(A):new Error("Unknown error");Ue(()=>{O.forEach(H=>H("failed-to-load-content",R))})}})(s,a,e,t,i,m,h).finally(()=>{Ue(()=>w())})):(l=new Set,c=new Set,d=new Set,Ru(s,a,e,t,l,c,d,m,h).finally(()=>{Ue(()=>w())}));const w=()=>{p==null||p.clear(),p=void 0,i==null||i.clear(),i=void 0,o==null||o.clear(),o=void 0,u==null||u.clear(),u=void 0,l==null||l.clear(),l=void 0,c==null||c.clear(),c=void 0,d==null||d.clear(),d=void 0,m==null||m.clear(),m=void 0,h==null||h.clear(),h=void 0};return{segment:{status:"active",uid:s,items:[]},dataTransferMode:g,observable:{get segmentId(){return s},on:(b,y)=>{b==="userMessageReceived"&&p?p.add(y):b==="aiMessageReceived"&&i?i.add(y):b==="aiServerComponentStreamStarted"&&o?o.add(y):b==="aiServerComponentStreamed"&&u?u.add(y):b==="aiMessageStreamStarted"&&l?l.add(y):b==="aiMessageStreamed"&&c?c.add(y):b==="aiChunkReceived"&&d?d.add(y):b==="complete"&&m?m.add(y):b==="error"&&h&&h.add(y)},removeListener:(b,y)=>{b!=="userMessageReceived"?b!=="aiMessageReceived"?b!=="aiMessageStreamStarted"?b!=="aiMessageStreamed"?b!=="aiChunkReceived"?b!=="complete"?b!=="error"||(h==null||h.delete(y)):m==null||m.delete(y):d==null||d.delete(y):c==null||c.delete(y):l==null||l.delete(y):i==null||i.delete(y):p==null||p.delete(y)},destroy:()=>w()}}},Ou={"data-transfer-mode-not-supported":"Requested data transfer mode is not supported","no-data-transfer-mode-supported":"Adapter does not support any valid data transfer modes","connection-error":"Connection error","invalid-credentials":"Invalid credentials","invalid-api-key":"Invalid API key","http-server-side-error":"HTTP server side error","http-client-side-error":"HTTP client side error","failed-to-load-content":"Failed to load content","failed-to-stream-content":"Failed to stream content","failed-to-stream-server-component":"Failed to stream server component","failed-to-render-content":"Failed to display content"},Nu=n=>{var y;const{aiChatProps:e,adapterToUse:t,prompt:r,composerOptions:s,showException:a,initialSegment:i,newSegments:o,cancelledSegmentIds:u,cancelledMessageIds:l,setChatSegments:c,setComposerStatus:d,setPrompt:p,conversationRef:m}=n,h=E.useMemo(()=>r.length>0,[r]),g=E.useRef(r);g.current=r;const f=E.useRef({newSegments:o,cancelledSegmentIds:u,cancelledMessageIds:l,setChatSegments:c,setComposerStatus:d,showException:a,setPrompt:p}),w=E.useRef({});E.useEffect(()=>{f.current={newSegments:o,cancelledSegmentIds:u,cancelledMessageIds:l,setChatSegments:c,setComposerStatus:d,showException:a,setPrompt:p}},[o,u,l,c,d,a,p]);const b=((_,x,I)=>E.useMemo(()=>{const F=(A=>{const R=[];return A.forEach(H=>{H.items.forEach(L=>{if(L.status==="complete"){if(L.participantRole==="assistant")R.push({role:"assistant",message:L.content});else if(L.participantRole==="user")return R.push({role:"user",message:L.content})}})}),R})(x),O=I==="max"||I===void 0?F:I>0?F.slice(-I):void 0;return{aiChatProps:us(_),conversationHistory:O}},[_,x,I]))(e,i?[i,...o]:o,(y=e.conversationOptions)==null?void 0:y.historyPayloadSize);return E.useEffect(()=>{w.current=e.events||{}},[e.events]),E.useCallback(()=>{if(!t)return void $e("No valid adapter was provided to AiChat component");if(!h||s!=null&&s.disableSubmitButton)return;d("submitting-prompt");const _=r,x=new Set,I=Dn(t)?t:t.streamServerComponent?{streamServerComponent:t.streamServerComponent}:{batchText:t.batchText,streamText:t.streamText},{segment:F,observable:O}=Iu(_,I,b);if(F.status==="error")return $e("Error occurred while submitting prompt"),a("Error occurred while submitting prompt"),d("typing"),void(g.current===""&&p(_));const A=R=>{const H=f.current.newSegments.map(L=>L.uid!==O.segmentId?L:{...L,items:[...L.items,{...R}]});f.current.setChatSegments(H)};O.on("userMessageReceived",R=>{var H,L;(H=f.current)!=null&&H.cancelledMessageIds.includes(R.uid)||(A(R),(L=w.current)!=null&&L.messageSent&&w.current.messageSent({uid:R.uid,message:R.content}))}),O.on("aiMessageStreamStarted",R=>{var H,L;(H=f.current)!=null&&H.cancelledMessageIds.includes(R.uid)||(A(R),f.current.setComposerStatus("waiting"),g.current===_&&f.current.setPrompt(""),x.add(R.uid),(L=w.current)!=null&&L.messageStreamStarted&&w.current.messageStreamStarted({uid:R.uid}))}),O.on("aiServerComponentStreamStarted",R=>{var H,L,j;(H=f.current)!=null&&H.cancelledMessageIds.includes(R.uid)||(A(R),f.current.setComposerStatus("waiting"),g.current===_&&f.current.setPrompt(""),x.add(R.uid),(L=w.current)!=null&&L.serverComponentStreamStarted&&((j=w.current)==null||j.serverComponentStreamStarted({uid:R.uid})))}),O.on("aiServerComponentStreamed",R=>{var H,L,j;(H=f.current)!=null&&H.cancelledMessageIds.includes(R.uid)||(L=w.current)!=null&&L.serverComponentRendered&&!f.current.cancelledMessageIds.includes(R.uid)&&((j=w.current)==null||j.serverComponentRendered({uid:R.uid}))}),O.on("aiMessageReceived",R=>{var L,j;if((L=f.current)!=null&&L.cancelledMessageIds.includes(R.uid))return;const H=f.current.newSegments.map(B=>B.uid!==O.segmentId?B:{...B,items:[...B.items,{...R}]});f.current.setChatSegments(H),(j=w.current)!=null&&j.messageReceived&&w.current.messageReceived({uid:R.uid,message:R.content})}),O.on("complete",R=>{var L;if((L=f.current)!=null&&L.cancelledMessageIds.includes(R.uid))return;f.current.setComposerStatus("typing");const H=f.current.newSegments.map(j=>j.uid!==O.segmentId?j:{...R});f.current.setChatSegments(H),g.current===_&&p(""),x.size>0&&(x.forEach(j=>{requestAnimationFrame(()=>{var B;(B=m.current)==null||B.completeStream(O.segmentId,j)})}),x.clear())}),O.on("aiChunkReceived",({messageId:R,chunk:H})=>{var L,j;(L=f.current)!=null&&L.cancelledMessageIds.includes(R)||((j=m.current)==null||j.streamChunk(F.uid,R,H))}),O.on("aiMessageStreamed",R=>{var H,L,j;(H=f.current)!=null&&H.cancelledMessageIds.includes(R.uid)||(L=w.current)!=null&&L.messageReceived&&((j=w.current)==null||j.messageReceived({uid:R.uid,message:R.content}))}),O.on("error",(R,H)=>{var B;const L=f.current.newSegments.filter(Y=>Y.uid!==F.uid),j=Ou[R];f.current.setChatSegments(L),f.current.setComposerStatus("typing"),f.current.showException(j),g.current===""&&p(_),(B=w.current)!=null&&B.error&&w.current.error({errorId:R,message:j,errorObject:H})}),f.current.setChatSegments([...f.current.newSegments,F])},[r,t,b,a,f,s==null?void 0:s.disableSubmitButton])},Po="nlux-comp-welcomeMessage",Bo=n=>k.jsxs("div",{className:Po,children:[k.jsx(Lo,{avatar:n.avatar,name:n.name}),k.jsx("div",{className:"nlux-comp-welcomeMessage-personaName",children:n.name}),n.message&&k.jsx("div",{className:"nlux-comp-welcomeMessage-text",children:n.message})]}),Na=({children:n})=>k.jsx("div",{className:Po,children:n}),Mu=()=>{const n=E.useMemo(()=>"data:image/png;base64,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",[]);return k.jsx(Bo,{avatar:n,name:""})},Du=n=>{const{onConversationStarterSelected:e}=n;return k.jsx("div",{className:"nlux-comp-conversationStarters",children:n.items.map((t,r)=>k.jsxs("button",{className:"nlux-comp-conversationStarter",onClick:()=>e(t),children:[k.jsx(Lu,{icon:t.icon}),k.jsx("span",{className:"nlux-comp-conversationStarter-prompt",children:t.label??t.prompt})]},r))})},Lu=({icon:n})=>n?typeof n=="string"?k.jsx("img",{src:n,width:16}):k.jsx("div",{className:"nlux-comp-conversationStarter-icon-container",children:n}):null,Pu=n=>{const{segments:e,personaOptions:t,conversationOptions:r,userDefinedGreeting:s}=n,a=E.useMemo(()=>e.some(d=>d.items.length>0),[e]),i=E.useMemo(()=>!s&&!a&&(t==null?void 0:t.assistant)===void 0&&(r==null?void 0:r.showWelcomeMessage)!==!1,[a,t==null?void 0:t.assistant,r==null?void 0:r.showWelcomeMessage,s]),o=E.useMemo(()=>!s&&!a&&(t==null?void 0:t.assistant)!==void 0&&(r==null?void 0:r.showWelcomeMessage)!==!1,[s,a,t==null?void 0:t.assistant,r==null?void 0:r.showWelcomeMessage]),u=E.useMemo(()=>!a&&(r==null?void 0:r.conversationStarters)&&(r==null?void 0:r.conversationStarters.length)>0,[a,r==null?void 0:r.conversationStarters]),l=E.useMemo(()=>s!==void 0&&(r==null?void 0:r.showWelcomeMessage)!==!1,[s]);E.useEffect(()=>{s&&(r==null?void 0:r.showWelcomeMessage)===!1&&Zt("Configuration conflict: The greeting UI override provided via <AiChatUI.Greeting> will not be shown because conversationOptions.showWelcomeMessage is set to false.")},[r==null?void 0:r.showWelcomeMessage,s]);const c=!(i||o||l||a);return k.jsxs(k.Fragment,{children:[i&&k.jsx(Mu,{}),o&&k.jsx(Bo,{name:t.assistant.name,avatar:t.assistant.avatar,message:t.assistant.tagline}),l&&k.jsx(Na,{children:s}),c&&k.jsx(Na,{children:null}),k.jsx("div",{className:"nlux-conversationStarters-container",children:u&&k.jsx(Du,{items:r.conversationStarters??[],onConversationStarterSelected:n.onConversationStarterSelected})})]})},Ma=()=>k.jsx("div",{className:"nlux-comp-messageLoader",children:k.jsx("div",{className:"nlux-comp-loaderContainer",children:k.jsx("span",{className:"spinning-loader"})})}),ds={Loader:n=>k.jsx(k.Fragment,{children:n.children}),Greeting:n=>k.jsx(k.Fragment,{children:n.children})},ps=E.createContext({}),zo=function(n){var ge,$,ve,De,Be;const{adapter:e,className:t,initialConversation:r,conversationOptions:s,composerOptions:a,displayOptions:i}=n,{themeId:o,colorScheme:u}=i??{},l=E.useRef(null),c=E.useRef(null),d=E.useRef(void 0),p=E.useRef(null),m=((C,W)=>{const[ae,K]=E.useState(),[Ee,le]=E.useState(),se=E.useRef(ae),Ce=E.useRef(W);return E.useEffect(()=>{const z=C.current||void 0;z!==Ee&&le(z)}),E.useEffect(()=>{Ee?se.current?se.current.updateConversationContainer(Ee):(se.current=Au(Ee,Ce.current??Oa),K(se.current)):se.current&&(se.current.destroy(),K(void 0),se.current=void 0)},[Ee]),E.useEffect(()=>{Ce.current=W,se.current&&se.current.updateProps({autoScroll:W??Oa})},[W]),ae})(c,s==null?void 0:s.autoScroll),h=E.useMemo(()=>p.current?Ll(p.current):void 0,[p.current]),g=(()=>{const C={},W=new Set;return E.useMemo(()=>({getStreamingDomElement:ae=>{if(W.has(ae)&&W.delete(ae),C[ae]===void 0){const K=document.createElement("div");K.setAttribute("nlux-message-id",ae),K.className="nlux-markdown-container",C[ae]=K}return C[ae]},deleteStreamingDomElement:ae=>{W.add(ae),setTimeout(()=>{W.forEach(K=>{C[K]&&(C[K].remove(),delete C[K])}),W.clear()},1e3)}}),[])})(),{PrimitivesContextProvider:f}=function(C){var K,Ee,le,se,Ce,z,ee,me,D;const[W,ae]=E.useState(C);return E.useEffect(()=>{ae(C)},[(K=C==null?void 0:C.messageOptions)==null?void 0:K.htmlSanitizer,(Ee=C==null?void 0:C.messageOptions)==null?void 0:Ee.syntaxHighlighter,(le=C==null?void 0:C.messageOptions)==null?void 0:le.markdownLinkTarget,(se=C==null?void 0:C.messageOptions)==null?void 0:se.showCodeBlockCopyButton,(Ce=C==null?void 0:C.messageOptions)==null?void 0:Ce.skipStreamingAnimation,(z=C==null?void 0:C.messageOptions)==null?void 0:z.streamingAnimationSpeed,(ee=C==null?void 0:C.messageOptions)==null?void 0:ee.waitTimeBeforeStreamCompletion,(me=C==null?void 0:C.messageOptions)==null?void 0:me.responseRenderer,(D=C==null?void 0:C.messageOptions)==null?void 0:D.promptRenderer]),{PrimitivesContextProvider:E.useMemo(()=>({children:G})=>k.jsx(ps.Provider,{value:W,children:G}),[W]),primitivesContext:ps}}({messageOptions:n.messageOptions}),[w,b]=E.useState(""),[y,_]=E.useState("typing"),[x,I]=E.useState(),[F,O]=E.useState([]),[A,R]=E.useState([]),[H,L]=E.useState([]),j=E.useMemo(()=>x?[x,...F]:F,[x,F]),B=E.useMemo(()=>(C=>{const W=C;if(typeof(W==null?void 0:W.create)=="function")return W.create();if(typeof(W==null?void 0:W.batchText)=="function"||typeof(W==null?void 0:W.streamText)=="function"||typeof(W==null?void 0:W.streamServerComponent)=="function")return C;$e("Unable to determine the type of the adapter! Missing batchText or streamText method.")})(e),[e]),Y=(C=>E.useMemo(()=>{const W={minWidth:"280px",minHeight:"280px"};return C!=null&&C.width&&(W.width=C.width),C!=null&&C.height&&(W.height=C.height),W},[C==null?void 0:C.width,C==null?void 0:C.height]))(i),ce=E.useMemo(()=>(C=>{const W=["nlux-AiChat-root"],ae=`nlux-theme-${C.themeId||"nova"}`;return W.push(ae),C.className&&W.push(C.className),W})({className:t,themeId:o}).join(" "),[t,o]),T=E.useMemo(()=>{var C;return u!=="auto"&&u?u:typeof globalThis!==void 0&&globalThis.matchMedia&&((C=globalThis.matchMedia("(prefers-color-scheme: dark)"))!=null&&C.matches)?"dark":"light"},[u]),P=E.useCallback(C=>h==null?void 0:h.displayException(C),[h]),M=function(C,W,ae,K,Ee,le,se,Ce){return E.useCallback(()=>{var ee;const z=C.length>0?C[C.length-1]:void 0;(z==null?void 0:z.status)==="active"&&(K(C.slice(0,-1)),Ee([...W,z.uid]),le([...ae,...z.items.map(me=>me.uid)]),(ee=se.current)==null||ee.cancelSegmentStreams(z.uid)),Ce("typing")},[C,W,ae,K,Ee,le,se,Ce])}(F,A,H,O,R,L,l,_),S=E.useCallback(C=>b(C),[b]),N=Nu({aiChatProps:n,adapterToUse:B,conversationRef:l,initialSegment:x,newSegments:F,cancelledMessageIds:H,cancelledSegmentIds:A,prompt:w,composerOptions:a,showException:P,setChatSegments:O,setComposerStatus:_,setPrompt:b}),q=((C,W,ae,K,Ee,le)=>E.useCallback((se,Ce,z)=>{if(se==="initial"&&C){const D=[];for(const oe of C.items){if(oe.uid===Ce)break;D.push(oe)}const G={...C,items:D};return W(G),K([]),Ee(z),void le("submitting-edit")}const ee=ae.findIndex(D=>D.uid===se),me=ae.slice(0,ee);K(me),Ee(z),le("submitting-edit")},[ae,K,C,W,Ee,le]))(x,I,F,O,b,_),V=E.useCallback((C,W)=>{var ae;(ae=n.events)!=null&&ae.messageRendered&&n.events.messageRendered({uid:W})},[]),te=E.useCallback(C=>{b(C.prompt),_("submitting-conversation-starter")},[b,_]),ne=((C,W)=>E.useCallback(ae=>{C&&ae&&(W.current=ae.uid,C.handleNewChatSegmentAdded(ae.uid,ae.div))},[C]))(m,d);E.useEffect(()=>{y!=="submitting-conversation-starter"&&y!=="submitting-external-message"&&y!=="submitting-edit"||N()},[y,N]),E.useEffect(()=>I(r?{uid:"initial",status:"complete",items:r.map((C,W)=>{if(C.role==="assistant"||C.role==="user")return C.role==="user"?typeof C.message!="string"?void $e(`Invalid message type for item at index ${W} in initial conversation: When role is "user", message must be a string`):{uid:rt(),time:new Date,status:"complete",participantRole:"user",content:C.message}:{uid:rt(),time:new Date,status:"complete",participantRole:"assistant",content:C.message,serverResponse:C.serverResponse,dataTransferMode:"batch"};$e(`Invalid role for item at index ${W} in initial conversation: Role must be "assistant" or "user"`)}).filter(C=>C!==void 0)}:void 0),[r]),E.useEffect(()=>{var C;x&&((C=c.current)==null||C.scrollTo({behavior:"smooth",top:5e4}))},[x]);const Z=E.useRef(void 0);E.useEffect(()=>{const C=n.api;Z.current=C,typeof(C==null?void 0:C.__setHost)=="function"?C.__setHost({sendMessage:W=>{b(W),_("submitting-external-message")},resetConversation:()=>{O([]),I(void 0)},cancelLastMessageRequest:M}):Zt(`API object passed was is not compatible with AiChat.
Only use API objects created by the useAiChatApi() hook.`)},[n.api,M,b,_,O,I]),E.useEffect(()=>()=>{var C;typeof((C=Z.current)==null?void 0:C.__unsetHost)=="function"&&(Z.current.__unsetHost(),Z.current=void 0)},[]),(C=>{E.useEffect(()=>{var ae;const W=(ae=C.events)==null?void 0:ae.ready;W&&W({aiChatProps:us(C)})},[])})(n),((C,W)=>{var Ee;const ae=E.useRef(),K=E.useRef();E.useEffect(()=>{ae.current=()=>{const le=[];return W.forEach(se=>{se.items&&se.items.length!==0&&se.items.forEach(Ce=>{Ce.status==="complete"&&(Ce.participantRole!=="assistant"?Ce.participantRole==="user"&&le.push({role:"user",message:Ce.content}):le.push({role:"assistant",message:Ce.content}))})}),le}},[W]),E.useEffect(()=>{var le;K.current=(le=C.events)==null?void 0:le.preDestroy},[(Ee=C.events)==null?void 0:Ee.preDestroy]),E.useEffect(()=>()=>{var se;const le=K.current;le&&(le({aiChatProps:us(C),conversationHistory:((se=ae.current)==null?void 0:se.call(ae))??[]}),ae.current=void 0)},[])})(n,j);const J=E.useMemo(()=>E.forwardRef(wu),[]),X=(C=>{const W=E.useMemo(()=>C.children?Array.isArray(C.children)?C.children:[C.children]:[],[C.children]);return{Loader:E.useMemo(()=>W.length===0?k.jsx(Ma,{}):W.find(ae=>ae.type===ds.Loader)||k.jsx(Ma,{}),[W]),Greeting:E.useMemo(()=>{if(W.length!==0)return W.find(ae=>ae.type===ds.Greeting)},[W])}})(n),ie=w.length>0,re=j.length===0?"nlux-chatRoom-starting":"nlux-chatRoom-active";return B?k.jsx(f,{children:k.jsxs("div",{className:ce,style:Y,"data-color-scheme":T,children:[k.jsx("div",{className:"nlux-comp-exceptionBox",ref:p}),k.jsxs("div",{className:`nlux-chatRoom-container ${re}`,children:[k.jsx("div",{className:"nlux-launchPad-container",children:k.jsx(Pu,{segments:j,onConversationStarterSelected:te,conversationOptions:s,personaOptions:n.personaOptions,userDefinedGreeting:X.Greeting})}),k.jsx("div",{className:"nlux-conversation-container",ref:c,children:k.jsx(J,{ref:l,segments:j,conversationOptions:n.conversationOptions,personaOptions:n.personaOptions,messageOptions:n.messageOptions,onLastActiveSegmentChange:ne,Loader:X.Loader,markdownContainersController:g,submitShortcutKey:(ge=n.composerOptions)==null?void 0:ge.submitShortcut,onPromptResubmit:q,onMarkdownStreamRendered:V})}),k.jsx("div",{className:"nlux-composer-container",children:k.jsx(_u,{status:y,prompt:w,hasValidInput:ie,placeholder:($=n.composerOptions)==null?void 0:$.placeholder,autoFocus:(ve=n.composerOptions)==null?void 0:ve.autoFocus,submitShortcut:(De=n.composerOptions)==null?void 0:De.submitShortcut,hideStopButton:(Be=n.composerOptions)==null?void 0:Be.hideStopButton,onChange:S,onSubmit:N,onCancel:M,Loader:X.Loader})})]})]})}):(Zt("AiChat: No valid adapter provided. The component will not render."),k.jsx(k.Fragment,{}))},Bu=()=>{const n=E.useRef(null),e=E.useRef(((t=()=>{})=>({composer:{send:r=>{throw new Error("AiChatApi is not connected to a host <AiChat /> component.")},cancel:()=>{throw new Error("AiChatApi is not connected to a host <AiChat /> component.")}},conversation:{reset:()=>{throw new Error("AiChatApi is not connected to a host <AiChat /> component.")}},__setHost:r=>{t(r)},__unsetHost:()=>{}}))());return e.current.composer.send=t=>{if(!n.current)throw new Error("AiChatApi is not connected to a host <AiChat /> component.");n.current.sendMessage(t)},e.current.composer.cancel=()=>{if(!n.current)throw new Error("AiChatApi is not connected to a host <AiChat /> component.");n.current.cancelLastMessageRequest()},e.current.conversation.reset=()=>{if(!n.current)throw new Error("AiChatApi is not connected to a host <AiChat /> component.");n.current.resetConversation()},e.current.__setHost=t=>{n.current=t},e.current.__unsetHost=()=>{n.current=null},e.current},Fo=({children:n})=>{const e=E.useMemo(()=>Math.random().toString(36).substring(7),[]),t=E.useContext(ps),r=Array.isArray(n)?n.join(""):n;return k.jsx(ls,{markdownOptions:t.messageOptions,content:r,messageUid:e})},zu=function(n,e){return E.useMemo(()=>({batchText:n}),e??[{}])},Fu=function(n,e){return E.useMemo(()=>({streamText:n}),e??[{}])},Uu=function(n,e){return{streamServerComponent:(t,r,s)=>()=>{const[a,i]=E.useState("idle"),[o,u]=E.useState(null);return E.useEffect(()=>{i("loading"),n.then(l=>{if(typeof l.default!="function"){const c="The module passed to useAsRscAdapter() as server component does not have a valid default export.";return $e(c),i("error"),void s.onError(new Error(c))}i("success"),u(()=>E.lazy(async()=>{let c,d;try{d=l.default({message:t,extras:r}),c=await Promise.resolve(d)}catch{$e(`An error occurred while rendering the React Server Component (RSC).
Please ensure that no server error has occurred.`),s.onError(new Error("Error while rendering RSC."))}return s.onServerComponentReceived(),c!==void 0&&E.isValidElement(c)?{default:()=>k.jsx(k.Fragment,{children:c})}:(s.onError(new Error("Unable to render RSC. The RSC adapter should return a valid React element.")),{default:()=>k.jsx(k.Fragment,{})})}))}).catch(l=>{$e(`The module passed to useAsRscAdapter() is not a valid ES module, or did not properly load! The first parameter passed to useAsRscAdapter() should be the result of a dynamic import() call [ without await or .then() ]. The module should also have a default export. Your bundler should be able to handle dynamic imports and ES modules.

Reference: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#dynamic_imports`),i("error"),s.onError(l)})},[]),a==="idle"||a==="loading"?null:a==="error"?($e("Error loading RSC"),k.jsx(k.Fragment,{children:"Error loading RSC"})):k.jsx(E.Suspense,{fallback:e||null,children:o&&k.jsx(o,{})})}}},$u=(n,e,t)=>{const r=E.useContext(n.ref),[s]=E.useState(()=>{let i;do i=Math.random().toString(36).substring(2,15);while(r.hasItem(i));return i}),a=E.useRef();E.useEffect(()=>(a.current=r.observeState(s,e,t),()=>{var i;(i=a.current)==null||i.discard(),a.current=void 0}),[]),E.useEffect(()=>{var i;(i=a.current)==null||i.setDescription(e)},[e]),E.useEffect(()=>{var i;(i=a.current)==null||i.setData(t)},[t])},Hu=(n,e,t,r)=>{const s=E.useContext(n.ref),[a]=E.useState(()=>{let o;do o=Math.random().toString(36).substring(2,15);while(s.hasTask(o));return o}),i=E.useRef();E.useEffect(()=>(i.current=s.registerTask(a,e,t,r),()=>{var o;(o=i.current)==null||o.discard(),i.current=void 0}),[]),E.useEffect(()=>{var o;(o=i.current)==null||o.setDescription(e)},[e]),E.useEffect(()=>{var o;(o=i.current)==null||o.setCallback(t)},[t]),E.useEffect(()=>{var o;(o=i.current)==null||o.setParamDescriptions(r??[])},[r])},ju=n=>{const e=ha(),t=E.createContext(e);return{Provider:r=>{const[s,a]=E.useState(),[i,o]=E.useState(),[u,l]=E.useState();E.useEffect(()=>{let d=!0;const p=ha().withAdapter(n).withDataSyncOptions({syncStrategy:"auto",contextSize:Dl["100k"]});return l(p),p.initialize(r.initialItems||{}).then(m=>{d&&(m.success?a(m.contextId):o(new Error(m.error)))}),()=>{d=!1,p.destroy()}},[]);const{children:c}=r;return i?r.errorComponent?k.jsx(r.errorComponent,{error:i.message}):k.jsxs("div",{children:[k.jsx("h1",{children:"Error initializing AI context"}),k.jsx("p",{children:i.message})]}):s&&u?k.jsx(t.Provider,{value:u,children:c}):r.loadingComponent?k.jsx(r.loadingComponent,{}):null},ref:t}},qu=function(n,e){return E.useEffect(n,function(t){const r=E.useRef(t),s=E.useRef(0);return qt(t,r.current)||(r.current=t,s.current+=1),E.useMemo(()=>r.current,[s.current])}(e))};var Uo={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Da=E.createContext&&E.createContext(Uo),Ku=["attr","size","title"];function Gu(n,e){if(n==null)return{};var t=Wu(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Wu(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Ln(){return Ln=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ln.apply(this,arguments)}function La(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Pn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?La(Object(t),!0).forEach(function(r){Yu(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):La(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Yu(n,e,t){return e=Zu(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Zu(n){var e=Qu(n,"string");return typeof e=="symbol"?e:e+""}function Qu(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $o(n){return n&&n.map((e,t)=>E.createElement(e.tag,Pn({key:t},e.attr),$o(e.child)))}function Xu(n){return e=>E.createElement(Vu,Ln({attr:Pn({},n.attr)},e),$o(n.child))}function Vu(n){var e=t=>{var{attr:r,size:s,title:a}=n,i=Gu(n,Ku),o=s||t.size||"1em",u;return t.className&&(u=t.className),n.className&&(u=(u?u+" ":"")+n.className),E.createElement("svg",Ln({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,i,{className:u,style:Pn(Pn({color:n.color||t.color},t.style),n.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&E.createElement("title",null,a),n.children)};return Da!==void 0?E.createElement(Da.Consumer,null,t=>e(t)):e(Uo)}function Ju(n){return Xu({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}var Ho=(n=>(n.Text="Text",n.ImageUrl="ImageUrl",n))(Ho||{}),jo=(n=>(n.SystemMessage="system",n.AIMessage="ai",n.HumanMessage="human",n))(jo||{}),qo=(n=>(n.Auto="Auto",n.Low="Low",n.High="High",n))(qo||{});async function Ko(n){const{files:e,message:t}=n;if(!e||!e.length)return t;{let r=await Promise.all(e.map(async s=>{const a=await ed(s,n.resizeOptions);if(!a)throw new Error("resize failed");const i=await td(a);if(!i)throw new Error("base64 failed");return["ImageUrl",i,null]}));return r.push(["Text",t,null]),r}}const ed=async(n,e)=>{const t=(e==null?void 0:e.maxSize)||256,r=document.createElement("canvas"),s=r.getContext("2d");if(!s)throw new Error("ctx is not available");r.width=t,r.height=t;const a=await createImageBitmap(n),{width:i,height:o}=a,u=Math.max(t/i,t/o),l=(t-i*u)/2,c=(t-o*u)/2;return s.drawImage(a,0,0,i,o,l,c,i*u,o*u),new Promise(d=>{r.toBlob(p=>{d(p)})})};async function td(n){return new Promise((e,t)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.readAsDataURL(n)})}async function nd(n,e){const t=n.getReader();let r;for(;!(r=await t.read()).done;)e(r.value)}function rd(n){let e,t,r,s=!1;return function(i){e===void 0?(e=i,t=0,r=-1):e=ad(e,i);const o=e.length;let u=0;for(;t<o;){s&&(e[t]===10&&(u=++t),s=!1);let l=-1;for(;t<o&&l===-1;++t)switch(e[t]){case 58:r===-1&&(r=t-u);break;case 13:s=!0;case 10:l=t;break}if(l===-1)break;n(e.subarray(u,l),r),u=t,r=-1}u===o?e=void 0:u!==0&&(e=e.subarray(u),t-=u)}}function sd(n,e,t){let r=Pa();const s=new TextDecoder;return function(i,o){if(i.length===0)t==null||t(r),r=Pa();else if(o>0){const u=s.decode(i.subarray(0,o)),l=o+(i[o+1]===32?2:1),c=s.decode(i.subarray(l));switch(u){case"data":r.data=r.data?r.data+(c||`
`):c||`
`;break;case"event":r.event=c;break;case"id":n(r.id=c);break;case"retry":const d=parseInt(c,10);isNaN(d)||e(r.retry=d);break}}}}function ad(n,e){const t=new Uint8Array(n.length+e.length);return t.set(n),t.set(e,n.length),t}function Pa(){return{data:"",event:"",id:"",retry:void 0}}var id=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const ms="text/event-stream",od=1e3,Ba="last-event-id";function cd(n,e){var{signal:t,headers:r,onopen:s,onmessage:a,onclose:i,onerror:o,openWhenHidden:u,fetch:l}=e,c=id(e,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((d,p)=>{const m=Object.assign({},r);m.accept||(m.accept=ms);let h;function g(){h.abort(),document.hidden||x()}u||document.addEventListener("visibilitychange",g);let f=od,w=0;function b(){document.removeEventListener("visibilitychange",g),window.clearTimeout(w),h.abort()}t==null||t.addEventListener("abort",()=>{b(),d()});const y=l??window.fetch,_=s??ld;async function x(){var I;h=new AbortController;try{const F=await y(n,Object.assign(Object.assign({},c),{headers:m,signal:h.signal}));await _(F),await nd(F.body,rd(sd(O=>{O?m[Ba]=O:delete m[Ba]},O=>{f=O},a))),i==null||i(),b(),d()}catch(F){if(!h.signal.aborted)try{const O=(I=o==null?void 0:o(F))!==null&&I!==void 0?I:f;window.clearTimeout(w),w=window.setTimeout(x,O)}catch(O){b(),p(O)}}}x()})}function ld(n){const e=n.headers.get("content-type");if(!(e!=null&&e.startsWith(ms)))throw new Error(`Expected content-type to be ${ms}, Actual: ${e}`)}const Go="https://api.dev.langdb.ai",Wo=async n=>{var t;const e={"Content-Type":"application/json"};if(n.publicId)e["X-PUBLIC-APPLICATION-ID"]=n.publicId;else{const r=await((t=n.getAccessToken)==null?void 0:t.call(n));if(!r)throw new Error("Failed to get the user token");e.Authorization=`Bearer ${r}`}return e};class er extends Error{}const ud=n=>{const{files:e,fileResizeOptions:t}=n,s=`${n.serverUrl||Go}/stream`,[a,i]=E.useState(n.threadId),[o,u]=E.useState(),{modelName:l,agentParams:c}=n;return{adapter:{streamText:async(p,m)=>{try{const h=await Wo(n),g=await Ko({files:e,message:p,resizeOptions:t}),f={model_name:l,parameters:c||{},user_id:n.userId||"",thread_id:a,message:g};await cd(s,{method:"POST",body:JSON.stringify(f),headers:h,credentials:"include",async onopen(w){if(w.ok&&w.headers.get("content-type")==="text/event-stream"){const b=w.headers.get("X-Thread-Id"),y=w.headers.get("X-Message-Id");if(u(y),i(b),n.responseCallback){const _=w==null?void 0:w.headers.get("x-trace-id");n.responseCallback({traceId:_,modelName:l,threadId:b,messageId:y})}if(!w.body)throw new er("No body found");return}else if(w.status>=400&&w.status<500&&w.status!==429){const b=await w.text();throw new er(b||`${w.status}: Failed to send message to the server`)}else return},onmessage(w){if(w.event)throw new er(w.data);m.next(w.data)},onclose(){},onerror(w){throw w}})}catch(h){const g=new Error(h.toString());n.responseCallback&&n.responseCallback({error:g,modelName:l}),m.error(g)}m.complete()}},threadId:a,messageId:o}},dd=n=>k.jsx("svg",{...n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"})}),pd=()=>k.jsxs("svg",{viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("circle",{cx:"100",cy:"100",r:"99.5",stroke:"#B0488C"}),k.jsxs("g",{clipPath:"url(#clip0_31_12)",children:[k.jsx("path",{d:"M87.6691 75.9199C88.563 75.9163 89.457 75.9128 90.378 75.9091C92.2639 75.9065 94.1498 75.9134 96.0357 75.9291C98.9224 75.9491 101.807 75.9292 104.694 75.9053C106.528 75.9078 108.362 75.9126 110.195 75.9199C111.059 75.9124 111.921 75.9048 112.81 75.897C119.46 75.9944 119.46 75.9944 121.75 78.2731C122.191 78.8959 122.631 79.5187 123.085 80.1604C123.454 80.531 123.454 80.531 123.83 80.9091C123.911 82.1028 123.941 83.3 123.95 84.4965C123.957 85.2614 123.964 86.0262 123.971 86.8143C123.974 87.6478 123.978 88.4815 123.981 89.3403C123.985 90.1927 123.99 91.0451 123.994 91.9233C124.001 93.7328 124.006 95.5423 124.009 97.3517C124.016 100.116 124.039 102.879 124.062 105.643C124.067 107.399 124.071 109.155 124.074 110.911C124.083 111.738 124.093 112.563 124.102 113.415C124.081 120.894 124.081 120.894 121.596 124.332C119.274 125.815 117.439 126.021 114.715 126.035C113.937 126.042 113.159 126.049 112.357 126.056C111.521 126.056 110.685 126.055 109.823 126.054C108.961 126.057 108.098 126.06 107.209 126.064C105.383 126.068 103.559 126.068 101.734 126.065C98.9428 126.062 96.1519 126.08 93.3604 126.099C91.5874 126.101 89.8145 126.101 88.0415 126.101C87.2067 126.107 86.372 126.115 85.5119 126.122C84.7316 126.117 83.9513 126.113 83.1474 126.107C82.4635 126.108 81.7796 126.109 81.075 126.109C78.7215 125.767 77.3408 124.983 75.4255 123.583C73.7766 121.097 73.7375 120.265 73.6961 117.362C73.6818 116.549 73.6676 115.737 73.6528 114.901C73.6465 114.023 73.6401 113.146 73.6337 112.242C73.6251 111.34 73.6166 110.438 73.6079 109.509C73.5938 107.6 73.5841 105.69 73.5783 103.781C73.5639 100.859 73.5177 97.9383 73.4707 95.0167C73.461 93.1626 73.4532 91.3085 73.4475 89.4543C73.4291 88.5801 73.4107 87.7058 73.3917 86.8049C73.4123 83.0474 73.445 80.866 75.6217 77.739C79.2026 75.469 83.5895 75.8841 87.6691 75.9199Z",fill:"#B0488C"}),k.jsx("path",{d:"M32.2341 37.4866C59.7575 37.4866 87.2809 37.4866 115.638 37.4866C115.638 42.9219 115.638 48.3572 115.638 53.9572C93.0298 53.9572 70.4213 53.9572 47.1277 53.9572C47.1277 64.5807 47.1277 75.2043 47.1277 86.1497C42.2128 86.1497 37.2979 86.1497 32.2341 86.1497C32.2341 70.0909 32.2341 54.0321 32.2341 37.4866Z",fill:"#B0488C"}),k.jsx("path",{d:"M32.2341 116.845C37.149 116.845 42.0639 116.845 47.1277 116.845C47.1277 127.221 47.1277 137.598 47.1277 148.289C71.7022 148.289 96.2766 148.289 121.596 148.289C121.596 153.23 121.596 158.171 121.596 163.262C92.1064 163.262 62.617 163.262 32.2341 163.262C32.2341 147.944 32.2341 132.627 32.2341 116.845Z",fill:"#B0488C"}),k.jsx("path",{d:"M161.814 34.6792C165.577 37.5618 167.934 41.1653 169.255 45.7219C170.002 51.7878 170.244 57.7758 166.678 63.0231C166.3 63.4902 165.921 63.9573 165.532 64.4385C164.964 65.1623 164.964 65.1623 164.386 65.9007C160.694 70.0863 156.304 72.2018 150.81 72.9575C144.443 73.235 139.791 71.2772 134.814 67.3864C130.268 63.0898 128.124 57.8507 127.879 51.6177C128.195 45.152 130.717 40.4865 135.049 35.7846C142.84 28.7908 153.315 29.3596 161.814 34.6792Z",fill:"#B0488C"}),k.jsx("path",{d:"M158.009 137.132C162.749 139.815 166.014 143.005 167.766 148.289C168.291 153.643 168.045 158.108 164.787 162.513C160.978 166.779 156.65 168.925 151.011 169.532C144.592 168.841 140.292 166.139 136.21 161.062C134.084 157.002 134.439 151.969 135 147.54C136.243 144.421 137.612 142.39 140.167 140.241C140.665 139.812 141.163 139.383 141.676 138.942C146.467 135.355 152.423 135.005 158.009 137.132Z",fill:"#B0488C"}),k.jsx("path",{d:"M149.894 85.4011C154.809 85.4011 159.723 85.4011 164.787 85.4011C164.787 96.0246 164.787 106.648 164.787 117.594C159.872 117.594 154.957 117.594 149.894 117.594C149.894 106.97 149.894 96.3465 149.894 85.4011Z",fill:"#B0488C"}),k.jsx("path",{d:"M40.3383 94.0136C43.3122 94.7142 44.8713 96.3632 46.6623 98.7366C47.3967 101.321 47.103 103.037 46.383 105.615C44.2412 107.919 42.6152 109.128 39.6343 110.107C36.957 110.107 35.8402 109.471 33.7234 107.861C33.2934 107.567 32.8633 107.274 32.4203 106.972C30.8391 104.667 30.4332 102.35 30.7447 99.6257C32.7702 95.2399 35.5991 93.6206 40.3383 94.0136Z",fill:"#B0488C"})]}),k.jsx("defs",{children:k.jsx("clipPath",{id:"clip0_31_12",children:k.jsx("rect",{width:"140",height:"140",fill:"white",transform:"translate(30 30)"})})})]}),md=({files:n})=>k.jsx(k.Fragment,{children:n.map((e,t)=>k.jsx("div",{className:"thumbnail m-2",children:k.jsx("div",{className:"thumbnailInner",children:k.jsx("img",{src:e.preview,alt:e.preview,className:"w-[150px]"})})},t))}),hd=({files:n,setFiles:e})=>{const t=r=>()=>{const s=n.filter(a=>a!==r);e(s)};return k.jsx("div",{className:"flex flex-col w-[100%]",children:k.jsx("aside",{className:"flex flex-wrap mt-4",children:n.map(r=>k.jsxs("div",{className:"relative m-2",children:[k.jsx("button",{onClick:t(r),className:"absolute top-0 right-0 p-1 bg-red-500 rounded-full text-white",children:k.jsx(dd,{className:"w-4 h-4"})}),k.jsx("div",{className:"border p-1 rounded-lg",children:k.jsx("img",{src:r.preview,alt:r.name,className:"w-12 h-12 object-cover rounded-lg"})})]},r.name))})})};function gd({title:n,titleId:e,...t},r){return Pe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?Pe.createElement("title",{id:e},n):null,Pe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const fd=Pe.forwardRef(gd);function bd({title:n,titleId:e,...t},r){return Pe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?Pe.createElement("title",{id:e},n):null,Pe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.498 15.25H4.372c-1.026 0-1.945-.694-2.054-1.715a12.137 12.137 0 0 1-.068-1.285c0-2.848.992-5.464 2.649-7.521C5.287 4.247 5.886 4 6.504 4h4.016a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23h1.294M7.498 15.25c.618 0 .991.724.725 1.282A7.471 7.471 0 0 0 7.5 19.75 2.25 2.25 0 0 0 9.75 22a.75.75 0 0 0 .75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 0 0 2.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384m-10.253 1.5H9.7m8.075-9.75c.01.05.027.1.05.148.593 1.2.925 2.55.925 3.977 0 1.487-.36 2.89-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398-.306.774-1.086 1.227-1.918 1.227h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 0 0 .303-.54"}))}const yd=Pe.forwardRef(bd);function vd({title:n,titleId:e,...t},r){return Pe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?Pe.createElement("title",{id:e},n):null,Pe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const Ed=Pe.forwardRef(vd);function wd({title:n,titleId:e,...t},r){return Pe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?Pe.createElement("title",{id:e},n):null,Pe.createElement("path",{d:"M15.73 5.5h1.035A7.465 7.465 0 0 1 18 9.625a7.465 7.465 0 0 1-1.235 4.125h-.148c-.806 0-1.534.446-2.031 1.08a9.04 9.04 0 0 1-2.861 2.4c-.723.384-1.35.956-1.653 1.715a4.499 4.499 0 0 0-.322 1.672v.633A.75.75 0 0 1 9 22a2.25 2.25 0 0 1-2.25-2.25c0-1.152.26-2.243.723-3.218.266-.558-.107-1.282-.725-1.282H3.622c-1.026 0-1.945-.694-2.054-1.715A12.137 12.137 0 0 1 1.5 12.25c0-2.848.992-5.464 2.649-7.521C4.537 4.247 5.136 4 5.754 4H9.77a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23ZM21.669 14.023c.536-1.362.831-2.845.831-4.398 0-1.22-.182-2.398-.52-3.507-.26-.85-1.084-1.368-1.973-1.368H19.1c-.445 0-.72.498-.523.898.591 1.2.924 2.55.924 3.977a8.958 8.958 0 0 1-1.302 4.666c-.245.403.028.959.5.959h1.053c.832 0 1.612-.453 1.918-1.227Z"}))}const xd=Pe.forwardRef(wd);function kd({title:n,titleId:e,...t},r){return Pe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?Pe.createElement("title",{id:e},n):null,Pe.createElement("path",{d:"M7.493 18.5c-.425 0-.82-.236-.975-.632A7.48 7.48 0 0 1 6 15.125c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75A.75.75 0 0 1 15 2a2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23h-.777ZM2.331 10.727a11.969 11.969 0 0 0-.831 4.398 12 12 0 0 0 .52 3.507C2.28 19.482 3.105 20 3.994 20H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 0 1-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227Z"}))}const Sd=Pe.forwardRef(kd);function Yo(n){return n instanceof Map?n.clear=n.delete=n.set=function(){throw new Error("map is read-only")}:n instanceof Set&&(n.add=n.clear=n.delete=function(){throw new Error("set is read-only")}),Object.freeze(n),Object.getOwnPropertyNames(n).forEach(e=>{const t=n[e],r=typeof t;(r==="object"||r==="function")&&!Object.isFrozen(t)&&Yo(t)}),n}class za{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Zo(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function lt(n,...e){const t=Object.create(null);for(const r in n)t[r]=n[r];return e.forEach(function(r){for(const s in r)t[s]=r[s]}),t}const _d="</span>",Fa=n=>!!n.scope,Cd=(n,{prefix:e})=>{if(n.startsWith("language:"))return n.replace("language:","language-");if(n.includes(".")){const t=n.split(".");return[`${e}${t.shift()}`,...t.map((r,s)=>`${r}${"_".repeat(s+1)}`)].join(" ")}return`${e}${n}`};class Td{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=Zo(e)}openNode(e){if(!Fa(e))return;const t=Cd(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){Fa(e)&&(this.buffer+=_d)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const Ua=(n={})=>{const e={children:[]};return Object.assign(e,n),e};class Ds{constructor(){this.rootNode=Ua(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=Ua({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return typeof t=="string"?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(r=>this._walk(e,r)),e.closeNode(t)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(t=>typeof t=="string")?e.children=[e.children.join("")]:e.children.forEach(t=>{Ds._collapse(t)}))}}class Ad extends Ds{constructor(e){super(),this.options=e}addText(e){e!==""&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const r=e.root;t&&(r.scope=`language:${t}`),this.add(r)}toHTML(){return new Td(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function Qt(n){return n?typeof n=="string"?n:n.source:null}function Qo(n){return kt("(?=",n,")")}function Rd(n){return kt("(?:",n,")*")}function Id(n){return kt("(?:",n,")?")}function kt(...n){return n.map(t=>Qt(t)).join("")}function Od(n){const e=n[n.length-1];return typeof e=="object"&&e.constructor===Object?(n.splice(n.length-1,1),e):{}}function Ls(...n){return"("+(Od(n).capture?"":"?:")+n.map(r=>Qt(r)).join("|")+")"}function Xo(n){return new RegExp(n.toString()+"|").exec("").length-1}function Nd(n,e){const t=n&&n.exec(e);return t&&t.index===0}const Md=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Ps(n,{joinWith:e}){let t=0;return n.map(r=>{t+=1;const s=t;let a=Qt(r),i="";for(;a.length>0;){const o=Md.exec(a);if(!o){i+=a;break}i+=a.substring(0,o.index),a=a.substring(o.index+o[0].length),o[0][0]==="\\"&&o[1]?i+="\\"+String(Number(o[1])+s):(i+=o[0],o[0]==="("&&t++)}return i}).map(r=>`(${r})`).join(e)}const Dd=/\b\B/,Vo="[a-zA-Z]\\w*",Bs="[a-zA-Z_]\\w*",Jo="\\b\\d+(\\.\\d+)?",ec="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",tc="\\b(0b[01]+)",Ld="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Pd=(n={})=>{const e=/^#![ ]*\//;return n.binary&&(n.begin=kt(e,/.*\b/,n.binary,/\b.*/)),lt({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(t,r)=>{t.index!==0&&r.ignoreMatch()}},n)},Xt={begin:"\\\\[\\s\\S]",relevance:0},Bd={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Xt]},zd={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Xt]},Fd={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},jn=function(n,e,t={}){const r=lt({scope:"comment",begin:n,end:e,contains:[]},t);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const s=Ls("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:kt(/[ ]+/,"(",s,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},Ud=jn("//","$"),$d=jn("/\\*","\\*/"),Hd=jn("#","$"),jd={scope:"number",begin:Jo,relevance:0},qd={scope:"number",begin:ec,relevance:0},Kd={scope:"number",begin:tc,relevance:0},Gd={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Xt,{begin:/\[/,end:/\]/,relevance:0,contains:[Xt]}]},Wd={scope:"title",begin:Vo,relevance:0},Yd={scope:"title",begin:Bs,relevance:0},Zd={begin:"\\.\\s*"+Bs,relevance:0},Qd=function(n){return Object.assign(n,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})};var vn=Object.freeze({__proto__:null,APOS_STRING_MODE:Bd,BACKSLASH_ESCAPE:Xt,BINARY_NUMBER_MODE:Kd,BINARY_NUMBER_RE:tc,COMMENT:jn,C_BLOCK_COMMENT_MODE:$d,C_LINE_COMMENT_MODE:Ud,C_NUMBER_MODE:qd,C_NUMBER_RE:ec,END_SAME_AS_BEGIN:Qd,HASH_COMMENT_MODE:Hd,IDENT_RE:Vo,MATCH_NOTHING_RE:Dd,METHOD_GUARD:Zd,NUMBER_MODE:jd,NUMBER_RE:Jo,PHRASAL_WORDS_MODE:Fd,QUOTE_STRING_MODE:zd,REGEXP_MODE:Gd,RE_STARTERS_RE:Ld,SHEBANG:Pd,TITLE_MODE:Wd,UNDERSCORE_IDENT_RE:Bs,UNDERSCORE_TITLE_MODE:Yd});function Xd(n,e){n.input[n.index-1]==="."&&e.ignoreMatch()}function Vd(n,e){n.className!==void 0&&(n.scope=n.className,delete n.className)}function Jd(n,e){e&&n.beginKeywords&&(n.begin="\\b("+n.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",n.__beforeBegin=Xd,n.keywords=n.keywords||n.beginKeywords,delete n.beginKeywords,n.relevance===void 0&&(n.relevance=0))}function ep(n,e){Array.isArray(n.illegal)&&(n.illegal=Ls(...n.illegal))}function tp(n,e){if(n.match){if(n.begin||n.end)throw new Error("begin & end are not supported with match");n.begin=n.match,delete n.match}}function np(n,e){n.relevance===void 0&&(n.relevance=1)}const rp=(n,e)=>{if(!n.beforeMatch)return;if(n.starts)throw new Error("beforeMatch cannot be used with starts");const t=Object.assign({},n);Object.keys(n).forEach(r=>{delete n[r]}),n.keywords=t.keywords,n.begin=kt(t.beforeMatch,Qo(t.begin)),n.starts={relevance:0,contains:[Object.assign(t,{endsParent:!0})]},n.relevance=0,delete t.beforeMatch},sp=["of","and","for","in","not","or","if","then","parent","list","value"],ap="keyword";function nc(n,e,t=ap){const r=Object.create(null);return typeof n=="string"?s(t,n.split(" ")):Array.isArray(n)?s(t,n):Object.keys(n).forEach(function(a){Object.assign(r,nc(n[a],e,a))}),r;function s(a,i){e&&(i=i.map(o=>o.toLowerCase())),i.forEach(function(o){const u=o.split("|");r[u[0]]=[a,ip(u[0],u[1])]})}}function ip(n,e){return e?Number(e):op(n)?0:1}function op(n){return sp.includes(n.toLowerCase())}const $a={},Et=n=>{console.error(n)},Ha=(n,...e)=>{console.log(`WARN: ${n}`,...e)},_t=(n,e)=>{$a[`${n}/${e}`]||(console.log(`Deprecated as of ${n}. ${e}`),$a[`${n}/${e}`]=!0)},Bn=new Error;function rc(n,e,{key:t}){let r=0;const s=n[t],a={},i={};for(let o=1;o<=e.length;o++)i[o+r]=s[o],a[o+r]=!0,r+=Xo(e[o-1]);n[t]=i,n[t]._emit=a,n[t]._multi=!0}function cp(n){if(Array.isArray(n.begin)){if(n.skip||n.excludeBegin||n.returnBegin)throw Et("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Bn;if(typeof n.beginScope!="object"||n.beginScope===null)throw Et("beginScope must be object"),Bn;rc(n,n.begin,{key:"beginScope"}),n.begin=Ps(n.begin,{joinWith:""})}}function lp(n){if(Array.isArray(n.end)){if(n.skip||n.excludeEnd||n.returnEnd)throw Et("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Bn;if(typeof n.endScope!="object"||n.endScope===null)throw Et("endScope must be object"),Bn;rc(n,n.end,{key:"endScope"}),n.end=Ps(n.end,{joinWith:""})}}function up(n){n.scope&&typeof n.scope=="object"&&n.scope!==null&&(n.beginScope=n.scope,delete n.scope)}function dp(n){up(n),typeof n.beginScope=="string"&&(n.beginScope={_wrap:n.beginScope}),typeof n.endScope=="string"&&(n.endScope={_wrap:n.endScope}),cp(n),lp(n)}function pp(n){function e(i,o){return new RegExp(Qt(i),"m"+(n.case_insensitive?"i":"")+(n.unicodeRegex?"u":"")+(o?"g":""))}class t{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(o,u){u.position=this.position++,this.matchIndexes[this.matchAt]=u,this.regexes.push([u,o]),this.matchAt+=Xo(o)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const o=this.regexes.map(u=>u[1]);this.matcherRe=e(Ps(o,{joinWith:"|"}),!0),this.lastIndex=0}exec(o){this.matcherRe.lastIndex=this.lastIndex;const u=this.matcherRe.exec(o);if(!u)return null;const l=u.findIndex((d,p)=>p>0&&d!==void 0),c=this.matchIndexes[l];return u.splice(0,l),Object.assign(u,c)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(o){if(this.multiRegexes[o])return this.multiRegexes[o];const u=new t;return this.rules.slice(o).forEach(([l,c])=>u.addRule(l,c)),u.compile(),this.multiRegexes[o]=u,u}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(o,u){this.rules.push([o,u]),u.type==="begin"&&this.count++}exec(o){const u=this.getMatcher(this.regexIndex);u.lastIndex=this.lastIndex;let l=u.exec(o);if(this.resumingScanAtSamePosition()&&!(l&&l.index===this.lastIndex)){const c=this.getMatcher(0);c.lastIndex=this.lastIndex+1,l=c.exec(o)}return l&&(this.regexIndex+=l.position+1,this.regexIndex===this.count&&this.considerAll()),l}}function s(i){const o=new r;return i.contains.forEach(u=>o.addRule(u.begin,{rule:u,type:"begin"})),i.terminatorEnd&&o.addRule(i.terminatorEnd,{type:"end"}),i.illegal&&o.addRule(i.illegal,{type:"illegal"}),o}function a(i,o){const u=i;if(i.isCompiled)return u;[Vd,tp,dp,rp].forEach(c=>c(i,o)),n.compilerExtensions.forEach(c=>c(i,o)),i.__beforeBegin=null,[Jd,ep,np].forEach(c=>c(i,o)),i.isCompiled=!0;let l=null;return typeof i.keywords=="object"&&i.keywords.$pattern&&(i.keywords=Object.assign({},i.keywords),l=i.keywords.$pattern,delete i.keywords.$pattern),l=l||/\w+/,i.keywords&&(i.keywords=nc(i.keywords,n.case_insensitive)),u.keywordPatternRe=e(l,!0),o&&(i.begin||(i.begin=/\B|\b/),u.beginRe=e(u.begin),!i.end&&!i.endsWithParent&&(i.end=/\B|\b/),i.end&&(u.endRe=e(u.end)),u.terminatorEnd=Qt(u.end)||"",i.endsWithParent&&o.terminatorEnd&&(u.terminatorEnd+=(i.end?"|":"")+o.terminatorEnd)),i.illegal&&(u.illegalRe=e(i.illegal)),i.contains||(i.contains=[]),i.contains=[].concat(...i.contains.map(function(c){return mp(c==="self"?i:c)})),i.contains.forEach(function(c){a(c,u)}),i.starts&&a(i.starts,o),u.matcher=s(u),u}if(n.compilerExtensions||(n.compilerExtensions=[]),n.contains&&n.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return n.classNameAliases=lt(n.classNameAliases||{}),a(n)}function sc(n){return n?n.endsWithParent||sc(n.starts):!1}function mp(n){return n.variants&&!n.cachedVariants&&(n.cachedVariants=n.variants.map(function(e){return lt(n,{variants:null},e)})),n.cachedVariants?n.cachedVariants:sc(n)?lt(n,{starts:n.starts?lt(n.starts):null}):Object.isFrozen(n)?lt(n):n}var hp="11.10.0";class gp extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const tr=Zo,ja=lt,qa=Symbol("nomatch"),fp=7,ac=function(n){const e=Object.create(null),t=Object.create(null),r=[];let s=!0;const a="Could not find the language '{}', did you forget to load/include a language module?",i={disableAutodetect:!0,name:"Plain text",contains:[]};let o={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Ad};function u(T){return o.noHighlightRe.test(T)}function l(T){let P=T.className+" ";P+=T.parentNode?T.parentNode.className:"";const M=o.languageDetectRe.exec(P);if(M){const S=A(M[1]);return S||(Ha(a.replace("{}",M[1])),Ha("Falling back to no-highlight mode for this block.",T)),S?M[1]:"no-highlight"}return P.split(/\s+/).find(S=>u(S)||A(S))}function c(T,P,M){let S="",N="";typeof P=="object"?(S=T,M=P.ignoreIllegals,N=P.language):(_t("10.7.0","highlight(lang, code, ...args) has been deprecated."),_t("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),N=T,S=P),M===void 0&&(M=!0);const q={code:S,language:N};Y("before:highlight",q);const V=q.result?q.result:d(q.language,q.code,M);return V.code=q.code,Y("after:highlight",V),V}function d(T,P,M,S){const N=Object.create(null);function q(D,G){return D.keywords[G]}function V(){if(!K.keywords){le.addText(se);return}let D=0;K.keywordPatternRe.lastIndex=0;let G=K.keywordPatternRe.exec(se),oe="";for(;G;){oe+=se.substring(D,G.index);const pe=C.case_insensitive?G[0].toLowerCase():G[0],Re=q(K,pe);if(Re){const[ze,nt]=Re;if(le.addText(oe),oe="",N[pe]=(N[pe]||0)+1,N[pe]<=fp&&(Ce+=nt),ze.startsWith("_"))oe+=G[0];else{const Qe=C.classNameAliases[ze]||ze;Z(G[0],Qe)}}else oe+=G[0];D=K.keywordPatternRe.lastIndex,G=K.keywordPatternRe.exec(se)}oe+=se.substring(D),le.addText(oe)}function te(){if(se==="")return;let D=null;if(typeof K.subLanguage=="string"){if(!e[K.subLanguage]){le.addText(se);return}D=d(K.subLanguage,se,!0,Ee[K.subLanguage]),Ee[K.subLanguage]=D._top}else D=m(se,K.subLanguage.length?K.subLanguage:null);K.relevance>0&&(Ce+=D.relevance),le.__addSublanguage(D._emitter,D.language)}function ne(){K.subLanguage!=null?te():V(),se=""}function Z(D,G){D!==""&&(le.startScope(G),le.addText(D),le.endScope())}function J(D,G){let oe=1;const pe=G.length-1;for(;oe<=pe;){if(!D._emit[oe]){oe++;continue}const Re=C.classNameAliases[D[oe]]||D[oe],ze=G[oe];Re?Z(ze,Re):(se=ze,V(),se=""),oe++}}function X(D,G){return D.scope&&typeof D.scope=="string"&&le.openNode(C.classNameAliases[D.scope]||D.scope),D.beginScope&&(D.beginScope._wrap?(Z(se,C.classNameAliases[D.beginScope._wrap]||D.beginScope._wrap),se=""):D.beginScope._multi&&(J(D.beginScope,G),se="")),K=Object.create(D,{parent:{value:K}}),K}function ie(D,G,oe){let pe=Nd(D.endRe,oe);if(pe){if(D["on:end"]){const Re=new za(D);D["on:end"](G,Re),Re.isMatchIgnored&&(pe=!1)}if(pe){for(;D.endsParent&&D.parent;)D=D.parent;return D}}if(D.endsWithParent)return ie(D.parent,G,oe)}function re(D){return K.matcher.regexIndex===0?(se+=D[0],1):(me=!0,0)}function ge(D){const G=D[0],oe=D.rule,pe=new za(oe),Re=[oe.__beforeBegin,oe["on:begin"]];for(const ze of Re)if(ze&&(ze(D,pe),pe.isMatchIgnored))return re(G);return oe.skip?se+=G:(oe.excludeBegin&&(se+=G),ne(),!oe.returnBegin&&!oe.excludeBegin&&(se=G)),X(oe,D),oe.returnBegin?0:G.length}function $(D){const G=D[0],oe=P.substring(D.index),pe=ie(K,D,oe);if(!pe)return qa;const Re=K;K.endScope&&K.endScope._wrap?(ne(),Z(G,K.endScope._wrap)):K.endScope&&K.endScope._multi?(ne(),J(K.endScope,D)):Re.skip?se+=G:(Re.returnEnd||Re.excludeEnd||(se+=G),ne(),Re.excludeEnd&&(se=G));do K.scope&&le.closeNode(),!K.skip&&!K.subLanguage&&(Ce+=K.relevance),K=K.parent;while(K!==pe.parent);return pe.starts&&X(pe.starts,D),Re.returnEnd?0:G.length}function ve(){const D=[];for(let G=K;G!==C;G=G.parent)G.scope&&D.unshift(G.scope);D.forEach(G=>le.openNode(G))}let De={};function Be(D,G){const oe=G&&G[0];if(se+=D,oe==null)return ne(),0;if(De.type==="begin"&&G.type==="end"&&De.index===G.index&&oe===""){if(se+=P.slice(G.index,G.index+1),!s){const pe=new Error(`0 width match regex (${T})`);throw pe.languageName=T,pe.badRule=De.rule,pe}return 1}if(De=G,G.type==="begin")return ge(G);if(G.type==="illegal"&&!M){const pe=new Error('Illegal lexeme "'+oe+'" for mode "'+(K.scope||"<unnamed>")+'"');throw pe.mode=K,pe}else if(G.type==="end"){const pe=$(G);if(pe!==qa)return pe}if(G.type==="illegal"&&oe==="")return 1;if(ee>1e5&&ee>G.index*3)throw new Error("potential infinite loop, way more iterations than matches");return se+=oe,oe.length}const C=A(T);if(!C)throw Et(a.replace("{}",T)),new Error('Unknown language: "'+T+'"');const W=pp(C);let ae="",K=S||W;const Ee={},le=new o.__emitter(o);ve();let se="",Ce=0,z=0,ee=0,me=!1;try{if(C.__emitTokens)C.__emitTokens(P,le);else{for(K.matcher.considerAll();;){ee++,me?me=!1:K.matcher.considerAll(),K.matcher.lastIndex=z;const D=K.matcher.exec(P);if(!D)break;const G=P.substring(z,D.index),oe=Be(G,D);z=D.index+oe}Be(P.substring(z))}return le.finalize(),ae=le.toHTML(),{language:T,value:ae,relevance:Ce,illegal:!1,_emitter:le,_top:K}}catch(D){if(D.message&&D.message.includes("Illegal"))return{language:T,value:tr(P),illegal:!0,relevance:0,_illegalBy:{message:D.message,index:z,context:P.slice(z-100,z+100),mode:D.mode,resultSoFar:ae},_emitter:le};if(s)return{language:T,value:tr(P),illegal:!1,relevance:0,errorRaised:D,_emitter:le,_top:K};throw D}}function p(T){const P={value:tr(T),illegal:!1,relevance:0,_top:i,_emitter:new o.__emitter(o)};return P._emitter.addText(T),P}function m(T,P){P=P||o.languages||Object.keys(e);const M=p(T),S=P.filter(A).filter(H).map(ne=>d(ne,T,!1));S.unshift(M);const N=S.sort((ne,Z)=>{if(ne.relevance!==Z.relevance)return Z.relevance-ne.relevance;if(ne.language&&Z.language){if(A(ne.language).supersetOf===Z.language)return 1;if(A(Z.language).supersetOf===ne.language)return-1}return 0}),[q,V]=N,te=q;return te.secondBest=V,te}function h(T,P,M){const S=P&&t[P]||M;T.classList.add("hljs"),T.classList.add(`language-${S}`)}function g(T){let P=null;const M=l(T);if(u(M))return;if(Y("before:highlightElement",{el:T,language:M}),T.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",T);return}if(T.children.length>0&&(o.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(T)),o.throwUnescapedHTML))throw new gp("One of your code blocks includes unescaped HTML.",T.innerHTML);P=T;const S=P.textContent,N=M?c(S,{language:M,ignoreIllegals:!0}):m(S);T.innerHTML=N.value,T.dataset.highlighted="yes",h(T,M,N.language),T.result={language:N.language,re:N.relevance,relevance:N.relevance},N.secondBest&&(T.secondBest={language:N.secondBest.language,relevance:N.secondBest.relevance}),Y("after:highlightElement",{el:T,result:N,text:S})}function f(T){o=ja(o,T)}const w=()=>{_(),_t("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function b(){_(),_t("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let y=!1;function _(){if(document.readyState==="loading"){y=!0;return}document.querySelectorAll(o.cssSelector).forEach(g)}function x(){y&&_()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",x,!1);function I(T,P){let M=null;try{M=P(n)}catch(S){if(Et("Language definition for '{}' could not be registered.".replace("{}",T)),s)Et(S);else throw S;M=i}M.name||(M.name=T),e[T]=M,M.rawDefinition=P.bind(null,n),M.aliases&&R(M.aliases,{languageName:T})}function F(T){delete e[T];for(const P of Object.keys(t))t[P]===T&&delete t[P]}function O(){return Object.keys(e)}function A(T){return T=(T||"").toLowerCase(),e[T]||e[t[T]]}function R(T,{languageName:P}){typeof T=="string"&&(T=[T]),T.forEach(M=>{t[M.toLowerCase()]=P})}function H(T){const P=A(T);return P&&!P.disableAutodetect}function L(T){T["before:highlightBlock"]&&!T["before:highlightElement"]&&(T["before:highlightElement"]=P=>{T["before:highlightBlock"](Object.assign({block:P.el},P))}),T["after:highlightBlock"]&&!T["after:highlightElement"]&&(T["after:highlightElement"]=P=>{T["after:highlightBlock"](Object.assign({block:P.el},P))})}function j(T){L(T),r.push(T)}function B(T){const P=r.indexOf(T);P!==-1&&r.splice(P,1)}function Y(T,P){const M=T;r.forEach(function(S){S[M]&&S[M](P)})}function ce(T){return _t("10.7.0","highlightBlock will be removed entirely in v12.0"),_t("10.7.0","Please use highlightElement now."),g(T)}Object.assign(n,{highlight:c,highlightAuto:m,highlightAll:_,highlightElement:g,highlightBlock:ce,configure:f,initHighlighting:w,initHighlightingOnLoad:b,registerLanguage:I,unregisterLanguage:F,listLanguages:O,getLanguage:A,registerAliases:R,autoDetection:H,inherit:ja,addPlugin:j,removePlugin:B}),n.debugMode=function(){s=!1},n.safeMode=function(){s=!0},n.versionString=hp,n.regex={concat:kt,lookahead:Qo,either:Ls,optional:Id,anyNumberOfTimes:Rd};for(const T in vn)typeof vn[T]=="object"&&Yo(vn[T]);return Object.assign(n,vn),n},It=ac({});It.newInstance=()=>ac({});var bp=It;It.HighlightJS=It;It.default=It;var nr,Ka;function yp(){if(Ka)return nr;Ka=1;function n(e){const t=e.regex,r=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),s=/[\p{L}0-9._:-]+/u,a={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(i,{begin:/\(/,end:/\)/}),u=e.inherit(e.APOS_STRING_MODE,{className:"string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:s,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[a]},{begin:/'/,end:/'/,contains:[a]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[i,l,u,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,o,l,u]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},a,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(r,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:r,relevance:0,starts:c}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(r,/>/))),contains:[{className:"name",begin:r,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}return nr=n,nr}var rr,Ga;function vp(){if(Ga)return rr;Ga=1;function n(e){const t=e.regex,r={},s={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[r]}]};Object.assign(r,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},s]});const a={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},i=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},u={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,r,a]};a.contains.push(u);const l={match:/\\"/},c={className:"string",begin:/'/,end:/'/},d={match:/\\'/},p={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,r]},m=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],h=e.SHEBANG({binary:`(${m.join("|")})`,relevance:10}),g={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},f=["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],w=["true","false"],b={match:/(\/[a-z._-]+)+/},y=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],_=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],x=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],I=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:f,literal:w,built_in:[...y,..._,"set","shopt",...x,...I]},contains:[h,e.SHEBANG(),g,p,i,o,b,u,l,c,d,r]}}return rr=n,rr}var sr,Wa;function Ep(){if(Wa)return sr;Wa=1;function n(e){const t=e.regex,r=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),s="decltype\\(auto\\)",a="[a-zA-Z_]\\w*::",o="("+s+"|"+t.optional(a)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",u={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},r,e.C_BLOCK_COMMENT_MODE]},m={className:"title",begin:t.optional(a)+e.IDENT_RE,relevance:0},h=t.optional(a)+e.IDENT_RE+"\\s*\\(",w={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},b=[p,u,r,e.C_BLOCK_COMMENT_MODE,d,c],y={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:w,contains:b.concat([{begin:/\(/,end:/\)/,keywords:w,contains:b.concat(["self"]),relevance:0}]),relevance:0},_={begin:"("+o+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:w,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:s,keywords:w,relevance:0},{begin:h,returnBegin:!0,contains:[e.inherit(m,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:w,relevance:0,contains:[r,e.C_BLOCK_COMMENT_MODE,c,d,u,{begin:/\(/,end:/\)/,keywords:w,relevance:0,contains:["self",r,e.C_BLOCK_COMMENT_MODE,c,d,u]}]},u,r,e.C_BLOCK_COMMENT_MODE,p]};return{name:"C",aliases:["h"],keywords:w,disableAutodetect:!0,illegal:"</",contains:[].concat(y,_,b,[p,{begin:e.IDENT_RE+"::",keywords:w},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:p,strings:c,keywords:w}}}return sr=n,sr}var ar,Ya;function wp(){if(Ya)return ar;Ya=1;function n(e){const t=e.regex,r=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),s="decltype\\(auto\\)",a="[a-zA-Z_]\\w*::",o="(?!struct)("+s+"|"+t.optional(a)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",u={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},r,e.C_BLOCK_COMMENT_MODE]},m={className:"title",begin:t.optional(a)+e.IDENT_RE,relevance:0},h=t.optional(a)+e.IDENT_RE+"\\s*\\(",g=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],f=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],w=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],b=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],x={type:f,keyword:g,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:w},I={className:"function.dispatch",relevance:0,keywords:{_hint:b},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},F=[I,p,u,r,e.C_BLOCK_COMMENT_MODE,d,c],O={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:x,contains:F.concat([{begin:/\(/,end:/\)/,keywords:x,contains:F.concat(["self"]),relevance:0}]),relevance:0},A={className:"function",begin:"("+o+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:x,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:s,keywords:x,relevance:0},{begin:h,returnBegin:!0,contains:[m],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:[r,e.C_BLOCK_COMMENT_MODE,c,d,u,{begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:["self",r,e.C_BLOCK_COMMENT_MODE,c,d,u]}]},u,r,e.C_BLOCK_COMMENT_MODE,p]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:x,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(O,A,I,F,[p,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:x,contains:["self",u]},{begin:e.IDENT_RE+"::",keywords:x},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}return ar=n,ar}var ir,Za;function xp(){if(Za)return ir;Za=1;function n(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],r=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],s=["default","false","null","true"],a=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],i=["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"],o={keyword:a.concat(i),built_in:t,literal:s},u=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},d={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},p=e.inherit(d,{illegal:/\n/}),m={className:"subst",begin:/\{/,end:/\}/,keywords:o},h=e.inherit(m,{illegal:/\n/}),g={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,h]},f={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},m]},w=e.inherit(f,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},h]});m.contains=[f,g,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.C_BLOCK_COMMENT_MODE],h.contains=[w,g,p,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const b={variants:[c,f,g,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},y={begin:"<",end:">",contains:[{beginKeywords:"in out"},u]},_=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",x={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:o,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},b,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},u,y,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[u,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[u,y,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+_+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:o,contains:[{beginKeywords:r.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,y],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,relevance:0,contains:[b,l,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},x]}}return ir=n,ir}var or,Qa;function kp(){if(Qa)return or;Qa=1;const n=l=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:l.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[l.APOS_STRING_MODE,l.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:l.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),e=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],t=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],r=[...e,...t],s=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),a=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),i=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),o=["accent-color","align-content","align-items","align-self","alignment-baseline","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-end-end-radius","border-end-start-radius","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","cx","cy","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","empty-cells","enable-background","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","flood-color","flood-opacity","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","kerning","justify-content","justify-items","justify-self","left","letter-spacing","lighting-color","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","marker","marker-end","marker-mid","marker-start","mask","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","scale","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","speak","speak-as","src","tab-size","table-layout","text-anchor","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-offset","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","vector-effect","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index"].sort().reverse();function u(l){const c=l.regex,d=n(l),p={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},m="and or not only",h=/@-?\w[\w]*(-\w+)*/,g="[a-zA-Z-][a-zA-Z0-9_-]*",f=[l.APOS_STRING_MODE,l.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[d.BLOCK_COMMENT,p,d.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+g,relevance:0},d.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+a.join("|")+")"},{begin:":(:)?("+i.join("|")+")"}]},d.CSS_VARIABLE,{className:"attribute",begin:"\\b("+o.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[d.BLOCK_COMMENT,d.HEXCOLOR,d.IMPORTANT,d.CSS_NUMBER_MODE,...f,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...f,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},d.FUNCTION_DISPATCH]},{begin:c.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:h},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:m,attribute:s.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...f,d.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+r.join("|")+")\\b"}]}}return or=u,or}var cr,Xa;function Sp(){if(Xa)return cr;Xa=1;function n(e){const t=e.regex,r={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},s={begin:"^[-\\*]{3,}",end:"$"},a={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},i={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},u=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,u,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},p=e.inherit(c,{contains:[]}),m=e.inherit(d,{contains:[]});c.contains.push(m),d.contains.push(p);let h=[r,l];return[c,d,p,m].forEach(b=>{b.contains=b.contains.concat(h)}),h=h.concat(c,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:h},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:h}]}]},r,i,c,d,{className:"quote",begin:"^>\\s+",contains:h,end:"$"},a,s,l,o,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}return cr=n,cr}var lr,Va;function _p(){if(Va)return lr;Va=1;function n(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}return lr=n,lr}var ur,Ja;function Cp(){if(Ja)return ur;Ja=1;function n(e){const t=e.regex,r="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",s=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),a=t.concat(s,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},u={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},c=[e.COMMENT("#","$",{contains:[u]}),e.COMMENT("^=begin","^=end",{contains:[u],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],d={className:"subst",begin:/#\{/,end:/\}/,keywords:o},p={className:"string",contains:[e.BACKSLASH_ESCAPE,d],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,d]})]}]},m="[1-9](_?[0-9])*|0",h="[0-9](_?[0-9])*",g={className:"number",relevance:0,variants:[{begin:`\\b(${m})(\\.(${h}))?([eE][+-]?(${h})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},f={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},F=[p,{variants:[{match:[/class\s+/,a,/\s+<\s+/,a]},{match:[/\b(class|module)\s+/,a]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,a],scope:{2:"title.class"},keywords:o},{relevance:0,match:[a,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:s,scope:"title.class"},{match:[/def/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[f]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[p,{begin:r}],relevance:0},g,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,d],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,c),relevance:0}].concat(l,c);d.contains=F,f.contains=F;const H=[{begin:/^\s*=>/,starts:{end:"$",contains:F}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:o,contains:F}}];return c.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(H).concat(c).concat(F)}}return ur=n,ur}var dr,ei;function Tp(){if(ei)return dr;ei=1;function n(e){const i={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:i,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:i,illegal:/["']/}]}]}}return dr=n,dr}var pr,ti;function Ap(){if(ti)return pr;ti=1;function n(e){const t=e.regex,r=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(r,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}return pr=n,pr}var mr,ni;function Rp(){if(ni)return mr;ni=1;function n(e){const t=e.regex,r={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},s=e.COMMENT();s.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const a={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},i={className:"literal",begin:/\bon|off|true|false|yes|no\b/},o={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},u={begin:/\[/,end:/\]/,contains:[s,i,a,o,r,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,c=/"(\\"|[^"])*"/,d=/'[^']*'/,p=t.either(l,c,d),m=t.concat(p,"(\\s*\\.\\s*",p,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[s,{className:"section",begin:/\[+/,end:/\]+/},{begin:m,className:"attr",starts:{end:/$/,contains:[s,u,i,a,o,r]}}]}}return mr=n,mr}var hr,ri;function Ip(){if(ri)return hr;ri=1;var n="[0-9](_*[0-9])*",e=`\\.(${n})`,t="[0-9a-fA-F](_*[0-9a-fA-F])*",r={className:"number",variants:[{begin:`(\\b(${n})((${e})|\\.)?|(${e}))[eE][+-]?(${n})[fFdD]?\\b`},{begin:`\\b(${n})((${e})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${e})[fFdD]?\\b`},{begin:`\\b(${n})[fFdD]\\b`},{begin:`\\b0[xX]((${t})\\.?|(${t})?\\.(${t}))[pP][+-]?(${n})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${t})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function s(i,o,u){return u===-1?"":i.replace(o,l=>s(i,o,u-1))}function a(i){const o=i.regex,u="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",l=u+s("(?:<"+u+"~~~(?:\\s*,\\s*"+u+"~~~)*>)?",/~~~/g,2),h={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},g={className:"meta",begin:"@"+u,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},f={className:"params",begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:[i.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:h,illegal:/<\/|#/,contains:[i.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},i.C_LINE_COMMENT_MODE,i.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[i.BACKSLASH_ESCAPE]},i.APOS_STRING_MODE,i.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,u],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[o.concat(/(?!else)/,u),/\s+/,u,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,u],className:{1:"keyword",3:"title.class"},contains:[f,i.C_LINE_COMMENT_MODE,i.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+l+"\\s+)",i.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:h,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:[g,i.APOS_STRING_MODE,i.QUOTE_STRING_MODE,r,i.C_BLOCK_COMMENT_MODE]},i.C_LINE_COMMENT_MODE,i.C_BLOCK_COMMENT_MODE]},r,g]}}return hr=a,hr}var gr,si;function Op(){if(si)return gr;si=1;const n="[A-Za-z$_][0-9A-Za-z$_]*",e=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],t=["true","false","null","undefined","NaN","Infinity"],r=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],s=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],a=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],i=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],o=[].concat(a,r,s);function u(l){const c=l.regex,d=(J,{after:X})=>{const ie="</"+J[0].slice(1);return J.input.indexOf(ie,X)!==-1},p=n,m={begin:"<>",end:"</>"},h=/<[A-Za-z0-9\\._:-]+\s*\/>/,g={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(J,X)=>{const ie=J[0].length+J.index,re=J.input[ie];if(re==="<"||re===","){X.ignoreMatch();return}re===">"&&(d(J,{after:ie})||X.ignoreMatch());let ge;const $=J.input.substring(ie);if(ge=$.match(/^\s*=/)){X.ignoreMatch();return}if((ge=$.match(/^\s+extends\s+/))&&ge.index===0){X.ignoreMatch();return}}},f={$pattern:n,keyword:e,literal:t,built_in:o,"variable.language":i},w="[0-9](_?[0-9])*",b=`\\.(${w})`,y="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",_={className:"number",variants:[{begin:`(\\b(${y})((${b})|\\.)?|(${b}))[eE][+-]?(${w})\\b`},{begin:`\\b(${y})\\b((${b})\\b|\\.)?|(${b})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},x={className:"subst",begin:"\\$\\{",end:"\\}",keywords:f,contains:[]},I={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[l.BACKSLASH_ESCAPE,x],subLanguage:"xml"}},F={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[l.BACKSLASH_ESCAPE,x],subLanguage:"css"}},O={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[l.BACKSLASH_ESCAPE,x],subLanguage:"graphql"}},A={className:"string",begin:"`",end:"`",contains:[l.BACKSLASH_ESCAPE,x]},H={className:"comment",variants:[l.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:p+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),l.C_BLOCK_COMMENT_MODE,l.C_LINE_COMMENT_MODE]},L=[l.APOS_STRING_MODE,l.QUOTE_STRING_MODE,I,F,O,A,{match:/\$\d+/},_];x.contains=L.concat({begin:/\{/,end:/\}/,keywords:f,contains:["self"].concat(L)});const j=[].concat(H,x.contains),B=j.concat([{begin:/(\s*)\(/,end:/\)/,keywords:f,contains:["self"].concat(j)}]),Y={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:f,contains:B},ce={variants:[{match:[/class/,/\s+/,p,/\s+/,/extends/,/\s+/,c.concat(p,"(",c.concat(/\./,p),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,p],scope:{1:"keyword",3:"title.class"}}]},T={relevance:0,match:c.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...r,...s]}},P={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},M={variants:[{match:[/function/,/\s+/,p,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[Y],illegal:/%/},S={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function N(J){return c.concat("(?!",J.join("|"),")")}const q={match:c.concat(/\b/,N([...a,"super","import"].map(J=>`${J}\\s*\\(`)),p,c.lookahead(/\s*\(/)),className:"title.function",relevance:0},V={begin:c.concat(/\./,c.lookahead(c.concat(p,/(?![0-9A-Za-z$_(])/))),end:p,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},te={match:[/get|set/,/\s+/,p,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},Y]},ne="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+l.UNDERSCORE_IDENT_RE+")\\s*=>",Z={match:[/const|var|let/,/\s+/,p,/\s*/,/=\s*/,/(async\s*)?/,c.lookahead(ne)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[Y]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:f,exports:{PARAMS_CONTAINS:B,CLASS_REFERENCE:T},illegal:/#(?![$_A-z])/,contains:[l.SHEBANG({label:"shebang",binary:"node",relevance:5}),P,l.APOS_STRING_MODE,l.QUOTE_STRING_MODE,I,F,O,A,H,{match:/\$\d+/},_,T,{className:"attr",begin:p+c.lookahead(":"),relevance:0},Z,{begin:"("+l.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[H,l.REGEXP_MODE,{className:"function",begin:ne,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:l.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:f,contains:B}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:m.begin,end:m.end},{match:h},{begin:g.begin,"on:begin":g.isTrulyOpeningTag,end:g.end}],subLanguage:"xml",contains:[{begin:g.begin,end:g.end,skip:!0,contains:["self"]}]}]},M,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+l.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[Y,l.inherit(l.TITLE_MODE,{begin:p,className:"title.function"})]},{match:/\.\.\./,relevance:0},V,{match:"\\$"+p,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[Y]},q,S,ce,te,{match:/\$[(.]/}]}}return gr=u,gr}var fr,ai;function Np(){if(ai)return fr;ai=1;function n(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},r={match:/[{}[\],:]/,className:"punctuation",relevance:0},s=["true","false","null"],a={scope:"literal",beginKeywords:s.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:s},contains:[t,r,e.QUOTE_STRING_MODE,a,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}return fr=n,fr}var br,ii;function Mp(){if(ii)return br;ii=1;var n="[0-9](_*[0-9])*",e=`\\.(${n})`,t="[0-9a-fA-F](_*[0-9a-fA-F])*",r={className:"number",variants:[{begin:`(\\b(${n})((${e})|\\.)?|(${e}))[eE][+-]?(${n})[fFdD]?\\b`},{begin:`\\b(${n})((${e})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${e})[fFdD]?\\b`},{begin:`\\b(${n})[fFdD]\\b`},{begin:`\\b0[xX]((${t})\\.?|(${t})?\\.(${t}))[pP][+-]?(${n})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${t})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function s(a){const i={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},o={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},u={className:"symbol",begin:a.UNDERSCORE_IDENT_RE+"@"},l={className:"subst",begin:/\$\{/,end:/\}/,contains:[a.C_NUMBER_MODE]},c={className:"variable",begin:"\\$"+a.UNDERSCORE_IDENT_RE},d={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[c,l]},{begin:"'",end:"'",illegal:/\n/,contains:[a.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[a.BACKSLASH_ESCAPE,c,l]}]};l.contains.push(d);const p={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+a.UNDERSCORE_IDENT_RE+")?"},m={className:"meta",begin:"@"+a.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[a.inherit(d,{className:"string"}),"self"]}]},h=r,g=a.COMMENT("/\\*","\\*/",{contains:[a.C_BLOCK_COMMENT_MODE]}),f={variants:[{className:"type",begin:a.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},w=f;return w.variants[1].contains=[f],f.variants[1].contains=[w],{name:"Kotlin",aliases:["kt","kts"],keywords:i,contains:[a.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),a.C_LINE_COMMENT_MODE,g,o,u,p,m,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:i,relevance:5,contains:[{begin:a.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[a.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:i,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[f,a.C_LINE_COMMENT_MODE,g],relevance:0},a.C_LINE_COMMENT_MODE,g,p,m,d,a.C_NUMBER_MODE]},g]},{begin:[/class|interface|trait/,/\s+/,a.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},a.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},p,m]},d,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},h]}}return br=s,br}var yr,oi;function Dp(){if(oi)return yr;oi=1;const n=c=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:c.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[c.APOS_STRING_MODE,c.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:c.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),e=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],t=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],r=[...e,...t],s=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),a=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),i=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),o=["accent-color","align-content","align-items","align-self","alignment-baseline","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-end-end-radius","border-end-start-radius","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","cx","cy","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","empty-cells","enable-background","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","flood-color","flood-opacity","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","kerning","justify-content","justify-items","justify-self","left","letter-spacing","lighting-color","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","marker","marker-end","marker-mid","marker-start","mask","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","scale","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","speak","speak-as","src","tab-size","table-layout","text-anchor","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-offset","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","vector-effect","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index"].sort().reverse(),u=a.concat(i).sort().reverse();function l(c){const d=n(c),p=u,m="and or not only",h="[\\w-]+",g="("+h+"|@\\{"+h+"\\})",f=[],w=[],b=function(j){return{className:"string",begin:"~?"+j+".*?"+j}},y=function(j,B,Y){return{className:j,begin:B,relevance:Y}},_={$pattern:/[a-z-]+/,keyword:m,attribute:s.join(" ")},x={begin:"\\(",end:"\\)",contains:w,keywords:_,relevance:0};w.push(c.C_LINE_COMMENT_MODE,c.C_BLOCK_COMMENT_MODE,b("'"),b('"'),d.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},d.HEXCOLOR,x,y("variable","@@?"+h,10),y("variable","@\\{"+h+"\\}"),y("built_in","~?`[^`]*?`"),{className:"attribute",begin:h+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},d.IMPORTANT,{beginKeywords:"and not"},d.FUNCTION_DISPATCH);const I=w.concat({begin:/\{/,end:/\}/,contains:f}),F={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(w)},O={begin:g+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},d.CSS_VARIABLE,{className:"attribute",begin:"\\b("+o.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:w}}]},A={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:_,returnEnd:!0,contains:w,relevance:0}},R={className:"variable",variants:[{begin:"@"+h+"\\s*:",relevance:15},{begin:"@"+h}],starts:{end:"[;}]",returnEnd:!0,contains:I}},H={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:g,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[c.C_LINE_COMMENT_MODE,c.C_BLOCK_COMMENT_MODE,F,y("keyword","all\\b"),y("variable","@\\{"+h+"\\}"),{begin:"\\b("+r.join("|")+")\\b",className:"selector-tag"},d.CSS_NUMBER_MODE,y("selector-tag",g,0),y("selector-id","#"+g),y("selector-class","\\."+g,0),y("selector-tag","&",0),d.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+a.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+i.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:I},{begin:"!important"},d.FUNCTION_DISPATCH]},L={begin:h+`:(:)?(${p.join("|")})`,returnBegin:!0,contains:[H]};return f.push(c.C_LINE_COMMENT_MODE,c.C_BLOCK_COMMENT_MODE,A,R,L,O,H,F,d.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:f}}return yr=l,yr}var vr,ci;function Lp(){if(ci)return vr;ci=1;function n(e){const t="\\[=*\\[",r="\\]=*\\]",s={begin:t,end:r,contains:["self"]},a=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,r,{contains:[s],relevance:10})];return{name:"Lua",keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:a.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:a}].concat(a)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:r,contains:[s],relevance:5}])}}return vr=n,vr}var Er,li;function Pp(){if(li)return Er;li=1;function n(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},r={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},s={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t]},a={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},i={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,r,s,a,i,o]}}return Er=n,Er}var wr,ui;function Bp(){if(ui)return wr;ui=1;function n(e){const t=e.regex,r=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],s=/[dualxmsipngr]{0,12}/,a={$pattern:/[\w.]+/,keyword:r.join(" ")},i={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:a},o={begin:/->\{/,end:/\}/},u={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},l={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[u]},c={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},d=[e.BACKSLASH_ESCAPE,i,l],p=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],m=(f,w,b="\\1")=>{const y=b==="\\1"?b:t.concat(b,w);return t.concat(t.concat("(?:",f,")"),w,/(?:\\.|[^\\\/])*?/,y,/(?:\\.|[^\\\/])*?/,b,s)},h=(f,w,b)=>t.concat(t.concat("(?:",f,")"),w,/(?:\\.|[^\\\/])*?/,b,s),g=[l,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:d,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},c,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:m("s|tr|y",t.either(...p,{capture:!0}))},{begin:m("s|tr|y","\\(","\\)")},{begin:m("s|tr|y","\\[","\\]")},{begin:m("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:h("(?:m|qr)?",/\//,/\//)},{begin:h("m|qr",t.either(...p,{capture:!0}),/\1/)},{begin:h("m|qr",/\(/,/\)/)},{begin:h("m|qr",/\[/,/\]/)},{begin:h("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,u]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,u,c]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return i.contains=g,o.contains=g,{name:"Perl",aliases:["pl","pm"],keywords:a,contains:g}}return wr=n,wr}var xr,di;function zp(){if(di)return xr;di=1;function n(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},r=/[a-zA-Z@][a-zA-Z0-9_]*/,u={"variable.language":["this","super"],$pattern:r,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:r,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:u,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}return xr=n,xr}var kr,pi;function Fp(){if(pi)return kr;pi=1;function n(e){const t=e.regex,r=/(?![A-Za-z0-9])(?![$])/,s=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,r),a=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,r),i={scope:"variable",match:"\\$+"+s},o={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},u={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},l=e.inherit(e.APOS_STRING_MODE,{illegal:null}),c=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(u)}),d={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(u),"on:begin":(B,Y)=>{Y.data._beginMatch=B[1]||B[2]},"on:end":(B,Y)=>{Y.data._beginMatch!==B[1]&&Y.ignoreMatch()}},p=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),m=`[ 	
]`,h={scope:"string",variants:[c,l,d,p]},g={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},f=["false","null","true"],w=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],b=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],_={keyword:w,literal:(B=>{const Y=[];return B.forEach(ce=>{Y.push(ce),ce.toLowerCase()===ce?Y.push(ce.toUpperCase()):Y.push(ce.toLowerCase())}),Y})(f),built_in:b},x=B=>B.map(Y=>Y.replace(/\|\d+$/,"")),I={variants:[{match:[/new/,t.concat(m,"+"),t.concat("(?!",x(b).join("\\b|"),"\\b)"),a],scope:{1:"keyword",4:"title.class"}}]},F=t.concat(s,"\\b(?!\\()"),O={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),F],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[a,t.concat(/::/,t.lookahead(/(?!class\b)/)),F],scope:{1:"title.class",3:"variable.constant"}},{match:[a,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[a,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},A={scope:"attr",match:t.concat(s,t.lookahead(":"),t.lookahead(/(?!::)/))},R={relevance:0,begin:/\(/,end:/\)/,keywords:_,contains:[A,i,O,e.C_BLOCK_COMMENT_MODE,h,g,I]},H={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",x(w).join("\\b|"),"|",x(b).join("\\b|"),"\\b)"),s,t.concat(m,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[R]};R.contains.push(H);const L=[A,O,e.C_BLOCK_COMMENT_MODE,h,g,I],j={begin:t.concat(/#\[\s*/,a),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:f,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:f,keyword:["new","array"]},contains:["self",...L]},...L,{scope:"meta",match:a}]};return{case_insensitive:!1,keywords:_,contains:[j,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},o,{scope:"variable.language",match:/\$this\b/},i,H,O,{match:[/const/,/\s/,s],scope:{1:"keyword",3:"variable.constant"}},I,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:_,contains:["self",i,O,e.C_BLOCK_COMMENT_MODE,h,g]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},h,g]}}return kr=n,kr}var Sr,mi;function Up(){if(mi)return Sr;mi=1;function n(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}return Sr=n,Sr}var _r,hi;function $p(){if(hi)return _r;hi=1;function n(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}return _r=n,_r}var Cr,gi;function Hp(){if(gi)return Cr;gi=1;function n(e){const t=e.regex,r=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),s=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],u={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:s,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:u,illegal:/#/},d={begin:/\{\{/,relevance:0},p={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l,d,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l,d,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,d,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,d,c]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},m="[0-9](_?[0-9])*",h=`(\\b(${m}))?\\.(${m})|\\b(${m})\\.`,g=`\\b|${s.join("|")}`,f={className:"number",relevance:0,variants:[{begin:`(\\b(${m})|(${h}))[eE][+-]?(${m})[jJ]?(?=${g})`},{begin:`(${h})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${g})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${g})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${g})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${g})`},{begin:`\\b(${m})[jJ](?=${g})`}]},w={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:u,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},b={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,contains:["self",l,f,p,e.HASH_COMMENT_MODE]}]};return c.contains=[p,f,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:u,illegal:/(<\/|\?)|=>/,contains:[l,f,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},p,w,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,r],scope:{1:"keyword",3:"title.function"},contains:[b]},{variants:[{match:[/\bclass/,/\s+/,r,/\s*/,/\(\s*/,r,/\s*\)/]},{match:[/\bclass/,/\s+/,r]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[f,b,p]}]}}return Cr=n,Cr}var Tr,fi;function jp(){if(fi)return Tr;fi=1;function n(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}return Tr=n,Tr}var Ar,bi;function qp(){if(bi)return Ar;bi=1;function n(e){const t=e.regex,r=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,s=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),a=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,i=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:r,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:r},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[a,s]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,s]},{scope:{1:"punctuation",2:"number"},match:[i,s]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,s]}]},{scope:{3:"operator"},match:[r,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:a},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:i},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}return Ar=n,Ar}var Rr,yi;function Kp(){if(yi)return Rr;yi=1;function n(e){const t=e.regex,r=/(r#)?/,s=t.concat(r,e.UNDERSCORE_IDENT_RE),a=t.concat(r,e.IDENT_RE),i={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,a,t.lookahead(/\s*\(/))},o="([ui](8|16|32|64|128|size)|f(32|64))?",u=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],l=["true","false","Some","None","Ok","Err"],c=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],d=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:d,keyword:u,literal:l,built_in:c},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+o},{begin:"\\b0o([0-7_]+)"+o},{begin:"\\b0x([A-Fa-f0-9_]+)"+o},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+o}],relevance:0},{begin:[/fn/,/\s+/,s],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,s],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,s,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,s],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,s],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:c,type:d}},{className:"punctuation",begin:"->"},i]}}return Rr=n,Rr}var Ir,vi;function Gp(){if(vi)return Ir;vi=1;const n=l=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:l.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[l.APOS_STRING_MODE,l.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:l.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),e=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],t=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],r=[...e,...t],s=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),a=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),i=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),o=["accent-color","align-content","align-items","align-self","alignment-baseline","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-end-end-radius","border-end-start-radius","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","cx","cy","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","empty-cells","enable-background","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","flood-color","flood-opacity","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","kerning","justify-content","justify-items","justify-self","left","letter-spacing","lighting-color","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","marker","marker-end","marker-mid","marker-start","mask","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","scale","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","speak","speak-as","src","tab-size","table-layout","text-anchor","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-offset","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","vector-effect","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index"].sort().reverse();function u(l){const c=n(l),d=i,p=a,m="@[a-z-]+",h="and or not only",f={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[l.C_LINE_COMMENT_MODE,l.C_BLOCK_COMMENT_MODE,c.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},c.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+r.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+p.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+d.join("|")+")"},f,{begin:/\(/,end:/\)/,contains:[c.CSS_NUMBER_MODE]},c.CSS_VARIABLE,{className:"attribute",begin:"\\b("+o.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[c.BLOCK_COMMENT,f,c.HEXCOLOR,c.CSS_NUMBER_MODE,l.QUOTE_STRING_MODE,l.APOS_STRING_MODE,c.IMPORTANT,c.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:m,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:h,attribute:s.join(" ")},contains:[{begin:m,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},f,l.QUOTE_STRING_MODE,l.APOS_STRING_MODE,c.HEXCOLOR,c.CSS_NUMBER_MODE]},c.FUNCTION_DISPATCH]}}return Ir=u,Ir}var Or,Ei;function Wp(){if(Ei)return Or;Ei=1;function n(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}return Or=n,Or}var Nr,wi;function Yp(){if(wi)return Nr;wi=1;function n(e){const t=e.regex,r=e.COMMENT("--","$"),s={className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},a={begin:/"/,end:/"/,contains:[{begin:/""/}]},i=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],u=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],p=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],m=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],h=d,g=[...c,...l].filter(_=>!d.includes(_)),f={className:"variable",begin:/@[a-z0-9][a-z0-9_]*/},w={className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},b={begin:t.concat(/\b/,t.either(...h),/\s*\(/),relevance:0,keywords:{built_in:h}};function y(_,{exceptions:x,when:I}={}){const F=I;return x=x||[],_.map(O=>O.match(/\|\d+$/)||x.includes(O)?O:F(O)?`${O}|0`:O)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:y(g,{when:_=>_.length<3}),literal:i,type:u,built_in:p},contains:[{begin:t.either(...m),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:g.concat(m),literal:i,type:u}},{className:"type",begin:t.either(...o)},b,f,s,a,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,r,w]}}return Nr=n,Nr}var Mr,xi;function Zp(){if(xi)return Mr;xi=1;function n(O){return O?typeof O=="string"?O:O.source:null}function e(O){return t("(?=",O,")")}function t(...O){return O.map(R=>n(R)).join("")}function r(O){const A=O[O.length-1];return typeof A=="object"&&A.constructor===Object?(O.splice(O.length-1,1),A):{}}function s(...O){return"("+(r(O).capture?"":"?:")+O.map(H=>n(H)).join("|")+")"}const a=O=>t(/\b/,O,/\w$/.test(O)?/\b/:/\B/),i=["Protocol","Type"].map(a),o=["init","self"].map(a),u=["Any","Self"],l=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],c=["false","nil","true"],d=["assignment","associativity","higherThan","left","lowerThan","none","right"],p=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],m=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],h=s(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),g=s(h,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),f=t(h,g,"*"),w=s(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),b=s(w,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),y=t(w,b,"*"),_=t(/[A-Z]/,b,"*"),x=["attached","autoclosure",t(/convention\(/,s("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",t(/objc\(/,y,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],I=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function F(O){const A={match:/\s+/,relevance:0},R=O.COMMENT("/\\*","\\*/",{contains:["self"]}),H=[O.C_LINE_COMMENT_MODE,R],L={match:[/\./,s(...i,...o)],className:{2:"keyword"}},j={match:t(/\./,s(...l)),relevance:0},B=l.filter(ye=>typeof ye=="string").concat(["_|0"]),Y=l.filter(ye=>typeof ye!="string").concat(u).map(a),ce={variants:[{className:"keyword",match:s(...Y,...o)}]},T={$pattern:s(/\b\w+/,/#\w+/),keyword:B.concat(p),literal:c},P=[L,j,ce],M={match:t(/\./,s(...m)),relevance:0},S={className:"built_in",match:t(/\b/,s(...m),/(?=\()/)},N=[M,S],q={match:/->/,relevance:0},V={className:"operator",relevance:0,variants:[{match:f},{match:`\\.(\\.|${g})+`}]},te=[q,V],ne="([0-9]_*)+",Z="([0-9a-fA-F]_*)+",J={className:"number",relevance:0,variants:[{match:`\\b(${ne})(\\.(${ne}))?([eE][+-]?(${ne}))?\\b`},{match:`\\b0x(${Z})(\\.(${Z}))?([pP][+-]?(${ne}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},X=(ye="")=>({className:"subst",variants:[{match:t(/\\/,ye,/[0\\tnr"']/)},{match:t(/\\/,ye,/u\{[0-9a-fA-F]{1,8}\}/)}]}),ie=(ye="")=>({className:"subst",match:t(/\\/,ye,/[\t ]*(?:[\r\n]|\r\n)/)}),re=(ye="")=>({className:"subst",label:"interpol",begin:t(/\\/,ye,/\(/),end:/\)/}),ge=(ye="")=>({begin:t(ye,/"""/),end:t(/"""/,ye),contains:[X(ye),ie(ye),re(ye)]}),$=(ye="")=>({begin:t(ye,/"/),end:t(/"/,ye),contains:[X(ye),re(ye)]}),ve={className:"string",variants:[ge(),ge("#"),ge("##"),ge("###"),$(),$("#"),$("##"),$("###")]},De=[O.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[O.BACKSLASH_ESCAPE]}],Be={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:De},C=ye=>{const Xe=t(ye,/\//),it=t(/\//,ye);return{begin:Xe,end:it,contains:[...De,{scope:"comment",begin:`#(?!.*${it})`,end:/$/}]}},W={scope:"regexp",variants:[C("###"),C("##"),C("#"),Be]},ae={match:t(/`/,y,/`/)},K={className:"variable",match:/\$\d+/},Ee={className:"variable",match:`\\$${b}+`},le=[ae,K,Ee],se={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:I,contains:[...te,J,ve]}]}},Ce={scope:"keyword",match:t(/@/,s(...x),e(s(/\(/,/\s+/)))},z={scope:"meta",match:t(/@/,y)},ee=[se,Ce,z],me={match:e(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:t(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,b,"+")},{className:"type",match:_,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:t(/\s+&\s+/,e(_)),relevance:0}]},D={begin:/</,end:/>/,keywords:T,contains:[...H,...P,...ee,q,me]};me.contains.push(D);const G={match:t(y,/\s*:/),keywords:"_|0",relevance:0},oe={begin:/\(/,end:/\)/,relevance:0,keywords:T,contains:["self",G,...H,W,...P,...N,...te,J,ve,...le,...ee,me]},pe={begin:/</,end:/>/,keywords:"repeat each",contains:[...H,me]},Re={begin:s(e(t(y,/\s*:/)),e(t(y,/\s+/,y,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:y}]},ze={begin:/\(/,end:/\)/,keywords:T,contains:[Re,...H,...P,...te,J,ve,...ee,me,oe],endsParent:!0,illegal:/["']/},nt={match:[/(func|macro)/,/\s+/,s(ae.match,y,f)],className:{1:"keyword",3:"title.function"},contains:[pe,ze,A],illegal:[/\[/,/%/]},Qe={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[pe,ze,A],illegal:/\[|%/},dt={match:[/operator/,/\s+/,f],className:{1:"keyword",3:"title"}},pt={begin:[/precedencegroup/,/\s+/,_],className:{1:"keyword",3:"title"},contains:[me],keywords:[...d,...c],end:/}/},mt={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,y,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:T,contains:[pe,...P,{begin:/:/,end:/\{/,keywords:T,contains:[{scope:"title.class.inherited",match:_},...P],relevance:0}]};for(const ye of ve.variants){const Xe=ye.contains.find(ot=>ot.label==="interpol");Xe.keywords=T;const it=[...P,...N,...te,J,ve,...le];Xe.contains=[...it,{begin:/\(/,end:/\)/,contains:["self",...it]}]}return{name:"Swift",keywords:T,contains:[...H,nt,Qe,mt,dt,pt,{beginKeywords:"import",end:/$/,contains:[...H],relevance:0},W,...P,...N,...te,J,ve,...le,...ee,me,oe]}}return Mr=F,Mr}var Dr,ki;function Qp(){if(ki)return Dr;ki=1;function n(e){const t="true false yes no null",r="[\\w#;/?:@&=+$,.~*'()[\\]]+",s={className:"attr",variants:[{begin:/\w[\w :()\./-]*:(?=[ \t]|$)/},{begin:/"\w[\w :()\./-]*":(?=[ \t]|$)/},{begin:/'\w[\w :()\./-]*':(?=[ \t]|$)/}]},a={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},i={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,a]},o=e.inherit(i,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),p={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},m={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},h={begin:/\{/,end:/\}/,contains:[m],illegal:"\\n",relevance:0},g={begin:"\\[",end:"\\]",contains:[m],illegal:"\\n",relevance:0},f=[s,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+r},{className:"type",begin:"!<"+r+">"},{className:"type",begin:"!"+r},{className:"type",begin:"!!"+r},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},p,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},h,g,i],w=[...f];return w.pop(),w.push(o),m.contains=w,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:f}}return Dr=n,Dr}var Lr,Si;function Xp(){if(Si)return Lr;Si=1;const n="[A-Za-z$_][0-9A-Za-z$_]*",e=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],t=["true","false","null","undefined","NaN","Infinity"],r=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],s=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],a=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],i=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],o=[].concat(a,r,s);function u(c){const d=c.regex,p=(X,{after:ie})=>{const re="</"+X[0].slice(1);return X.input.indexOf(re,ie)!==-1},m=n,h={begin:"<>",end:"</>"},g=/<[A-Za-z0-9\\._:-]+\s*\/>/,f={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(X,ie)=>{const re=X[0].length+X.index,ge=X.input[re];if(ge==="<"||ge===","){ie.ignoreMatch();return}ge===">"&&(p(X,{after:re})||ie.ignoreMatch());let $;const ve=X.input.substring(re);if($=ve.match(/^\s*=/)){ie.ignoreMatch();return}if(($=ve.match(/^\s+extends\s+/))&&$.index===0){ie.ignoreMatch();return}}},w={$pattern:n,keyword:e,literal:t,built_in:o,"variable.language":i},b="[0-9](_?[0-9])*",y=`\\.(${b})`,_="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",x={className:"number",variants:[{begin:`(\\b(${_})((${y})|\\.)?|(${y}))[eE][+-]?(${b})\\b`},{begin:`\\b(${_})\\b((${y})\\b|\\.)?|(${y})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},I={className:"subst",begin:"\\$\\{",end:"\\}",keywords:w,contains:[]},F={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[c.BACKSLASH_ESCAPE,I],subLanguage:"xml"}},O={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[c.BACKSLASH_ESCAPE,I],subLanguage:"css"}},A={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[c.BACKSLASH_ESCAPE,I],subLanguage:"graphql"}},R={className:"string",begin:"`",end:"`",contains:[c.BACKSLASH_ESCAPE,I]},L={className:"comment",variants:[c.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:m+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),c.C_BLOCK_COMMENT_MODE,c.C_LINE_COMMENT_MODE]},j=[c.APOS_STRING_MODE,c.QUOTE_STRING_MODE,F,O,A,R,{match:/\$\d+/},x];I.contains=j.concat({begin:/\{/,end:/\}/,keywords:w,contains:["self"].concat(j)});const B=[].concat(L,I.contains),Y=B.concat([{begin:/(\s*)\(/,end:/\)/,keywords:w,contains:["self"].concat(B)}]),ce={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:w,contains:Y},T={variants:[{match:[/class/,/\s+/,m,/\s+/,/extends/,/\s+/,d.concat(m,"(",d.concat(/\./,m),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,m],scope:{1:"keyword",3:"title.class"}}]},P={relevance:0,match:d.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...r,...s]}},M={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},S={variants:[{match:[/function/,/\s+/,m,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[ce],illegal:/%/},N={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function q(X){return d.concat("(?!",X.join("|"),")")}const V={match:d.concat(/\b/,q([...a,"super","import"].map(X=>`${X}\\s*\\(`)),m,d.lookahead(/\s*\(/)),className:"title.function",relevance:0},te={begin:d.concat(/\./,d.lookahead(d.concat(m,/(?![0-9A-Za-z$_(])/))),end:m,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ne={match:[/get|set/,/\s+/,m,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},ce]},Z="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+c.UNDERSCORE_IDENT_RE+")\\s*=>",J={match:[/const|var|let/,/\s+/,m,/\s*/,/=\s*/,/(async\s*)?/,d.lookahead(Z)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[ce]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:w,exports:{PARAMS_CONTAINS:Y,CLASS_REFERENCE:P},illegal:/#(?![$_A-z])/,contains:[c.SHEBANG({label:"shebang",binary:"node",relevance:5}),M,c.APOS_STRING_MODE,c.QUOTE_STRING_MODE,F,O,A,R,L,{match:/\$\d+/},x,P,{className:"attr",begin:m+d.lookahead(":"),relevance:0},J,{begin:"("+c.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[L,c.REGEXP_MODE,{className:"function",begin:Z,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:c.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:w,contains:Y}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:h.begin,end:h.end},{match:g},{begin:f.begin,"on:begin":f.isTrulyOpeningTag,end:f.end}],subLanguage:"xml",contains:[{begin:f.begin,end:f.end,skip:!0,contains:["self"]}]}]},S,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+c.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[ce,c.inherit(c.TITLE_MODE,{begin:m,className:"title.function"})]},{match:/\.\.\./,relevance:0},te,{match:"\\$"+m,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[ce]},V,N,T,ne,{match:/\$[(.]/}]}}function l(c){const d=u(c),p=n,m=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],h={begin:[/namespace/,/\s+/,c.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},g={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:m},contains:[d.exports.CLASS_REFERENCE]},f={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},w=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],b={$pattern:n,keyword:e.concat(w),literal:t,built_in:o.concat(m),"variable.language":i},y={className:"meta",begin:"@"+p},_=(F,O,A)=>{const R=F.contains.findIndex(H=>H.label===O);if(R===-1)throw new Error("can not find mode to replace");F.contains.splice(R,1,A)};Object.assign(d.keywords,b),d.exports.PARAMS_CONTAINS.push(y);const x=d.contains.find(F=>F.className==="attr");d.exports.PARAMS_CONTAINS.push([d.exports.CLASS_REFERENCE,x]),d.contains=d.contains.concat([y,h,g]),_(d,"shebang",c.SHEBANG()),_(d,"use_strict",f);const I=d.contains.find(F=>F.label==="func.def");return I.relevance=0,Object.assign(d,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),d}return Lr=l,Lr}var Pr,_i;function Vp(){if(_i)return Pr;_i=1;function n(e){const t=e.regex,r={className:"string",begin:/"(""|[^/n])"C\b/},s={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},a=/\d{1,2}\/\d{1,2}\/\d{4}/,i=/\d{4}-\d{1,2}-\d{1,2}/,o=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,u=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:t.concat(/# */,t.either(i,a),/ *#/)},{begin:t.concat(/# */,u,/ *#/)},{begin:t.concat(/# */,o,/ *#/)},{begin:t.concat(/# */,t.either(i,a),/ +/,t.either(o,u),/ *#/)}]},c={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},d={className:"label",begin:/^\w+:/},p=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),m=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[r,s,l,c,d,p,m,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[m]}]}}return Pr=n,Pr}var Br,Ci;function Jp(){if(Ci)return Br;Ci=1;function n(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const r=e.COMMENT(/;;/,/$/),s=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],a={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},i={className:"variable",begin:/\$[\w_]+/},o={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},u={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},c={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:s},contains:[r,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},i,o,a,e.QUOTE_STRING_MODE,l,c,u]}}return Br=n,Br}var he=bp;he.registerLanguage("xml",yp());he.registerLanguage("bash",vp());he.registerLanguage("c",Ep());he.registerLanguage("cpp",wp());he.registerLanguage("csharp",xp());he.registerLanguage("css",kp());he.registerLanguage("markdown",Sp());he.registerLanguage("diff",_p());he.registerLanguage("ruby",Cp());he.registerLanguage("go",Tp());he.registerLanguage("graphql",Ap());he.registerLanguage("ini",Rp());he.registerLanguage("java",Ip());he.registerLanguage("javascript",Op());he.registerLanguage("json",Np());he.registerLanguage("kotlin",Mp());he.registerLanguage("less",Dp());he.registerLanguage("lua",Lp());he.registerLanguage("makefile",Pp());he.registerLanguage("perl",Bp());he.registerLanguage("objectivec",zp());he.registerLanguage("php",Fp());he.registerLanguage("php-template",Up());he.registerLanguage("plaintext",$p());he.registerLanguage("python",Hp());he.registerLanguage("python-repl",jp());he.registerLanguage("r",qp());he.registerLanguage("rust",Kp());he.registerLanguage("scss",Gp());he.registerLanguage("shell",Wp());he.registerLanguage("sql",Yp());he.registerLanguage("swift",Zp());he.registerLanguage("yaml",Qp());he.registerLanguage("typescript",Xp());he.registerLanguage("vbnet",Vp());he.registerLanguage("wasm",Jp());he.HighlightJS=he;he.default=he;var em=he;const En=Yi(em),tm={js:"javascript",ts:"typescript",jsx:"javascript",tsx:"typescript",html:"xml",html5:"xml",md:"markdown",yml:"yaml",py:"python",rb:"ruby",kt:"kotlin",rs:"rust"},nm=(()=>{const n="dark";let e=n;for(const[s,a]of Object.entries(tm))En.getLanguage(a)?En.registerAliases(s,{languageName:a}):typeof(t=`Language "${a}" is not registered to use with highlight.js.`)!="string"?t&&typeof t.toString=="function"?console.warn(`[nlux] ${t.toString()}`):console.warn("[nlux]"):console.warn(`[nlux] ${t}`);var t;const r=(s,a)=>{const i=En.getLanguage(a)?a:"plaintext";return En.highlight(s,{language:i,ignoreIllegals:!0}).value};return{createHighlighter(s){const{colorMode:a}=s??{};return(i=>{e=i})(a??n),r},highlightingClass:s=>e==="light"?"highlighter-light":"highlighter-dark"}})();var hs={exports:{}},wn={exports:{}},xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ti;function rm(){if(Ti)return xe;Ti=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,i=n?Symbol.for("react.provider"):60109,o=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,l=n?Symbol.for("react.concurrent_mode"):60111,c=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,h=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,f=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function y(x){if(typeof x=="object"&&x!==null){var I=x.$$typeof;switch(I){case e:switch(x=x.type,x){case u:case l:case r:case a:case s:case d:return x;default:switch(x=x&&x.$$typeof,x){case o:case c:case h:case m:case i:return x;default:return I}}case t:return I}}}function _(x){return y(x)===l}return xe.AsyncMode=u,xe.ConcurrentMode=l,xe.ContextConsumer=o,xe.ContextProvider=i,xe.Element=e,xe.ForwardRef=c,xe.Fragment=r,xe.Lazy=h,xe.Memo=m,xe.Portal=t,xe.Profiler=a,xe.StrictMode=s,xe.Suspense=d,xe.isAsyncMode=function(x){return _(x)||y(x)===u},xe.isConcurrentMode=_,xe.isContextConsumer=function(x){return y(x)===o},xe.isContextProvider=function(x){return y(x)===i},xe.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},xe.isForwardRef=function(x){return y(x)===c},xe.isFragment=function(x){return y(x)===r},xe.isLazy=function(x){return y(x)===h},xe.isMemo=function(x){return y(x)===m},xe.isPortal=function(x){return y(x)===t},xe.isProfiler=function(x){return y(x)===a},xe.isStrictMode=function(x){return y(x)===s},xe.isSuspense=function(x){return y(x)===d},xe.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===l||x===a||x===s||x===d||x===p||typeof x=="object"&&x!==null&&(x.$$typeof===h||x.$$typeof===m||x.$$typeof===i||x.$$typeof===o||x.$$typeof===c||x.$$typeof===f||x.$$typeof===w||x.$$typeof===b||x.$$typeof===g)},xe.typeOf=y,xe}var ke={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ai;function sm(){return Ai||(Ai=1,process.env.NODE_ENV!=="production"&&function(){var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,i=n?Symbol.for("react.provider"):60109,o=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,l=n?Symbol.for("react.concurrent_mode"):60111,c=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,h=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,f=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function y($){return typeof $=="string"||typeof $=="function"||$===r||$===l||$===a||$===s||$===d||$===p||typeof $=="object"&&$!==null&&($.$$typeof===h||$.$$typeof===m||$.$$typeof===i||$.$$typeof===o||$.$$typeof===c||$.$$typeof===f||$.$$typeof===w||$.$$typeof===b||$.$$typeof===g)}function _($){if(typeof $=="object"&&$!==null){var ve=$.$$typeof;switch(ve){case e:var De=$.type;switch(De){case u:case l:case r:case a:case s:case d:return De;default:var Be=De&&De.$$typeof;switch(Be){case o:case c:case h:case m:case i:return Be;default:return ve}}case t:return ve}}}var x=u,I=l,F=o,O=i,A=e,R=c,H=r,L=h,j=m,B=t,Y=a,ce=s,T=d,P=!1;function M($){return P||(P=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),S($)||_($)===u}function S($){return _($)===l}function N($){return _($)===o}function q($){return _($)===i}function V($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function te($){return _($)===c}function ne($){return _($)===r}function Z($){return _($)===h}function J($){return _($)===m}function X($){return _($)===t}function ie($){return _($)===a}function re($){return _($)===s}function ge($){return _($)===d}ke.AsyncMode=x,ke.ConcurrentMode=I,ke.ContextConsumer=F,ke.ContextProvider=O,ke.Element=A,ke.ForwardRef=R,ke.Fragment=H,ke.Lazy=L,ke.Memo=j,ke.Portal=B,ke.Profiler=Y,ke.StrictMode=ce,ke.Suspense=T,ke.isAsyncMode=M,ke.isConcurrentMode=S,ke.isContextConsumer=N,ke.isContextProvider=q,ke.isElement=V,ke.isForwardRef=te,ke.isFragment=ne,ke.isLazy=Z,ke.isMemo=J,ke.isPortal=X,ke.isProfiler=ie,ke.isStrictMode=re,ke.isSuspense=ge,ke.isValidElementType=y,ke.typeOf=_}()),ke}var Ri;function ic(){return Ri||(Ri=1,process.env.NODE_ENV==="production"?wn.exports=rm():wn.exports=sm()),wn.exports}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var zr,Ii;function am(){if(Ii)return zr;Ii=1;var n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function r(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function s(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var i={},o=0;o<10;o++)i["_"+String.fromCharCode(o)]=o;var u=Object.getOwnPropertyNames(i).map(function(c){return i[c]});if(u.join("")!=="0123456789")return!1;var l={};return"abcdefghijklmnopqrst".split("").forEach(function(c){l[c]=c}),Object.keys(Object.assign({},l)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return zr=s()?Object.assign:function(a,i){for(var o,u=r(a),l,c=1;c<arguments.length;c++){o=Object(arguments[c]);for(var d in o)e.call(o,d)&&(u[d]=o[d]);if(n){l=n(o);for(var p=0;p<l.length;p++)t.call(o,l[p])&&(u[l[p]]=o[l[p]])}}return u},zr}var Fr,Oi;function zs(){if(Oi)return Fr;Oi=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fr=n,Fr}var Ur,Ni;function oc(){return Ni||(Ni=1,Ur=Function.call.bind(Object.prototype.hasOwnProperty)),Ur}var $r,Mi;function im(){if(Mi)return $r;Mi=1;var n=function(){};if(process.env.NODE_ENV!=="production"){var e=zs(),t={},r=oc();n=function(a){var i="Warning: "+a;typeof console<"u"&&console.error(i);try{throw new Error(i)}catch{}}}function s(a,i,o,u,l){if(process.env.NODE_ENV!=="production"){for(var c in a)if(r(a,c)){var d;try{if(typeof a[c]!="function"){var p=Error((u||"React class")+": "+o+" type `"+c+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[c]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw p.name="Invariant Violation",p}d=a[c](i,c,u,o,null,e)}catch(h){d=h}if(d&&!(d instanceof Error)&&n((u||"React class")+": type specification of "+o+" `"+c+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof d+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),d instanceof Error&&!(d.message in t)){t[d.message]=!0;var m=l?l():"";n("Failed "+o+" type: "+d.message+(m??""))}}}}return s.resetWarningCache=function(){process.env.NODE_ENV!=="production"&&(t={})},$r=s,$r}var Hr,Di;function om(){if(Di)return Hr;Di=1;var n=ic(),e=am(),t=zs(),r=oc(),s=im(),a=function(){};process.env.NODE_ENV!=="production"&&(a=function(o){var u="Warning: "+o;typeof console<"u"&&console.error(u);try{throw new Error(u)}catch{}});function i(){return null}return Hr=function(o,u){var l=typeof Symbol=="function"&&Symbol.iterator,c="@@iterator";function d(S){var N=S&&(l&&S[l]||S[c]);if(typeof N=="function")return N}var p="<<anonymous>>",m={array:w("array"),bigint:w("bigint"),bool:w("boolean"),func:w("function"),number:w("number"),object:w("object"),string:w("string"),symbol:w("symbol"),any:b(),arrayOf:y,element:_(),elementType:x(),instanceOf:I,node:R(),objectOf:O,oneOf:F,oneOfType:A,shape:L,exact:j};function h(S,N){return S===N?S!==0||1/S===1/N:S!==S&&N!==N}function g(S,N){this.message=S,this.data=N&&typeof N=="object"?N:{},this.stack=""}g.prototype=Error.prototype;function f(S){if(process.env.NODE_ENV!=="production")var N={},q=0;function V(ne,Z,J,X,ie,re,ge){if(X=X||p,re=re||J,ge!==t){if(u){var $=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw $.name="Invariant Violation",$}else if(process.env.NODE_ENV!=="production"&&typeof console<"u"){var ve=X+":"+J;!N[ve]&&q<3&&(a("You are manually calling a React.PropTypes validation function for the `"+re+"` prop on `"+X+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),N[ve]=!0,q++)}}return Z[J]==null?ne?Z[J]===null?new g("The "+ie+" `"+re+"` is marked as required "+("in `"+X+"`, but its value is `null`.")):new g("The "+ie+" `"+re+"` is marked as required in "+("`"+X+"`, but its value is `undefined`.")):null:S(Z,J,X,ie,re)}var te=V.bind(null,!1);return te.isRequired=V.bind(null,!0),te}function w(S){function N(q,V,te,ne,Z,J){var X=q[V],ie=ce(X);if(ie!==S){var re=T(X);return new g("Invalid "+ne+" `"+Z+"` of type "+("`"+re+"` supplied to `"+te+"`, expected ")+("`"+S+"`."),{expectedType:S})}return null}return f(N)}function b(){return f(i)}function y(S){function N(q,V,te,ne,Z){if(typeof S!="function")return new g("Property `"+Z+"` of component `"+te+"` has invalid PropType notation inside arrayOf.");var J=q[V];if(!Array.isArray(J)){var X=ce(J);return new g("Invalid "+ne+" `"+Z+"` of type "+("`"+X+"` supplied to `"+te+"`, expected an array."))}for(var ie=0;ie<J.length;ie++){var re=S(J,ie,te,ne,Z+"["+ie+"]",t);if(re instanceof Error)return re}return null}return f(N)}function _(){function S(N,q,V,te,ne){var Z=N[q];if(!o(Z)){var J=ce(Z);return new g("Invalid "+te+" `"+ne+"` of type "+("`"+J+"` supplied to `"+V+"`, expected a single ReactElement."))}return null}return f(S)}function x(){function S(N,q,V,te,ne){var Z=N[q];if(!n.isValidElementType(Z)){var J=ce(Z);return new g("Invalid "+te+" `"+ne+"` of type "+("`"+J+"` supplied to `"+V+"`, expected a single ReactElement type."))}return null}return f(S)}function I(S){function N(q,V,te,ne,Z){if(!(q[V]instanceof S)){var J=S.name||p,X=M(q[V]);return new g("Invalid "+ne+" `"+Z+"` of type "+("`"+X+"` supplied to `"+te+"`, expected ")+("instance of `"+J+"`."))}return null}return f(N)}function F(S){if(!Array.isArray(S))return process.env.NODE_ENV!=="production"&&(arguments.length>1?a("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):a("Invalid argument supplied to oneOf, expected an array.")),i;function N(q,V,te,ne,Z){for(var J=q[V],X=0;X<S.length;X++)if(h(J,S[X]))return null;var ie=JSON.stringify(S,function(ge,$){var ve=T($);return ve==="symbol"?String($):$});return new g("Invalid "+ne+" `"+Z+"` of value `"+String(J)+"` "+("supplied to `"+te+"`, expected one of "+ie+"."))}return f(N)}function O(S){function N(q,V,te,ne,Z){if(typeof S!="function")return new g("Property `"+Z+"` of component `"+te+"` has invalid PropType notation inside objectOf.");var J=q[V],X=ce(J);if(X!=="object")return new g("Invalid "+ne+" `"+Z+"` of type "+("`"+X+"` supplied to `"+te+"`, expected an object."));for(var ie in J)if(r(J,ie)){var re=S(J,ie,te,ne,Z+"."+ie,t);if(re instanceof Error)return re}return null}return f(N)}function A(S){if(!Array.isArray(S))return process.env.NODE_ENV!=="production"&&a("Invalid argument supplied to oneOfType, expected an instance of array."),i;for(var N=0;N<S.length;N++){var q=S[N];if(typeof q!="function")return a("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+P(q)+" at index "+N+"."),i}function V(te,ne,Z,J,X){for(var ie=[],re=0;re<S.length;re++){var ge=S[re],$=ge(te,ne,Z,J,X,t);if($==null)return null;$.data&&r($.data,"expectedType")&&ie.push($.data.expectedType)}var ve=ie.length>0?", expected one of type ["+ie.join(", ")+"]":"";return new g("Invalid "+J+" `"+X+"` supplied to "+("`"+Z+"`"+ve+"."))}return f(V)}function R(){function S(N,q,V,te,ne){return B(N[q])?null:new g("Invalid "+te+" `"+ne+"` supplied to "+("`"+V+"`, expected a ReactNode."))}return f(S)}function H(S,N,q,V,te){return new g((S||"React class")+": "+N+" type `"+q+"."+V+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+te+"`.")}function L(S){function N(q,V,te,ne,Z){var J=q[V],X=ce(J);if(X!=="object")return new g("Invalid "+ne+" `"+Z+"` of type `"+X+"` "+("supplied to `"+te+"`, expected `object`."));for(var ie in S){var re=S[ie];if(typeof re!="function")return H(te,ne,Z,ie,T(re));var ge=re(J,ie,te,ne,Z+"."+ie,t);if(ge)return ge}return null}return f(N)}function j(S){function N(q,V,te,ne,Z){var J=q[V],X=ce(J);if(X!=="object")return new g("Invalid "+ne+" `"+Z+"` of type `"+X+"` "+("supplied to `"+te+"`, expected `object`."));var ie=e({},q[V],S);for(var re in ie){var ge=S[re];if(r(S,re)&&typeof ge!="function")return H(te,ne,Z,re,T(ge));if(!ge)return new g("Invalid "+ne+" `"+Z+"` key `"+re+"` supplied to `"+te+"`.\nBad object: "+JSON.stringify(q[V],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(S),null,"  "));var $=ge(J,re,te,ne,Z+"."+re,t);if($)return $}return null}return f(N)}function B(S){switch(typeof S){case"number":case"string":case"undefined":return!0;case"boolean":return!S;case"object":if(Array.isArray(S))return S.every(B);if(S===null||o(S))return!0;var N=d(S);if(N){var q=N.call(S),V;if(N!==S.entries){for(;!(V=q.next()).done;)if(!B(V.value))return!1}else for(;!(V=q.next()).done;){var te=V.value;if(te&&!B(te[1]))return!1}}else return!1;return!0;default:return!1}}function Y(S,N){return S==="symbol"?!0:N?N["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&N instanceof Symbol:!1}function ce(S){var N=typeof S;return Array.isArray(S)?"array":S instanceof RegExp?"object":Y(N,S)?"symbol":N}function T(S){if(typeof S>"u"||S===null)return""+S;var N=ce(S);if(N==="object"){if(S instanceof Date)return"date";if(S instanceof RegExp)return"regexp"}return N}function P(S){var N=T(S);switch(N){case"array":case"object":return"an "+N;case"boolean":case"date":case"regexp":return"a "+N;default:return N}}function M(S){return!S.constructor||!S.constructor.name?p:S.constructor.name}return m.checkPropTypes=s,m.resetWarningCache=s.resetWarningCache,m.PropTypes=m,m},Hr}var jr,Li;function cm(){if(Li)return jr;Li=1;var n=zs();function e(){}function t(){}return t.resetWarningCache=e,jr=function(){function r(i,o,u,l,c,d){if(d!==n){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},jr}if(process.env.NODE_ENV!=="production"){var lm=ic(),um=!0;hs.exports=om()(lm.isElement,um)}else hs.exports=cm()();var dm=hs.exports;const Ae=Yi(dm);function Ot(n,e,t,r){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(c){try{l(r.next(c))}catch(d){i(d)}}function u(c){try{l(r.throw(c))}catch(d){i(d)}}function l(c){c.done?a(c.value):s(c.value).then(o,u)}l((r=r.apply(n,e||[])).next())})}function Nt(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(t=0)),t;)try{if(r=1,s&&(a=l[0]&2?s.return:l[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,l[1])).done)return a;switch(s=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,s=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){t.label=l[1];break}if(l[0]===6&&t.label<a[1]){t.label=a[1],a=l;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(l);break}a[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(c){l=[6,c],s=0}finally{r=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Pi(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(o){i={error:o}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(i)throw i.error}}return a}function Bi(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var pm=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function rn(n,e){var t=mm(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function mm(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),s=pm.get(r);s&&Object.defineProperty(n,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return n}var hm=[".DS_Store","Thumbs.db"];function gm(n){return Ot(this,void 0,void 0,function(){return Nt(this,function(e){return zn(n)&&fm(n.dataTransfer)?[2,Em(n.dataTransfer,n.type)]:bm(n)?[2,ym(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,vm(n)]:[2,[]]})})}function fm(n){return zn(n)}function bm(n){return zn(n)&&zn(n.target)}function zn(n){return typeof n=="object"&&n!==null}function ym(n){return gs(n.target.files).map(function(e){return rn(e)})}function vm(n){return Ot(this,void 0,void 0,function(){var e;return Nt(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return rn(r)})]}})})}function Em(n,e){return Ot(this,void 0,void 0,function(){var t,r;return Nt(this,function(s){switch(s.label){case 0:return n.items?(t=gs(n.items).filter(function(a){return a.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(wm))]):[3,2];case 1:return r=s.sent(),[2,zi(cc(r))];case 2:return[2,zi(gs(n.files).map(function(a){return rn(a)}))]}})})}function zi(n){return n.filter(function(e){return hm.indexOf(e.name)===-1})}function gs(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function wm(n){if(typeof n.webkitGetAsEntry!="function")return Fi(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?lc(e):Fi(n)}function cc(n){return n.reduce(function(e,t){return Bi(Bi([],Pi(e),!1),Pi(Array.isArray(t)?cc(t):[t]),!1)},[])}function Fi(n){var e=n.getAsFile();if(!e)return Promise.reject("".concat(n," is not a File"));var t=rn(e);return Promise.resolve(t)}function xm(n){return Ot(this,void 0,void 0,function(){return Nt(this,function(e){return[2,n.isDirectory?lc(n):km(n)]})})}function lc(n){var e=n.createReader();return new Promise(function(t,r){var s=[];function a(){var i=this;e.readEntries(function(o){return Ot(i,void 0,void 0,function(){var u,l,c;return Nt(this,function(d){switch(d.label){case 0:if(o.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(s)];case 2:return u=d.sent(),t(u),[3,4];case 3:return l=d.sent(),r(l),[3,4];case 4:return[3,6];case 5:c=Promise.all(o.map(xm)),s.push(c),a(),d.label=6;case 6:return[2]}})})},function(o){r(o)})}a()})}function km(n){return Ot(this,void 0,void 0,function(){return Nt(this,function(e){return[2,new Promise(function(t,r){n.file(function(s){var a=rn(s,n.fullPath);t(a)},function(s){r(s)})})]})})}var Sm=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",s=(n.type||"").toLowerCase(),a=s.replace(/\/.*$/,"");return t.some(function(i){var o=i.trim().toLowerCase();return o.charAt(0)==="."?r.toLowerCase().endsWith(o):o.endsWith("/*")?a===o.replace(/\/.*$/,""):s===o})}return!0};function Ui(n){return Tm(n)||Cm(n)||dc(n)||_m()}function _m(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cm(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Tm(n){if(Array.isArray(n))return fs(n)}function $i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Hi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$i(Object(t),!0).forEach(function(r){uc(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$i(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uc(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Vt(n,e){return Im(n)||Rm(n,e)||dc(n,e)||Am()}function Am(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dc(n,e){if(n){if(typeof n=="string")return fs(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fs(n,e)}}function fs(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Rm(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],s=!0,a=!1,i,o;try{for(t=t.call(n);!(s=(i=t.next()).done)&&(r.push(i.value),!(e&&r.length===e));s=!0);}catch(u){a=!0,o=u}finally{try{!s&&t.return!=null&&t.return()}finally{if(a)throw o}}return r}}function Im(n){if(Array.isArray(n))return n}var Om="file-invalid-type",Nm="file-too-large",Mm="file-too-small",Dm="too-many-files",Lm=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Om,message:"File type must be ".concat(t)}},ji=function(e){return{code:Nm,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},qi=function(e){return{code:Mm,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Pm={code:Dm,message:"Too many files"};function pc(n,e){var t=n.type==="application/x-moz-file"||Sm(n,e);return[t,t?null:Lm(e)]}function mc(n,e,t){if(vt(n.size))if(vt(e)&&vt(t)){if(n.size>t)return[!1,ji(t)];if(n.size<e)return[!1,qi(e)]}else{if(vt(e)&&n.size<e)return[!1,qi(e)];if(vt(t)&&n.size>t)return[!1,ji(t)]}return[!0,null]}function vt(n){return n!=null}function Bm(n){var e=n.files,t=n.accept,r=n.minSize,s=n.maxSize,a=n.multiple,i=n.maxFiles,o=n.validator;return!a&&e.length>1||a&&i>=1&&e.length>i?!1:e.every(function(u){var l=pc(u,t),c=Vt(l,1),d=c[0],p=mc(u,r,s),m=Vt(p,1),h=m[0],g=o?o(u):null;return d&&h&&!g})}function Fn(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function xn(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function Ki(n){n.preventDefault()}function zm(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Fm(n){return n.indexOf("Edge/")!==-1}function Um(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return zm(n)||Fm(n)}function et(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];return e.some(function(o){return!Fn(r)&&o&&o.apply(void 0,[r].concat(a)),Fn(r)})}}function $m(){return"showOpenFilePicker"in window}function Hm(n){if(vt(n)){var e=Object.entries(n).filter(function(t){var r=Vt(t,2),s=r[0],a=r[1],i=!0;return hc(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(a)||!a.every(gc))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(t,r){var s=Vt(r,2),a=s[0],i=s[1];return Hi(Hi({},t),{},uc({},a,i))},{});return[{description:"Files",accept:e}]}return n}function jm(n){if(vt(n))return Object.entries(n).reduce(function(e,t){var r=Vt(t,2),s=r[0],a=r[1];return[].concat(Ui(e),[s],Ui(a))},[]).filter(function(e){return hc(e)||gc(e)}).join(",")}function qm(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function Km(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function hc(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||/\w+\/[-+.\w]+/g.test(n)}function gc(n){return/^.*\.[\w]+$/.test(n)}var Gm=["children"],Wm=["open"],Ym=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Zm=["refKey","onChange","onClick"];function Qm(n){return Jm(n)||Vm(n)||fc(n)||Xm()}function Xm(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vm(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Jm(n){if(Array.isArray(n))return bs(n)}function qr(n,e){return nh(n)||th(n,e)||fc(n,e)||eh()}function eh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fc(n,e){if(n){if(typeof n=="string")return bs(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bs(n,e)}}function bs(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function th(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],s=!0,a=!1,i,o;try{for(t=t.call(n);!(s=(i=t.next()).done)&&(r.push(i.value),!(e&&r.length===e));s=!0);}catch(u){a=!0,o=u}finally{try{!s&&t.return!=null&&t.return()}finally{if(a)throw o}}return r}}function nh(n){if(Array.isArray(n))return n}function Gi(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Ne(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gi(Object(t),!0).forEach(function(r){ys(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Gi(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ys(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Un(n,e){if(n==null)return{};var t=rh(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function rh(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}var Fs=E.forwardRef(function(n,e){var t=n.children,r=Un(n,Gm),s=yc(r),a=s.open,i=Un(s,Wm);return E.useImperativeHandle(e,function(){return{open:a}},[a]),E.createElement(E.Fragment,null,t(Ne(Ne({},i),{},{open:a})))});Fs.displayName="Dropzone";var bc={disabled:!1,getFilesFromEvent:gm,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Fs.defaultProps=bc;Fs.propTypes={children:Ae.func,accept:Ae.objectOf(Ae.arrayOf(Ae.string)),multiple:Ae.bool,preventDropOnDocument:Ae.bool,noClick:Ae.bool,noKeyboard:Ae.bool,noDrag:Ae.bool,noDragEventsBubbling:Ae.bool,minSize:Ae.number,maxSize:Ae.number,maxFiles:Ae.number,disabled:Ae.bool,getFilesFromEvent:Ae.func,onFileDialogCancel:Ae.func,onFileDialogOpen:Ae.func,useFsAccessApi:Ae.bool,autoFocus:Ae.bool,onDragEnter:Ae.func,onDragLeave:Ae.func,onDragOver:Ae.func,onDrop:Ae.func,onDropAccepted:Ae.func,onDropRejected:Ae.func,onError:Ae.func,validator:Ae.func};var vs={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function yc(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Ne(Ne({},bc),n),t=e.accept,r=e.disabled,s=e.getFilesFromEvent,a=e.maxSize,i=e.minSize,o=e.multiple,u=e.maxFiles,l=e.onDragEnter,c=e.onDragLeave,d=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,h=e.onDropRejected,g=e.onFileDialogCancel,f=e.onFileDialogOpen,w=e.useFsAccessApi,b=e.autoFocus,y=e.preventDropOnDocument,_=e.noClick,x=e.noKeyboard,I=e.noDrag,F=e.noDragEventsBubbling,O=e.onError,A=e.validator,R=E.useMemo(function(){return jm(t)},[t]),H=E.useMemo(function(){return Hm(t)},[t]),L=E.useMemo(function(){return typeof f=="function"?f:Wi},[f]),j=E.useMemo(function(){return typeof g=="function"?g:Wi},[g]),B=E.useRef(null),Y=E.useRef(null),ce=E.useReducer(sh,vs),T=qr(ce,2),P=T[0],M=T[1],S=P.isFocused,N=P.isFileDialogActive,q=E.useRef(typeof window<"u"&&window.isSecureContext&&w&&$m()),V=function(){!q.current&&N&&setTimeout(function(){if(Y.current){var ee=Y.current.files;ee.length||(M({type:"closeDialog"}),j())}},300)};E.useEffect(function(){return window.addEventListener("focus",V,!1),function(){window.removeEventListener("focus",V,!1)}},[Y,N,j,q]);var te=E.useRef([]),ne=function(ee){B.current&&B.current.contains(ee.target)||(ee.preventDefault(),te.current=[])};E.useEffect(function(){return y&&(document.addEventListener("dragover",Ki,!1),document.addEventListener("drop",ne,!1)),function(){y&&(document.removeEventListener("dragover",Ki),document.removeEventListener("drop",ne))}},[B,y]),E.useEffect(function(){return!r&&b&&B.current&&B.current.focus(),function(){}},[B,b,r]);var Z=E.useCallback(function(z){O?O(z):console.error(z)},[O]),J=E.useCallback(function(z){z.preventDefault(),z.persist(),Ee(z),te.current=[].concat(Qm(te.current),[z.target]),xn(z)&&Promise.resolve(s(z)).then(function(ee){if(!(Fn(z)&&!F)){var me=ee.length,D=me>0&&Bm({files:ee,accept:R,minSize:i,maxSize:a,multiple:o,maxFiles:u,validator:A}),G=me>0&&!D;M({isDragAccept:D,isDragReject:G,isDragActive:!0,type:"setDraggedFiles"}),l&&l(z)}}).catch(function(ee){return Z(ee)})},[s,l,Z,F,R,i,a,o,u,A]),X=E.useCallback(function(z){z.preventDefault(),z.persist(),Ee(z);var ee=xn(z);if(ee&&z.dataTransfer)try{z.dataTransfer.dropEffect="copy"}catch{}return ee&&d&&d(z),!1},[d,F]),ie=E.useCallback(function(z){z.preventDefault(),z.persist(),Ee(z);var ee=te.current.filter(function(D){return B.current&&B.current.contains(D)}),me=ee.indexOf(z.target);me!==-1&&ee.splice(me,1),te.current=ee,!(ee.length>0)&&(M({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),xn(z)&&c&&c(z))},[B,c,F]),re=E.useCallback(function(z,ee){var me=[],D=[];z.forEach(function(G){var oe=pc(G,R),pe=qr(oe,2),Re=pe[0],ze=pe[1],nt=mc(G,i,a),Qe=qr(nt,2),dt=Qe[0],pt=Qe[1],mt=A?A(G):null;if(Re&&dt&&!mt)me.push(G);else{var ye=[ze,pt];mt&&(ye=ye.concat(mt)),D.push({file:G,errors:ye.filter(function(Xe){return Xe})})}}),(!o&&me.length>1||o&&u>=1&&me.length>u)&&(me.forEach(function(G){D.push({file:G,errors:[Pm]})}),me.splice(0)),M({acceptedFiles:me,fileRejections:D,type:"setFiles"}),p&&p(me,D,ee),D.length>0&&h&&h(D,ee),me.length>0&&m&&m(me,ee)},[M,o,R,i,a,u,p,m,h,A]),ge=E.useCallback(function(z){z.preventDefault(),z.persist(),Ee(z),te.current=[],xn(z)&&Promise.resolve(s(z)).then(function(ee){Fn(z)&&!F||re(ee,z)}).catch(function(ee){return Z(ee)}),M({type:"reset"})},[s,re,Z,F]),$=E.useCallback(function(){if(q.current){M({type:"openDialog"}),L();var z={multiple:o,types:H};window.showOpenFilePicker(z).then(function(ee){return s(ee)}).then(function(ee){re(ee,null),M({type:"closeDialog"})}).catch(function(ee){qm(ee)?(j(ee),M({type:"closeDialog"})):Km(ee)?(q.current=!1,Y.current?(Y.current.value=null,Y.current.click()):Z(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Z(ee)});return}Y.current&&(M({type:"openDialog"}),L(),Y.current.value=null,Y.current.click())},[M,L,j,w,re,Z,H,o]),ve=E.useCallback(function(z){!B.current||!B.current.isEqualNode(z.target)||(z.key===" "||z.key==="Enter"||z.keyCode===32||z.keyCode===13)&&(z.preventDefault(),$())},[B,$]),De=E.useCallback(function(){M({type:"focus"})},[]),Be=E.useCallback(function(){M({type:"blur"})},[]),C=E.useCallback(function(){_||(Um()?setTimeout($,0):$())},[_,$]),W=function(ee){return r?null:ee},ae=function(ee){return x?null:W(ee)},K=function(ee){return I?null:W(ee)},Ee=function(ee){F&&ee.stopPropagation()},le=E.useMemo(function(){return function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=z.refKey,me=ee===void 0?"ref":ee,D=z.role,G=z.onKeyDown,oe=z.onFocus,pe=z.onBlur,Re=z.onClick,ze=z.onDragEnter,nt=z.onDragOver,Qe=z.onDragLeave,dt=z.onDrop,pt=Un(z,Ym);return Ne(Ne(ys({onKeyDown:ae(et(G,ve)),onFocus:ae(et(oe,De)),onBlur:ae(et(pe,Be)),onClick:W(et(Re,C)),onDragEnter:K(et(ze,J)),onDragOver:K(et(nt,X)),onDragLeave:K(et(Qe,ie)),onDrop:K(et(dt,ge)),role:typeof D=="string"&&D!==""?D:"presentation"},me,B),!r&&!x?{tabIndex:0}:{}),pt)}},[B,ve,De,Be,C,J,X,ie,ge,x,I,r]),se=E.useCallback(function(z){z.stopPropagation()},[]),Ce=E.useMemo(function(){return function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=z.refKey,me=ee===void 0?"ref":ee,D=z.onChange,G=z.onClick,oe=Un(z,Zm),pe=ys({accept:R,multiple:o,type:"file",style:{display:"none"},onChange:W(et(D,ge)),onClick:W(et(G,se)),tabIndex:-1},me,Y);return Ne(Ne({},pe),oe)}},[Y,t,o,ge,r]);return Ne(Ne({},P),{},{isFocused:S&&!r,getRootProps:le,getInputProps:Ce,rootRef:B,inputRef:Y,open:W($)})}function sh(n,e){switch(e.type){case"focus":return Ne(Ne({},n),{},{isFocused:!0});case"blur":return Ne(Ne({},n),{},{isFocused:!1});case"openDialog":return Ne(Ne({},vs),{},{isFileDialogActive:!0});case"closeDialog":return Ne(Ne({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return Ne(Ne({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Ne(Ne({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Ne({},vs);default:return n}}function Wi(){}const ah=E.memo(n=>{var O,A;const[e]=E.useState(n.messages),t=n.advancedOptions||{},r=t.conversationOptions||{layout:"bubbles"},[s,a]=E.useState([]),{adapter:i,threadId:o,messageId:u}=ud({...n,files:s}),{controls:l}=n,[c,d]=E.useState(new Map),p=(R,H)=>{d(L=>new Map(L.set(R,H)))},m=R=>{const{prompt:H,uid:L}=R,j=c.get(L);return k.jsxs("div",{className:"rounded-lg shadow-sm",children:[k.jsx("span",{className:"block",children:H}),j&&k.jsx("div",{className:"mt-2",children:k.jsx(md,{files:j})})]})},h=E.memo(R=>{const[H,L]=E.useState(),[j,B]=E.useState(),Y=async ce=>{var P;let T;if(R.dataTransferMode==="stream"){if(!o||!u){B("streaming message doesnt have thread and messageIds");return}T={thread_id:o,message_id:u,score:ce}}else{let M=(P=R.serverResponse)==null?void 0:P[0];if(M)T={thread_id:M.threadId,message_id:M.messageId,score:ce};else{B("message doesnt have thread and messageIds");return}}try{const M=await Wo(n),S=n.serverUrl||Go;if(!(await fetch(`${S}/threads/score`,{method:"POST",headers:M,body:JSON.stringify(T)})).ok)throw new Error("Failed to record score");L(ce)}catch(M){B(M.toString()),console.error("Error recording score:",M)}};return k.jsxs("div",{className:"",children:[R.dataTransferMode==="batch"&&k.jsx(Fo,{children:R.content}),R.dataTransferMode==="stream"&&k.jsx("div",{className:"p-2 rounded-lg",ref:R.containerRef}),k.jsxs("div",{className:"flex items-center justify-start space-x-1",children:[k.jsxs("button",{className:" hover:bg-gray-600 hover:text-white rounded focus:outline-none",onClick:()=>Y(1),children:[H==null&&k.jsx(Ed,{className:"h-4 w-4"}),H===1&&k.jsx(Sd,{className:"h-4 w-4 animate-fadeIn"})]}),k.jsxs("button",{className:"p-2 hover:bg-gray-600 rounded focus:outline-none",onClick:()=>Y(-1),children:[H==null&&k.jsx(yd,{className:"h-4 w-4"}),H===-1&&k.jsx(xd,{className:"h-4 w-4 animate-fadeIn"})]})]}),j&&k.jsx("div",{className:"text-red text-xs animate-fadeIn p-2 rounded-md",children:j})]})}),g=Object.assign({},{colorScheme:"light",themeId:"langdb"},t.displayOptions),f=t.composerOptions||{placeholder:"How can i help you today ?"},w=Object.assign({},{assistant:Object.assign({},{name:"LangDB",tagline:`
              Easily build and deploy AI agents with SQL.
              Customize with our React widget on`,avatar:k.jsx(pd,{})},(O=n.personaOptions)==null?void 0:O.assistant),user:Object.assign({},{name:"User",avatar:k.jsx(Ju,{})})},(A=n.personaOptions)==null?void 0:A.user),b=E.useCallback(R=>{s&&(p(R.uid,[...s]),a([]))},[p]),y=E.useCallback(()=>{},[]),_=E.useCallback(R=>{a(H=>[...H,...R.map(L=>Object.assign(L,{preview:URL.createObjectURL(L)}))])},[]),{getRootProps:x,isDragActive:I}=yc({onDrop:_,noClick:!0,noKeyboard:!0}),F=n.className||"";return k.jsxs("div",{className:"flex flex-col w-[100%] h-full dropzone",...x(),children:[(l==null?void 0:l.enableFiles)&&k.jsxs(k.Fragment,{children:[I&&k.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center z-50 bg-white bg-opacity-75 dark:bg-darkContainer dark:bg-opacity-75",children:k.jsxs("div",{className:"text-center flex flex-col items-center",children:[k.jsx(fd,{className:"h-12 w-12 text-primary dark:text-gray-200 mb-4 animate-bounce"}),k.jsx("p",{className:"text-lg font-semibold text-primary dark:text-gray-200 w-[400px] mx-auto",children:"Drop your images here to enhance your query with visual insights."})]})}),k.jsx(hd,{files:s,setFiles:a})]}),k.jsx("div",{className:`flex-1 w-full relative ${I?"hidden":""}`,children:k.jsx("main",{className:`items-center justify-between  ${F} h-full absolute`,style:n.style||{},children:k.jsx(zo,{adapter:i,initialConversation:e,events:{messageSent:b,messageStreamStarted:y},messageOptions:{promptRenderer:m,responseRenderer:h,syntaxHighlighter:nm},personaOptions:w,conversationOptions:r,displayOptions:g,composerOptions:f,...t})})})]})});function Kr(...n){return n.filter(Boolean).join(" ")}const ih=n=>{const{onMinimize:e,onMaximize:t,btnClassName:r,theme:s,children:a,title:i,maximizedPanelClassName:o,maximizedPanelStyle:u,showFullScreen:l,controls:c}=n,[d,p]=E.useState(!1),[m,h]=E.useState(l||!1),g=E.useCallback(()=>{p(f=>!f)},[]);return k.jsxs("div",{className:Kr(s||"dark"),children:[d&&k.jsxs("div",{style:m?u:{},className:Kr("light:text-slate-900 dark:text-white flex flex-1 bg-white dark:bg-darkContainer flex-col absolute p-[10px] pt-[0px]",m?o||"h-full w-full bottom-0 right-0":"rounded border shadow-md h-[60vh] w-[40vw] min-h-[500px] bottom-16 right-16"),children:[k.jsxs("div",{className:"border-b py-[5px] flex justify-center items-center",style:{zIndex:"99999"},children:[k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{onClick:()=>{p(!1),e&&e()},children:k.jsx(oh,{})}),!(c!=null&&c.hideMaximise)&&k.jsx("button",{onClick:()=>{h(f=>!f),t&&t()},children:m?k.jsx(lh,{}):k.jsx(ch,{})})]}),k.jsx("div",{className:"flex flex-1 justify-center",children:i})]}),k.jsx("div",{className:"flex flex-1 overflow-scroll ",children:a})]}),!d&&k.jsx("button",{className:Kr(r||"","fixed text-white bg-primary hover:bg-primary-800 bottom-5 right-5 flex w-[50px] hover:scale-110 scale-100 h-[50px] justify-center items-center p-[10px] rounded-full cursor-pointer shadow-none hover:shadow-xl transition ease-in-out"),onClick:g,children:k.jsx(vc,{})})]})},vc=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:k.jsx("path",{strokeLinecap:"round","stroke-linejoin":"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})}),oh=()=>k.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M19 13H5v-2h14v2z"})}),ch=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8.25V18a2.25 2.25 0 0 0 2.25 2.25h13.5A2.25 2.25 0 0 0 21 18V8.25m-18 0V6a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 6v2.25m-18 0h18M5.25 6h.008v.008H5.25V6ZM7.5 6h.008v.008H7.5V6Zm2.25 0h.008v.008H9.75V6Z"})}),lh=()=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"})});exports.AiChat=zo;exports.AiChatUI=ds;exports.ChatIcon=vc;exports.FloatingChatWidget=ih;exports.ImageDetail=qo;exports.Markdown=Fo;exports.MessageContentType=Ho;exports.MessageType=jo;exports.Widget=ah;exports.createAiContext=ju;exports.createInnerMessage=Ko;exports.useAiChatApi=Bu;exports.useAiContext=$u;exports.useAiTask=Hu;exports.useAsBatchAdapter=zu;exports.useAsRscAdapter=Uu;exports.useAsStreamAdapter=Fu;exports.useDeepCompareEffect=qu;
//# sourceMappingURL=index.cjs.js.map
